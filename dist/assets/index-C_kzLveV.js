(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();function Hp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Jd={exports:{}},Xr={},$d={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qo=Symbol.for("react.element"),Bp=Symbol.for("react.portal"),zp=Symbol.for("react.fragment"),Jp=Symbol.for("react.strict_mode"),$p=Symbol.for("react.profiler"),Op=Symbol.for("react.provider"),Wp=Symbol.for("react.context"),Kp=Symbol.for("react.forward_ref"),Yp=Symbol.for("react.suspense"),Qp=Symbol.for("react.memo"),Xp=Symbol.for("react.lazy"),Zs=Symbol.iterator;function Zp(n){return n===null||typeof n!="object"?null:(n=Zs&&n[Zs]||n["@@iterator"],typeof n=="function"?n:null)}var Od={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wd=Object.assign,Kd={};function $t(n,e,t){this.props=n,this.context=e,this.refs=Kd,this.updater=t||Od}$t.prototype.isReactComponent={};$t.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};$t.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Yd(){}Yd.prototype=$t.prototype;function Ql(n,e,t){this.props=n,this.context=e,this.refs=Kd,this.updater=t||Od}var Xl=Ql.prototype=new Yd;Xl.constructor=Ql;Wd(Xl,$t.prototype);Xl.isPureReactComponent=!0;var bs=Array.isArray,Qd=Object.prototype.hasOwnProperty,Zl={current:null},Xd={key:!0,ref:!0,__self:!0,__source:!0};function Zd(n,e,t){var o,r={},i=null,s=null;if(e!=null)for(o in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)Qd.call(e,o)&&!Xd.hasOwnProperty(o)&&(r[o]=e[o]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var d=Array(a),c=0;c<a;c++)d[c]=arguments[c+2];r.children=d}if(n&&n.defaultProps)for(o in a=n.defaultProps,a)r[o]===void 0&&(r[o]=a[o]);return{$$typeof:qo,type:n,key:i,ref:s,props:r,_owner:Zl.current}}function bp(n,e){return{$$typeof:qo,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function bl(n){return typeof n=="object"&&n!==null&&n.$$typeof===qo}function jp(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var js=/\/+/g;function vi(n,e){return typeof n=="object"&&n!==null&&n.key!=null?jp(""+n.key):e.toString(36)}function ar(n,e,t,o,r){var i=typeof n;(i==="undefined"||i==="boolean")&&(n=null);var s=!1;if(n===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(n.$$typeof){case qo:case Bp:s=!0}}if(s)return s=n,r=r(s),n=o===""?"."+vi(s,0):o,bs(r)?(t="",n!=null&&(t=n.replace(js,"$&/")+"/"),ar(r,e,t,"",function(c){return c})):r!=null&&(bl(r)&&(r=bp(r,t+(!r.key||s&&s.key===r.key?"":(""+r.key).replace(js,"$&/")+"/")+n)),e.push(r)),1;if(s=0,o=o===""?".":o+":",bs(n))for(var a=0;a<n.length;a++){i=n[a];var d=o+vi(i,a);s+=ar(i,e,t,d,r)}else if(d=Zp(n),typeof d=="function")for(n=d.call(n),a=0;!(i=n.next()).done;)i=i.value,d=o+vi(i,a++),s+=ar(i,e,t,d,r);else if(i==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Wo(n,e,t){if(n==null)return n;var o=[],r=0;return ar(n,o,"","",function(i){return e.call(t,i,r++)}),o}function em(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ce={current:null},dr={transition:null},nm={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:dr,ReactCurrentOwner:Zl};function bd(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:Wo,forEach:function(n,e,t){Wo(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Wo(n,function(){e++}),e},toArray:function(n){return Wo(n,function(e){return e})||[]},only:function(n){if(!bl(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};V.Component=$t;V.Fragment=zp;V.Profiler=$p;V.PureComponent=Ql;V.StrictMode=Jp;V.Suspense=Yp;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nm;V.act=bd;V.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var o=Wd({},n.props),r=n.key,i=n.ref,s=n._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=Zl.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(d in e)Qd.call(e,d)&&!Xd.hasOwnProperty(d)&&(o[d]=e[d]===void 0&&a!==void 0?a[d]:e[d])}var d=arguments.length-2;if(d===1)o.children=t;else if(1<d){a=Array(d);for(var c=0;c<d;c++)a[c]=arguments[c+2];o.children=a}return{$$typeof:qo,type:n.type,key:r,ref:i,props:o,_owner:s}};V.createContext=function(n){return n={$$typeof:Wp,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Op,_context:n},n.Consumer=n};V.createElement=Zd;V.createFactory=function(n){var e=Zd.bind(null,n);return e.type=n,e};V.createRef=function(){return{current:null}};V.forwardRef=function(n){return{$$typeof:Kp,render:n}};V.isValidElement=bl;V.lazy=function(n){return{$$typeof:Xp,_payload:{_status:-1,_result:n},_init:em}};V.memo=function(n,e){return{$$typeof:Qp,type:n,compare:e===void 0?null:e}};V.startTransition=function(n){var e=dr.transition;dr.transition={};try{n()}finally{dr.transition=e}};V.unstable_act=bd;V.useCallback=function(n,e){return Ce.current.useCallback(n,e)};V.useContext=function(n){return Ce.current.useContext(n)};V.useDebugValue=function(){};V.useDeferredValue=function(n){return Ce.current.useDeferredValue(n)};V.useEffect=function(n,e){return Ce.current.useEffect(n,e)};V.useId=function(){return Ce.current.useId()};V.useImperativeHandle=function(n,e,t){return Ce.current.useImperativeHandle(n,e,t)};V.useInsertionEffect=function(n,e){return Ce.current.useInsertionEffect(n,e)};V.useLayoutEffect=function(n,e){return Ce.current.useLayoutEffect(n,e)};V.useMemo=function(n,e){return Ce.current.useMemo(n,e)};V.useReducer=function(n,e,t){return Ce.current.useReducer(n,e,t)};V.useRef=function(n){return Ce.current.useRef(n)};V.useState=function(n){return Ce.current.useState(n)};V.useSyncExternalStore=function(n,e,t){return Ce.current.useSyncExternalStore(n,e,t)};V.useTransition=function(){return Ce.current.useTransition()};V.version="18.3.1";$d.exports=V;var G=$d.exports;const tm=Hp(G);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om=G,rm=Symbol.for("react.element"),im=Symbol.for("react.fragment"),lm=Object.prototype.hasOwnProperty,sm=om.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,um={key:!0,ref:!0,__self:!0,__source:!0};function jd(n,e,t){var o,r={},i=null,s=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(o in e)lm.call(e,o)&&!um.hasOwnProperty(o)&&(r[o]=e[o]);if(n&&n.defaultProps)for(o in e=n.defaultProps,e)r[o]===void 0&&(r[o]=e[o]);return{$$typeof:rm,type:n,key:i,ref:s,props:r,_owner:sm.current}}Xr.Fragment=im;Xr.jsx=jd;Xr.jsxs=jd;Jd.exports=Xr;var _=Jd.exports,Ki={},ec={exports:{}},Ve={},nc={exports:{}},tc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(M,U){var F=M.length;M.push(U);e:for(;0<F;){var Z=F-1>>>1,te=M[Z];if(0<r(te,U))M[Z]=U,M[F]=te,F=Z;else break e}}function t(M){return M.length===0?null:M[0]}function o(M){if(M.length===0)return null;var U=M[0],F=M.pop();if(F!==U){M[0]=F;e:for(var Z=0,te=M.length,cn=te>>>1;Z<cn;){var on=2*(Z+1)-1,An=M[on],Ee=on+1,Qn=M[Ee];if(0>r(An,F))Ee<te&&0>r(Qn,An)?(M[Z]=Qn,M[Ee]=F,Z=Ee):(M[Z]=An,M[on]=F,Z=on);else if(Ee<te&&0>r(Qn,F))M[Z]=Qn,M[Ee]=F,Z=Ee;else break e}}return U}function r(M,U){var F=M.sortIndex-U.sortIndex;return F!==0?F:M.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();n.unstable_now=function(){return s.now()-a}}var d=[],c=[],f=1,p=null,m=3,g=!1,T=!1,E=!1,P=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(M){for(var U=t(c);U!==null;){if(U.callback===null)o(c);else if(U.startTime<=M)o(c),U.sortIndex=U.expirationTime,e(d,U);else break;U=t(c)}}function S(M){if(E=!1,y(M),!T)if(t(d)!==null)T=!0,Te(C);else{var U=t(c);U!==null&&Ye(S,U.startTime-M)}}function C(M,U){T=!1,E&&(E=!1,v(N),N=-1),g=!0;var F=m;try{for(y(U),p=t(d);p!==null&&(!(p.expirationTime>U)||M&&!B());){var Z=p.callback;if(typeof Z=="function"){p.callback=null,m=p.priorityLevel;var te=Z(p.expirationTime<=U);U=n.unstable_now(),typeof te=="function"?p.callback=te:p===t(d)&&o(d),y(U)}else o(d);p=t(d)}if(p!==null)var cn=!0;else{var on=t(c);on!==null&&Ye(S,on.startTime-U),cn=!1}return cn}finally{p=null,m=F,g=!1}}var I=!1,w=null,N=-1,D=5,k=-1;function B(){return!(n.unstable_now()-k<D)}function z(){if(w!==null){var M=n.unstable_now();k=M;var U=!0;try{U=w(!0,M)}finally{U?se():(I=!1,w=null)}}else I=!1}var se;if(typeof h=="function")se=function(){h(z)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,ft=ke.port2;ke.port1.onmessage=z,se=function(){ft.postMessage(null)}}else se=function(){P(z,0)};function Te(M){w=M,I||(I=!0,se())}function Ye(M,U){N=P(function(){M(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(M){M.callback=null},n.unstable_continueExecution=function(){T||g||(T=!0,Te(C))},n.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<M?Math.floor(1e3/M):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(M){switch(m){case 1:case 2:case 3:var U=3;break;default:U=m}var F=m;m=U;try{return M()}finally{m=F}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(M,U){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var F=m;m=M;try{return U()}finally{m=F}},n.unstable_scheduleCallback=function(M,U,F){var Z=n.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?Z+F:Z):F=Z,M){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=F+te,M={id:f++,callback:U,priorityLevel:M,startTime:F,expirationTime:te,sortIndex:-1},F>Z?(M.sortIndex=F,e(c,M),t(d)===null&&M===t(c)&&(E?(v(N),N=-1):E=!0,Ye(S,F-Z))):(M.sortIndex=te,e(d,M),T||g||(T=!0,Te(C))),M},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(M){var U=m;return function(){var F=m;m=U;try{return M.apply(this,arguments)}finally{m=F}}}})(tc);nc.exports=tc;var am=nc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm=G,Fe=am;function A(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oc=new Set,_o={};function at(n,e){Ft(n,e),Ft(n+"Capture",e)}function Ft(n,e){for(_o[n]=e,n=0;n<e.length;n++)oc.add(e[n])}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yi=Object.prototype.hasOwnProperty,cm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eu={},nu={};function fm(n){return Yi.call(nu,n)?!0:Yi.call(eu,n)?!1:cm.test(n)?nu[n]=!0:(eu[n]=!0,!1)}function pm(n,e,t,o){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function mm(n,e,t,o){if(e===null||typeof e>"u"||pm(n,e,t,o))return!0;if(o)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ie(n,e,t,o,r,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){fe[n]=new Ie(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];fe[e]=new Ie(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){fe[n]=new Ie(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){fe[n]=new Ie(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){fe[n]=new Ie(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){fe[n]=new Ie(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){fe[n]=new Ie(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){fe[n]=new Ie(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){fe[n]=new Ie(n,5,!1,n.toLowerCase(),null,!1,!1)});var jl=/[\-:]([a-z])/g;function es(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(jl,es);fe[e]=new Ie(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(jl,es);fe[e]=new Ie(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(jl,es);fe[e]=new Ie(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){fe[n]=new Ie(n,1,!1,n.toLowerCase(),null,!1,!1)});fe.xlinkHref=new Ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){fe[n]=new Ie(n,1,!1,n.toLowerCase(),null,!0,!0)});function ns(n,e,t,o){var r=fe.hasOwnProperty(e)?fe[e]:null;(r!==null?r.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mm(e,t,r,o)&&(t=null),o||r===null?fm(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,o=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,o?n.setAttributeNS(o,e,t):n.setAttribute(e,t))))}var Cn=dm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ko=Symbol.for("react.element"),mt=Symbol.for("react.portal"),ht=Symbol.for("react.fragment"),ts=Symbol.for("react.strict_mode"),Qi=Symbol.for("react.profiler"),rc=Symbol.for("react.provider"),ic=Symbol.for("react.context"),os=Symbol.for("react.forward_ref"),Xi=Symbol.for("react.suspense"),Zi=Symbol.for("react.suspense_list"),rs=Symbol.for("react.memo"),Rn=Symbol.for("react.lazy"),lc=Symbol.for("react.offscreen"),tu=Symbol.iterator;function bt(n){return n===null||typeof n!="object"?null:(n=tu&&n[tu]||n["@@iterator"],typeof n=="function"?n:null)}var ee=Object.assign,Ti;function so(n){if(Ti===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Ti=e&&e[1]||""}return`
`+Ti+n}var Ei=!1;function Si(n,e){if(!n||Ei)return"";Ei=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var o=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){o=c}n.call(e.prototype)}else{try{throw Error()}catch(c){o=c}n()}}catch(c){if(c&&o&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),i=o.stack.split(`
`),s=r.length-1,a=i.length-1;1<=s&&0<=a&&r[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(r[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||r[s]!==i[a]){var d=`
`+r[s].replace(" at new "," at ");return n.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",n.displayName)),d}while(1<=s&&0<=a);break}}}finally{Ei=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?so(n):""}function hm(n){switch(n.tag){case 5:return so(n.type);case 16:return so("Lazy");case 13:return so("Suspense");case 19:return so("SuspenseList");case 0:case 2:case 15:return n=Si(n.type,!1),n;case 11:return n=Si(n.type.render,!1),n;case 1:return n=Si(n.type,!0),n;default:return""}}function bi(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ht:return"Fragment";case mt:return"Portal";case Qi:return"Profiler";case ts:return"StrictMode";case Xi:return"Suspense";case Zi:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ic:return(n.displayName||"Context")+".Consumer";case rc:return(n._context.displayName||"Context")+".Provider";case os:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case rs:return e=n.displayName||null,e!==null?e:bi(n.type)||"Memo";case Rn:e=n._payload,n=n._init;try{return bi(n(e))}catch{}}return null}function gm(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bi(e);case 8:return e===ts?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jn(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function sc(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ym(n){var e=sc(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),o=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,i=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(s){o=""+s,i.call(this,s)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return o},setValue:function(s){o=""+s},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Yo(n){n._valueTracker||(n._valueTracker=ym(n))}function uc(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),o="";return n&&(o=sc(n)?n.checked?"true":"false":n.value),n=o,n!==t?(e.setValue(n),!0):!1}function Cr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function ji(n,e){var t=e.checked;return ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function ou(n,e){var t=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;t=Jn(e.value!=null?e.value:t),n._wrapperState={initialChecked:o,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ac(n,e){e=e.checked,e!=null&&ns(n,"checked",e,!1)}function el(n,e){ac(n,e);var t=Jn(e.value),o=e.type;if(t!=null)o==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(o==="submit"||o==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?nl(n,e.type,t):e.hasOwnProperty("defaultValue")&&nl(n,e.type,Jn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function ru(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function nl(n,e,t){(e!=="number"||Cr(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var uo=Array.isArray;function Pt(n,e,t,o){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&o&&(n[t].defaultSelected=!0)}else{for(t=""+Jn(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,o&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function tl(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(A(91));return ee({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function iu(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(A(92));if(uo(t)){if(1<t.length)throw Error(A(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Jn(t)}}function dc(n,e){var t=Jn(e.value),o=Jn(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),o!=null&&(n.defaultValue=""+o)}function lu(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function cc(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ol(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?cc(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Qo,fc=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,o,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,o,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Qo=Qo||document.createElement("div"),Qo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qo.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Co(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var fo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vm=["Webkit","ms","Moz","O"];Object.keys(fo).forEach(function(n){vm.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),fo[e]=fo[n]})});function pc(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||fo.hasOwnProperty(n)&&fo[n]?(""+e).trim():e+"px"}function mc(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var o=t.indexOf("--")===0,r=pc(t,e[t],o);t==="float"&&(t="cssFloat"),o?n.setProperty(t,r):n[t]=r}}var Tm=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rl(n,e){if(e){if(Tm[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(A(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(A(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(A(61))}if(e.style!=null&&typeof e.style!="object")throw Error(A(62))}}function il(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ll=null;function is(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var sl=null,Rt=null,Nt=null;function su(n){if(n=zo(n)){if(typeof sl!="function")throw Error(A(280));var e=n.stateNode;e&&(e=ni(e),sl(n.stateNode,n.type,e))}}function hc(n){Rt?Nt?Nt.push(n):Nt=[n]:Rt=n}function gc(){if(Rt){var n=Rt,e=Nt;if(Nt=Rt=null,su(n),e)for(n=0;n<e.length;n++)su(e[n])}}function yc(n,e){return n(e)}function vc(){}var _i=!1;function Tc(n,e,t){if(_i)return n(e,t);_i=!0;try{return yc(n,e,t)}finally{_i=!1,(Rt!==null||Nt!==null)&&(vc(),gc())}}function Io(n,e){var t=n.stateNode;if(t===null)return null;var o=ni(t);if(o===null)return null;t=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(n=n.type,o=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!o;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(A(231,e,typeof t));return t}var ul=!1;if(vn)try{var jt={};Object.defineProperty(jt,"passive",{get:function(){ul=!0}}),window.addEventListener("test",jt,jt),window.removeEventListener("test",jt,jt)}catch{ul=!1}function Em(n,e,t,o,r,i,s,a,d){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(f){this.onError(f)}}var po=!1,Ir=null,wr=!1,al=null,Sm={onError:function(n){po=!0,Ir=n}};function _m(n,e,t,o,r,i,s,a,d){po=!1,Ir=null,Em.apply(Sm,arguments)}function Cm(n,e,t,o,r,i,s,a,d){if(_m.apply(this,arguments),po){if(po){var c=Ir;po=!1,Ir=null}else throw Error(A(198));wr||(wr=!0,al=c)}}function dt(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function Ec(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function uu(n){if(dt(n)!==n)throw Error(A(188))}function Im(n){var e=n.alternate;if(!e){if(e=dt(n),e===null)throw Error(A(188));return e!==n?null:n}for(var t=n,o=e;;){var r=t.return;if(r===null)break;var i=r.alternate;if(i===null){if(o=r.return,o!==null){t=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===t)return uu(r),n;if(i===o)return uu(r),e;i=i.sibling}throw Error(A(188))}if(t.return!==o.return)t=r,o=i;else{for(var s=!1,a=r.child;a;){if(a===t){s=!0,t=r,o=i;break}if(a===o){s=!0,o=r,t=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===t){s=!0,t=i,o=r;break}if(a===o){s=!0,o=i,t=r;break}a=a.sibling}if(!s)throw Error(A(189))}}if(t.alternate!==o)throw Error(A(190))}if(t.tag!==3)throw Error(A(188));return t.stateNode.current===t?n:e}function Sc(n){return n=Im(n),n!==null?_c(n):null}function _c(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=_c(n);if(e!==null)return e;n=n.sibling}return null}var Cc=Fe.unstable_scheduleCallback,au=Fe.unstable_cancelCallback,wm=Fe.unstable_shouldYield,Am=Fe.unstable_requestPaint,oe=Fe.unstable_now,Pm=Fe.unstable_getCurrentPriorityLevel,ls=Fe.unstable_ImmediatePriority,Ic=Fe.unstable_UserBlockingPriority,Ar=Fe.unstable_NormalPriority,Rm=Fe.unstable_LowPriority,wc=Fe.unstable_IdlePriority,Zr=null,an=null;function Nm(n){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Zr,n,void 0,(n.current.flags&128)===128)}catch{}}var je=Math.clz32?Math.clz32:km,xm=Math.log,Mm=Math.LN2;function km(n){return n>>>=0,n===0?32:31-(xm(n)/Mm|0)|0}var Xo=64,Zo=4194304;function ao(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Pr(n,e){var t=n.pendingLanes;if(t===0)return 0;var o=0,r=n.suspendedLanes,i=n.pingedLanes,s=t&268435455;if(s!==0){var a=s&~r;a!==0?o=ao(a):(i&=s,i!==0&&(o=ao(i)))}else s=t&~r,s!==0?o=ao(s):i!==0&&(o=ao(i));if(o===0)return 0;if(e!==0&&e!==o&&!(e&r)&&(r=o&-o,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(o&4&&(o|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=o;0<e;)t=31-je(e),r=1<<t,o|=n[t],e&=~r;return o}function Dm(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lm(n,e){for(var t=n.suspendedLanes,o=n.pingedLanes,r=n.expirationTimes,i=n.pendingLanes;0<i;){var s=31-je(i),a=1<<s,d=r[s];d===-1?(!(a&t)||a&o)&&(r[s]=Dm(a,e)):d<=e&&(n.expiredLanes|=a),i&=~a}}function dl(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ac(){var n=Xo;return Xo<<=1,!(Xo&4194240)&&(Xo=64),n}function Ci(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Ho(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-je(e),n[e]=t}function Um(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var o=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-je(t),i=1<<r;e[r]=0,o[r]=-1,n[r]=-1,t&=~i}}function ss(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var o=31-je(t),r=1<<o;r&e|n[o]&e&&(n[o]|=e),t&=~r}}var O=0;function Pc(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Rc,us,Nc,xc,Mc,cl=!1,bo=[],Un=null,Fn=null,Vn=null,wo=new Map,Ao=new Map,xn=[],Fm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function du(n,e){switch(n){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":wo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ao.delete(e.pointerId)}}function eo(n,e,t,o,r,i){return n===null||n.nativeEvent!==i?(n={blockedOn:e,domEventName:t,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},e!==null&&(e=zo(e),e!==null&&us(e)),n):(n.eventSystemFlags|=o,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function Vm(n,e,t,o,r){switch(e){case"focusin":return Un=eo(Un,n,e,t,o,r),!0;case"dragenter":return Fn=eo(Fn,n,e,t,o,r),!0;case"mouseover":return Vn=eo(Vn,n,e,t,o,r),!0;case"pointerover":var i=r.pointerId;return wo.set(i,eo(wo.get(i)||null,n,e,t,o,r)),!0;case"gotpointercapture":return i=r.pointerId,Ao.set(i,eo(Ao.get(i)||null,n,e,t,o,r)),!0}return!1}function kc(n){var e=jn(n.target);if(e!==null){var t=dt(e);if(t!==null){if(e=t.tag,e===13){if(e=Ec(t),e!==null){n.blockedOn=e,Mc(n.priority,function(){Nc(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function cr(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=fl(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var o=new t.constructor(t.type,t);ll=o,t.target.dispatchEvent(o),ll=null}else return e=zo(t),e!==null&&us(e),n.blockedOn=t,!1;e.shift()}return!0}function cu(n,e,t){cr(n)&&t.delete(e)}function Gm(){cl=!1,Un!==null&&cr(Un)&&(Un=null),Fn!==null&&cr(Fn)&&(Fn=null),Vn!==null&&cr(Vn)&&(Vn=null),wo.forEach(cu),Ao.forEach(cu)}function no(n,e){n.blockedOn===e&&(n.blockedOn=null,cl||(cl=!0,Fe.unstable_scheduleCallback(Fe.unstable_NormalPriority,Gm)))}function Po(n){function e(r){return no(r,n)}if(0<bo.length){no(bo[0],n);for(var t=1;t<bo.length;t++){var o=bo[t];o.blockedOn===n&&(o.blockedOn=null)}}for(Un!==null&&no(Un,n),Fn!==null&&no(Fn,n),Vn!==null&&no(Vn,n),wo.forEach(e),Ao.forEach(e),t=0;t<xn.length;t++)o=xn[t],o.blockedOn===n&&(o.blockedOn=null);for(;0<xn.length&&(t=xn[0],t.blockedOn===null);)kc(t),t.blockedOn===null&&xn.shift()}var xt=Cn.ReactCurrentBatchConfig,Rr=!0;function qm(n,e,t,o){var r=O,i=xt.transition;xt.transition=null;try{O=1,as(n,e,t,o)}finally{O=r,xt.transition=i}}function Hm(n,e,t,o){var r=O,i=xt.transition;xt.transition=null;try{O=4,as(n,e,t,o)}finally{O=r,xt.transition=i}}function as(n,e,t,o){if(Rr){var r=fl(n,e,t,o);if(r===null)Di(n,e,o,Nr,t),du(n,o);else if(Vm(r,n,e,t,o))o.stopPropagation();else if(du(n,o),e&4&&-1<Fm.indexOf(n)){for(;r!==null;){var i=zo(r);if(i!==null&&Rc(i),i=fl(n,e,t,o),i===null&&Di(n,e,o,Nr,t),i===r)break;r=i}r!==null&&o.stopPropagation()}else Di(n,e,o,null,t)}}var Nr=null;function fl(n,e,t,o){if(Nr=null,n=is(o),n=jn(n),n!==null)if(e=dt(n),e===null)n=null;else if(t=e.tag,t===13){if(n=Ec(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Nr=n,null}function Dc(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pm()){case ls:return 1;case Ic:return 4;case Ar:case Rm:return 16;case wc:return 536870912;default:return 16}default:return 16}}var kn=null,ds=null,fr=null;function Lc(){if(fr)return fr;var n,e=ds,t=e.length,o,r="value"in kn?kn.value:kn.textContent,i=r.length;for(n=0;n<t&&e[n]===r[n];n++);var s=t-n;for(o=1;o<=s&&e[t-o]===r[i-o];o++);return fr=r.slice(n,1<o?1-o:void 0)}function pr(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function jo(){return!0}function fu(){return!1}function Ge(n){function e(t,o,r,i,s){this._reactName=t,this._targetInst=r,this.type=o,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?jo:fu,this.isPropagationStopped=fu,this}return ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=jo)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=jo)},persist:function(){},isPersistent:jo}),e}var Ot={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cs=Ge(Ot),Bo=ee({},Ot,{view:0,detail:0}),Bm=Ge(Bo),Ii,wi,to,br=ee({},Bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==to&&(to&&n.type==="mousemove"?(Ii=n.screenX-to.screenX,wi=n.screenY-to.screenY):wi=Ii=0,to=n),Ii)},movementY:function(n){return"movementY"in n?n.movementY:wi}}),pu=Ge(br),zm=ee({},br,{dataTransfer:0}),Jm=Ge(zm),$m=ee({},Bo,{relatedTarget:0}),Ai=Ge($m),Om=ee({},Ot,{animationName:0,elapsedTime:0,pseudoElement:0}),Wm=Ge(Om),Km=ee({},Ot,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ym=Ge(Km),Qm=ee({},Ot,{data:0}),mu=Ge(Qm),Xm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jm(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=bm[n])?!!e[n]:!1}function fs(){return jm}var eh=ee({},Bo,{key:function(n){if(n.key){var e=Xm[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=pr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Zm[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(n){return n.type==="keypress"?pr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?pr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),nh=Ge(eh),th=ee({},br,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hu=Ge(th),oh=ee({},Bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),rh=Ge(oh),ih=ee({},Ot,{propertyName:0,elapsedTime:0,pseudoElement:0}),lh=Ge(ih),sh=ee({},br,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),uh=Ge(sh),ah=[9,13,27,32],ps=vn&&"CompositionEvent"in window,mo=null;vn&&"documentMode"in document&&(mo=document.documentMode);var dh=vn&&"TextEvent"in window&&!mo,Uc=vn&&(!ps||mo&&8<mo&&11>=mo),gu=" ",yu=!1;function Fc(n,e){switch(n){case"keyup":return ah.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vc(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var gt=!1;function ch(n,e){switch(n){case"compositionend":return Vc(e);case"keypress":return e.which!==32?null:(yu=!0,gu);case"textInput":return n=e.data,n===gu&&yu?null:n;default:return null}}function fh(n,e){if(gt)return n==="compositionend"||!ps&&Fc(n,e)?(n=Lc(),fr=ds=kn=null,gt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Uc&&e.locale!=="ko"?null:e.data;default:return null}}var ph={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vu(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!ph[n.type]:e==="textarea"}function Gc(n,e,t,o){hc(o),e=xr(e,"onChange"),0<e.length&&(t=new cs("onChange","change",null,t,o),n.push({event:t,listeners:e}))}var ho=null,Ro=null;function mh(n){Qc(n,0)}function jr(n){var e=Tt(n);if(uc(e))return n}function hh(n,e){if(n==="change")return e}var qc=!1;if(vn){var Pi;if(vn){var Ri="oninput"in document;if(!Ri){var Tu=document.createElement("div");Tu.setAttribute("oninput","return;"),Ri=typeof Tu.oninput=="function"}Pi=Ri}else Pi=!1;qc=Pi&&(!document.documentMode||9<document.documentMode)}function Eu(){ho&&(ho.detachEvent("onpropertychange",Hc),Ro=ho=null)}function Hc(n){if(n.propertyName==="value"&&jr(Ro)){var e=[];Gc(e,Ro,n,is(n)),Tc(mh,e)}}function gh(n,e,t){n==="focusin"?(Eu(),ho=e,Ro=t,ho.attachEvent("onpropertychange",Hc)):n==="focusout"&&Eu()}function yh(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return jr(Ro)}function vh(n,e){if(n==="click")return jr(e)}function Th(n,e){if(n==="input"||n==="change")return jr(e)}function Eh(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var nn=typeof Object.is=="function"?Object.is:Eh;function No(n,e){if(nn(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),o=Object.keys(e);if(t.length!==o.length)return!1;for(o=0;o<t.length;o++){var r=t[o];if(!Yi.call(e,r)||!nn(n[r],e[r]))return!1}return!0}function Su(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function _u(n,e){var t=Su(n);n=0;for(var o;t;){if(t.nodeType===3){if(o=n+t.textContent.length,n<=e&&o>=e)return{node:t,offset:e-n};n=o}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Su(t)}}function Bc(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?Bc(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function zc(){for(var n=window,e=Cr();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Cr(n.document)}return e}function ms(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function Sh(n){var e=zc(),t=n.focusedElem,o=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&Bc(t.ownerDocument.documentElement,t)){if(o!==null&&ms(t)){if(e=o.start,n=o.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,i=Math.min(o.start,r);o=o.end===void 0?i:Math.min(o.end,r),!n.extend&&i>o&&(r=o,o=i,i=r),r=_u(t,i);var s=_u(t,o);r&&s&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),i>o?(n.addRange(e),n.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var _h=vn&&"documentMode"in document&&11>=document.documentMode,yt=null,pl=null,go=null,ml=!1;function Cu(n,e,t){var o=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;ml||yt==null||yt!==Cr(o)||(o=yt,"selectionStart"in o&&ms(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),go&&No(go,o)||(go=o,o=xr(pl,"onSelect"),0<o.length&&(e=new cs("onSelect","select",null,e,t),n.push({event:e,listeners:o}),e.target=yt)))}function er(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var vt={animationend:er("Animation","AnimationEnd"),animationiteration:er("Animation","AnimationIteration"),animationstart:er("Animation","AnimationStart"),transitionend:er("Transition","TransitionEnd")},Ni={},Jc={};vn&&(Jc=document.createElement("div").style,"AnimationEvent"in window||(delete vt.animationend.animation,delete vt.animationiteration.animation,delete vt.animationstart.animation),"TransitionEvent"in window||delete vt.transitionend.transition);function ei(n){if(Ni[n])return Ni[n];if(!vt[n])return n;var e=vt[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in Jc)return Ni[n]=e[t];return n}var $c=ei("animationend"),Oc=ei("animationiteration"),Wc=ei("animationstart"),Kc=ei("transitionend"),Yc=new Map,Iu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function On(n,e){Yc.set(n,e),at(e,[n])}for(var xi=0;xi<Iu.length;xi++){var Mi=Iu[xi],Ch=Mi.toLowerCase(),Ih=Mi[0].toUpperCase()+Mi.slice(1);On(Ch,"on"+Ih)}On($c,"onAnimationEnd");On(Oc,"onAnimationIteration");On(Wc,"onAnimationStart");On("dblclick","onDoubleClick");On("focusin","onFocus");On("focusout","onBlur");On(Kc,"onTransitionEnd");Ft("onMouseEnter",["mouseout","mouseover"]);Ft("onMouseLeave",["mouseout","mouseover"]);Ft("onPointerEnter",["pointerout","pointerover"]);Ft("onPointerLeave",["pointerout","pointerover"]);at("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));at("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));at("onBeforeInput",["compositionend","keypress","textInput","paste"]);at("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));at("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));at("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wh=new Set("cancel close invalid load scroll toggle".split(" ").concat(co));function wu(n,e,t){var o=n.type||"unknown-event";n.currentTarget=t,Cm(o,e,void 0,n),n.currentTarget=null}function Qc(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var o=n[t],r=o.event;o=o.listeners;e:{var i=void 0;if(e)for(var s=o.length-1;0<=s;s--){var a=o[s],d=a.instance,c=a.currentTarget;if(a=a.listener,d!==i&&r.isPropagationStopped())break e;wu(r,a,c),i=d}else for(s=0;s<o.length;s++){if(a=o[s],d=a.instance,c=a.currentTarget,a=a.listener,d!==i&&r.isPropagationStopped())break e;wu(r,a,c),i=d}}}if(wr)throw n=al,wr=!1,al=null,n}function K(n,e){var t=e[Tl];t===void 0&&(t=e[Tl]=new Set);var o=n+"__bubble";t.has(o)||(Xc(e,n,2,!1),t.add(o))}function ki(n,e,t){var o=0;e&&(o|=4),Xc(t,n,o,e)}var nr="_reactListening"+Math.random().toString(36).slice(2);function xo(n){if(!n[nr]){n[nr]=!0,oc.forEach(function(t){t!=="selectionchange"&&(wh.has(t)||ki(t,!1,n),ki(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[nr]||(e[nr]=!0,ki("selectionchange",!1,e))}}function Xc(n,e,t,o){switch(Dc(e)){case 1:var r=qm;break;case 4:r=Hm;break;default:r=as}t=r.bind(null,e,t,n),r=void 0,!ul||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),o?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function Di(n,e,t,o,r){var i=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var s=o.tag;if(s===3||s===4){var a=o.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(s===4)for(s=o.return;s!==null;){var d=s.tag;if((d===3||d===4)&&(d=s.stateNode.containerInfo,d===r||d.nodeType===8&&d.parentNode===r))return;s=s.return}for(;a!==null;){if(s=jn(a),s===null)return;if(d=s.tag,d===5||d===6){o=i=s;continue e}a=a.parentNode}}o=o.return}Tc(function(){var c=i,f=is(t),p=[];e:{var m=Yc.get(n);if(m!==void 0){var g=cs,T=n;switch(n){case"keypress":if(pr(t)===0)break e;case"keydown":case"keyup":g=nh;break;case"focusin":T="focus",g=Ai;break;case"focusout":T="blur",g=Ai;break;case"beforeblur":case"afterblur":g=Ai;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Jm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=rh;break;case $c:case Oc:case Wc:g=Wm;break;case Kc:g=lh;break;case"scroll":g=Bm;break;case"wheel":g=uh;break;case"copy":case"cut":case"paste":g=Ym;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=hu}var E=(e&4)!==0,P=!E&&n==="scroll",v=E?m!==null?m+"Capture":null:m;E=[];for(var h=c,y;h!==null;){y=h;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,v!==null&&(S=Io(h,v),S!=null&&E.push(Mo(h,S,y)))),P)break;h=h.return}0<E.length&&(m=new g(m,T,null,t,f),p.push({event:m,listeners:E}))}}if(!(e&7)){e:{if(m=n==="mouseover"||n==="pointerover",g=n==="mouseout"||n==="pointerout",m&&t!==ll&&(T=t.relatedTarget||t.fromElement)&&(jn(T)||T[Tn]))break e;if((g||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,g?(T=t.relatedTarget||t.toElement,g=c,T=T?jn(T):null,T!==null&&(P=dt(T),T!==P||T.tag!==5&&T.tag!==6)&&(T=null)):(g=null,T=c),g!==T)){if(E=pu,S="onMouseLeave",v="onMouseEnter",h="mouse",(n==="pointerout"||n==="pointerover")&&(E=hu,S="onPointerLeave",v="onPointerEnter",h="pointer"),P=g==null?m:Tt(g),y=T==null?m:Tt(T),m=new E(S,h+"leave",g,t,f),m.target=P,m.relatedTarget=y,S=null,jn(f)===c&&(E=new E(v,h+"enter",T,t,f),E.target=y,E.relatedTarget=P,S=E),P=S,g&&T)n:{for(E=g,v=T,h=0,y=E;y;y=pt(y))h++;for(y=0,S=v;S;S=pt(S))y++;for(;0<h-y;)E=pt(E),h--;for(;0<y-h;)v=pt(v),y--;for(;h--;){if(E===v||v!==null&&E===v.alternate)break n;E=pt(E),v=pt(v)}E=null}else E=null;g!==null&&Au(p,m,g,E,!1),T!==null&&P!==null&&Au(p,P,T,E,!0)}}e:{if(m=c?Tt(c):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var C=hh;else if(vu(m))if(qc)C=Th;else{C=yh;var I=gh}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=vh);if(C&&(C=C(n,c))){Gc(p,C,t,f);break e}I&&I(n,m,c),n==="focusout"&&(I=m._wrapperState)&&I.controlled&&m.type==="number"&&nl(m,"number",m.value)}switch(I=c?Tt(c):window,n){case"focusin":(vu(I)||I.contentEditable==="true")&&(yt=I,pl=c,go=null);break;case"focusout":go=pl=yt=null;break;case"mousedown":ml=!0;break;case"contextmenu":case"mouseup":case"dragend":ml=!1,Cu(p,t,f);break;case"selectionchange":if(_h)break;case"keydown":case"keyup":Cu(p,t,f)}var w;if(ps)e:{switch(n){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else gt?Fc(n,t)&&(N="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(N="onCompositionStart");N&&(Uc&&t.locale!=="ko"&&(gt||N!=="onCompositionStart"?N==="onCompositionEnd"&&gt&&(w=Lc()):(kn=f,ds="value"in kn?kn.value:kn.textContent,gt=!0)),I=xr(c,N),0<I.length&&(N=new mu(N,n,null,t,f),p.push({event:N,listeners:I}),w?N.data=w:(w=Vc(t),w!==null&&(N.data=w)))),(w=dh?ch(n,t):fh(n,t))&&(c=xr(c,"onBeforeInput"),0<c.length&&(f=new mu("onBeforeInput","beforeinput",null,t,f),p.push({event:f,listeners:c}),f.data=w))}Qc(p,e)})}function Mo(n,e,t){return{instance:n,listener:e,currentTarget:t}}function xr(n,e){for(var t=e+"Capture",o=[];n!==null;){var r=n,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Io(n,t),i!=null&&o.unshift(Mo(n,i,r)),i=Io(n,e),i!=null&&o.push(Mo(n,i,r))),n=n.return}return o}function pt(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Au(n,e,t,o,r){for(var i=e._reactName,s=[];t!==null&&t!==o;){var a=t,d=a.alternate,c=a.stateNode;if(d!==null&&d===o)break;a.tag===5&&c!==null&&(a=c,r?(d=Io(t,i),d!=null&&s.unshift(Mo(t,d,a))):r||(d=Io(t,i),d!=null&&s.push(Mo(t,d,a)))),t=t.return}s.length!==0&&n.push({event:e,listeners:s})}var Ah=/\r\n?/g,Ph=/\u0000|\uFFFD/g;function Pu(n){return(typeof n=="string"?n:""+n).replace(Ah,`
`).replace(Ph,"")}function tr(n,e,t){if(e=Pu(e),Pu(n)!==e&&t)throw Error(A(425))}function Mr(){}var hl=null,gl=null;function yl(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vl=typeof setTimeout=="function"?setTimeout:void 0,Rh=typeof clearTimeout=="function"?clearTimeout:void 0,Ru=typeof Promise=="function"?Promise:void 0,Nh=typeof queueMicrotask=="function"?queueMicrotask:typeof Ru<"u"?function(n){return Ru.resolve(null).then(n).catch(xh)}:vl;function xh(n){setTimeout(function(){throw n})}function Li(n,e){var t=e,o=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(o===0){n.removeChild(r),Po(e);return}o--}else t!=="$"&&t!=="$?"&&t!=="$!"||o++;t=r}while(t);Po(e)}function Gn(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function Nu(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Wt=Math.random().toString(36).slice(2),un="__reactFiber$"+Wt,ko="__reactProps$"+Wt,Tn="__reactContainer$"+Wt,Tl="__reactEvents$"+Wt,Mh="__reactListeners$"+Wt,kh="__reactHandles$"+Wt;function jn(n){var e=n[un];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Tn]||t[un]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Nu(n);n!==null;){if(t=n[un])return t;n=Nu(n)}return e}n=t,t=n.parentNode}return null}function zo(n){return n=n[un]||n[Tn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Tt(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(A(33))}function ni(n){return n[ko]||null}var El=[],Et=-1;function Wn(n){return{current:n}}function Q(n){0>Et||(n.current=El[Et],El[Et]=null,Et--)}function W(n,e){Et++,El[Et]=n.current,n.current=e}var $n={},ve=Wn($n),Ne=Wn(!1),rt=$n;function Vt(n,e){var t=n.type.contextTypes;if(!t)return $n;var o=n.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in t)r[i]=e[i];return o&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function xe(n){return n=n.childContextTypes,n!=null}function kr(){Q(Ne),Q(ve)}function xu(n,e,t){if(ve.current!==$n)throw Error(A(168));W(ve,e),W(Ne,t)}function Zc(n,e,t){var o=n.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return t;o=o.getChildContext();for(var r in o)if(!(r in e))throw Error(A(108,gm(n)||"Unknown",r));return ee({},t,o)}function Dr(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||$n,rt=ve.current,W(ve,n),W(Ne,Ne.current),!0}function Mu(n,e,t){var o=n.stateNode;if(!o)throw Error(A(169));t?(n=Zc(n,e,rt),o.__reactInternalMemoizedMergedChildContext=n,Q(Ne),Q(ve),W(ve,n)):Q(Ne),W(Ne,t)}var mn=null,ti=!1,Ui=!1;function bc(n){mn===null?mn=[n]:mn.push(n)}function Dh(n){ti=!0,bc(n)}function Kn(){if(!Ui&&mn!==null){Ui=!0;var n=0,e=O;try{var t=mn;for(O=1;n<t.length;n++){var o=t[n];do o=o(!0);while(o!==null)}mn=null,ti=!1}catch(r){throw mn!==null&&(mn=mn.slice(n+1)),Cc(ls,Kn),r}finally{O=e,Ui=!1}}return null}var St=[],_t=0,Lr=null,Ur=0,Be=[],ze=0,it=null,hn=1,gn="";function Zn(n,e){St[_t++]=Ur,St[_t++]=Lr,Lr=n,Ur=e}function jc(n,e,t){Be[ze++]=hn,Be[ze++]=gn,Be[ze++]=it,it=n;var o=hn;n=gn;var r=32-je(o)-1;o&=~(1<<r),t+=1;var i=32-je(e)+r;if(30<i){var s=r-r%5;i=(o&(1<<s)-1).toString(32),o>>=s,r-=s,hn=1<<32-je(e)+r|t<<r|o,gn=i+n}else hn=1<<i|t<<r|o,gn=n}function hs(n){n.return!==null&&(Zn(n,1),jc(n,1,0))}function gs(n){for(;n===Lr;)Lr=St[--_t],St[_t]=null,Ur=St[--_t],St[_t]=null;for(;n===it;)it=Be[--ze],Be[ze]=null,gn=Be[--ze],Be[ze]=null,hn=Be[--ze],Be[ze]=null}var Ue=null,Le=null,X=!1,be=null;function ef(n,e){var t=Je(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function ku(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Ue=n,Le=Gn(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Ue=n,Le=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=it!==null?{id:hn,overflow:gn}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Je(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Ue=n,Le=null,!0):!1;default:return!1}}function Sl(n){return(n.mode&1)!==0&&(n.flags&128)===0}function _l(n){if(X){var e=Le;if(e){var t=e;if(!ku(n,e)){if(Sl(n))throw Error(A(418));e=Gn(t.nextSibling);var o=Ue;e&&ku(n,e)?ef(o,t):(n.flags=n.flags&-4097|2,X=!1,Ue=n)}}else{if(Sl(n))throw Error(A(418));n.flags=n.flags&-4097|2,X=!1,Ue=n}}}function Du(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ue=n}function or(n){if(n!==Ue)return!1;if(!X)return Du(n),X=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!yl(n.type,n.memoizedProps)),e&&(e=Le)){if(Sl(n))throw nf(),Error(A(418));for(;e;)ef(n,e),e=Gn(e.nextSibling)}if(Du(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(A(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Le=Gn(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Le=null}}else Le=Ue?Gn(n.stateNode.nextSibling):null;return!0}function nf(){for(var n=Le;n;)n=Gn(n.nextSibling)}function Gt(){Le=Ue=null,X=!1}function ys(n){be===null?be=[n]:be.push(n)}var Lh=Cn.ReactCurrentBatchConfig;function oo(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(A(309));var o=t.stateNode}if(!o)throw Error(A(147,n));var r=o,i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var a=r.refs;s===null?delete a[i]:a[i]=s},e._stringRef=i,e)}if(typeof n!="string")throw Error(A(284));if(!t._owner)throw Error(A(290,n))}return n}function rr(n,e){throw n=Object.prototype.toString.call(e),Error(A(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Lu(n){var e=n._init;return e(n._payload)}function tf(n){function e(v,h){if(n){var y=v.deletions;y===null?(v.deletions=[h],v.flags|=16):y.push(h)}}function t(v,h){if(!n)return null;for(;h!==null;)e(v,h),h=h.sibling;return null}function o(v,h){for(v=new Map;h!==null;)h.key!==null?v.set(h.key,h):v.set(h.index,h),h=h.sibling;return v}function r(v,h){return v=zn(v,h),v.index=0,v.sibling=null,v}function i(v,h,y){return v.index=y,n?(y=v.alternate,y!==null?(y=y.index,y<h?(v.flags|=2,h):y):(v.flags|=2,h)):(v.flags|=1048576,h)}function s(v){return n&&v.alternate===null&&(v.flags|=2),v}function a(v,h,y,S){return h===null||h.tag!==6?(h=zi(y,v.mode,S),h.return=v,h):(h=r(h,y),h.return=v,h)}function d(v,h,y,S){var C=y.type;return C===ht?f(v,h,y.props.children,S,y.key):h!==null&&(h.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Rn&&Lu(C)===h.type)?(S=r(h,y.props),S.ref=oo(v,h,y),S.return=v,S):(S=Er(y.type,y.key,y.props,null,v.mode,S),S.ref=oo(v,h,y),S.return=v,S)}function c(v,h,y,S){return h===null||h.tag!==4||h.stateNode.containerInfo!==y.containerInfo||h.stateNode.implementation!==y.implementation?(h=Ji(y,v.mode,S),h.return=v,h):(h=r(h,y.children||[]),h.return=v,h)}function f(v,h,y,S,C){return h===null||h.tag!==7?(h=ot(y,v.mode,S,C),h.return=v,h):(h=r(h,y),h.return=v,h)}function p(v,h,y){if(typeof h=="string"&&h!==""||typeof h=="number")return h=zi(""+h,v.mode,y),h.return=v,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ko:return y=Er(h.type,h.key,h.props,null,v.mode,y),y.ref=oo(v,null,h),y.return=v,y;case mt:return h=Ji(h,v.mode,y),h.return=v,h;case Rn:var S=h._init;return p(v,S(h._payload),y)}if(uo(h)||bt(h))return h=ot(h,v.mode,y,null),h.return=v,h;rr(v,h)}return null}function m(v,h,y,S){var C=h!==null?h.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:a(v,h,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ko:return y.key===C?d(v,h,y,S):null;case mt:return y.key===C?c(v,h,y,S):null;case Rn:return C=y._init,m(v,h,C(y._payload),S)}if(uo(y)||bt(y))return C!==null?null:f(v,h,y,S,null);rr(v,y)}return null}function g(v,h,y,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(y)||null,a(h,v,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ko:return v=v.get(S.key===null?y:S.key)||null,d(h,v,S,C);case mt:return v=v.get(S.key===null?y:S.key)||null,c(h,v,S,C);case Rn:var I=S._init;return g(v,h,y,I(S._payload),C)}if(uo(S)||bt(S))return v=v.get(y)||null,f(h,v,S,C,null);rr(h,S)}return null}function T(v,h,y,S){for(var C=null,I=null,w=h,N=h=0,D=null;w!==null&&N<y.length;N++){w.index>N?(D=w,w=null):D=w.sibling;var k=m(v,w,y[N],S);if(k===null){w===null&&(w=D);break}n&&w&&k.alternate===null&&e(v,w),h=i(k,h,N),I===null?C=k:I.sibling=k,I=k,w=D}if(N===y.length)return t(v,w),X&&Zn(v,N),C;if(w===null){for(;N<y.length;N++)w=p(v,y[N],S),w!==null&&(h=i(w,h,N),I===null?C=w:I.sibling=w,I=w);return X&&Zn(v,N),C}for(w=o(v,w);N<y.length;N++)D=g(w,v,N,y[N],S),D!==null&&(n&&D.alternate!==null&&w.delete(D.key===null?N:D.key),h=i(D,h,N),I===null?C=D:I.sibling=D,I=D);return n&&w.forEach(function(B){return e(v,B)}),X&&Zn(v,N),C}function E(v,h,y,S){var C=bt(y);if(typeof C!="function")throw Error(A(150));if(y=C.call(y),y==null)throw Error(A(151));for(var I=C=null,w=h,N=h=0,D=null,k=y.next();w!==null&&!k.done;N++,k=y.next()){w.index>N?(D=w,w=null):D=w.sibling;var B=m(v,w,k.value,S);if(B===null){w===null&&(w=D);break}n&&w&&B.alternate===null&&e(v,w),h=i(B,h,N),I===null?C=B:I.sibling=B,I=B,w=D}if(k.done)return t(v,w),X&&Zn(v,N),C;if(w===null){for(;!k.done;N++,k=y.next())k=p(v,k.value,S),k!==null&&(h=i(k,h,N),I===null?C=k:I.sibling=k,I=k);return X&&Zn(v,N),C}for(w=o(v,w);!k.done;N++,k=y.next())k=g(w,v,N,k.value,S),k!==null&&(n&&k.alternate!==null&&w.delete(k.key===null?N:k.key),h=i(k,h,N),I===null?C=k:I.sibling=k,I=k);return n&&w.forEach(function(z){return e(v,z)}),X&&Zn(v,N),C}function P(v,h,y,S){if(typeof y=="object"&&y!==null&&y.type===ht&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ko:e:{for(var C=y.key,I=h;I!==null;){if(I.key===C){if(C=y.type,C===ht){if(I.tag===7){t(v,I.sibling),h=r(I,y.props.children),h.return=v,v=h;break e}}else if(I.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Rn&&Lu(C)===I.type){t(v,I.sibling),h=r(I,y.props),h.ref=oo(v,I,y),h.return=v,v=h;break e}t(v,I);break}else e(v,I);I=I.sibling}y.type===ht?(h=ot(y.props.children,v.mode,S,y.key),h.return=v,v=h):(S=Er(y.type,y.key,y.props,null,v.mode,S),S.ref=oo(v,h,y),S.return=v,v=S)}return s(v);case mt:e:{for(I=y.key;h!==null;){if(h.key===I)if(h.tag===4&&h.stateNode.containerInfo===y.containerInfo&&h.stateNode.implementation===y.implementation){t(v,h.sibling),h=r(h,y.children||[]),h.return=v,v=h;break e}else{t(v,h);break}else e(v,h);h=h.sibling}h=Ji(y,v.mode,S),h.return=v,v=h}return s(v);case Rn:return I=y._init,P(v,h,I(y._payload),S)}if(uo(y))return T(v,h,y,S);if(bt(y))return E(v,h,y,S);rr(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,h!==null&&h.tag===6?(t(v,h.sibling),h=r(h,y),h.return=v,v=h):(t(v,h),h=zi(y,v.mode,S),h.return=v,v=h),s(v)):t(v,h)}return P}var qt=tf(!0),of=tf(!1),Fr=Wn(null),Vr=null,Ct=null,vs=null;function Ts(){vs=Ct=Vr=null}function Es(n){var e=Fr.current;Q(Fr),n._currentValue=e}function Cl(n,e,t){for(;n!==null;){var o=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),n===t)break;n=n.return}}function Mt(n,e){Vr=n,vs=Ct=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Re=!0),n.firstContext=null)}function We(n){var e=n._currentValue;if(vs!==n)if(n={context:n,memoizedValue:e,next:null},Ct===null){if(Vr===null)throw Error(A(308));Ct=n,Vr.dependencies={lanes:0,firstContext:n}}else Ct=Ct.next=n;return e}var et=null;function Ss(n){et===null?et=[n]:et.push(n)}function rf(n,e,t,o){var r=e.interleaved;return r===null?(t.next=t,Ss(e)):(t.next=r.next,r.next=t),e.interleaved=t,En(n,o)}function En(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Nn=!1;function _s(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lf(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function yn(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function qn(n,e,t){var o=n.updateQueue;if(o===null)return null;if(o=o.shared,H&2){var r=o.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),o.pending=e,En(n,t)}return r=o.interleaved,r===null?(e.next=e,Ss(o)):(e.next=r.next,r.next=e),o.interleaved=e,En(n,t)}function mr(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var o=e.lanes;o&=n.pendingLanes,t|=o,e.lanes=t,ss(n,t)}}function Uu(n,e){var t=n.updateQueue,o=n.alternate;if(o!==null&&(o=o.updateQueue,t===o)){var r=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var s={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?r=i=s:i=i.next=s,t=t.next}while(t!==null);i===null?r=i=e:i=i.next=e}else r=i=e;t={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Gr(n,e,t,o){var r=n.updateQueue;Nn=!1;var i=r.firstBaseUpdate,s=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var d=a,c=d.next;d.next=null,s===null?i=c:s.next=c,s=d;var f=n.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==s&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=d))}if(i!==null){var p=r.baseState;s=0,f=c=d=null,a=i;do{var m=a.lane,g=a.eventTime;if((o&m)===m){f!==null&&(f=f.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=n,E=a;switch(m=e,g=t,E.tag){case 1:if(T=E.payload,typeof T=="function"){p=T.call(g,p,m);break e}p=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=E.payload,m=typeof T=="function"?T.call(g,p,m):T,m==null)break e;p=ee({},p,m);break e;case 2:Nn=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,m=r.effects,m===null?r.effects=[a]:m.push(a))}else g={eventTime:g,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=g,d=p):f=f.next=g,s|=m;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;m=a,a=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(!0);if(f===null&&(d=p),r.baseState=d,r.firstBaseUpdate=c,r.lastBaseUpdate=f,e=r.shared.interleaved,e!==null){r=e;do s|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);st|=s,n.lanes=s,n.memoizedState=p}}function Fu(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var o=n[e],r=o.callback;if(r!==null){if(o.callback=null,o=t,typeof r!="function")throw Error(A(191,r));r.call(o)}}}var Jo={},dn=Wn(Jo),Do=Wn(Jo),Lo=Wn(Jo);function nt(n){if(n===Jo)throw Error(A(174));return n}function Cs(n,e){switch(W(Lo,e),W(Do,n),W(dn,Jo),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ol(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=ol(e,n)}Q(dn),W(dn,e)}function Ht(){Q(dn),Q(Do),Q(Lo)}function sf(n){nt(Lo.current);var e=nt(dn.current),t=ol(e,n.type);e!==t&&(W(Do,n),W(dn,t))}function Is(n){Do.current===n&&(Q(dn),Q(Do))}var b=Wn(0);function qr(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fi=[];function ws(){for(var n=0;n<Fi.length;n++)Fi[n]._workInProgressVersionPrimary=null;Fi.length=0}var hr=Cn.ReactCurrentDispatcher,Vi=Cn.ReactCurrentBatchConfig,lt=0,j=null,ie=null,ue=null,Hr=!1,yo=!1,Uo=0,Uh=0;function me(){throw Error(A(321))}function As(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!nn(n[t],e[t]))return!1;return!0}function Ps(n,e,t,o,r,i){if(lt=i,j=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hr.current=n===null||n.memoizedState===null?qh:Hh,n=t(o,r),yo){i=0;do{if(yo=!1,Uo=0,25<=i)throw Error(A(301));i+=1,ue=ie=null,e.updateQueue=null,hr.current=Bh,n=t(o,r)}while(yo)}if(hr.current=Br,e=ie!==null&&ie.next!==null,lt=0,ue=ie=j=null,Hr=!1,e)throw Error(A(300));return n}function Rs(){var n=Uo!==0;return Uo=0,n}function sn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?j.memoizedState=ue=n:ue=ue.next=n,ue}function Ke(){if(ie===null){var n=j.alternate;n=n!==null?n.memoizedState:null}else n=ie.next;var e=ue===null?j.memoizedState:ue.next;if(e!==null)ue=e,ie=n;else{if(n===null)throw Error(A(310));ie=n,n={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},ue===null?j.memoizedState=ue=n:ue=ue.next=n}return ue}function Fo(n,e){return typeof e=="function"?e(n):e}function Gi(n){var e=Ke(),t=e.queue;if(t===null)throw Error(A(311));t.lastRenderedReducer=n;var o=ie,r=o.baseQueue,i=t.pending;if(i!==null){if(r!==null){var s=r.next;r.next=i.next,i.next=s}o.baseQueue=r=i,t.pending=null}if(r!==null){i=r.next,o=o.baseState;var a=s=null,d=null,c=i;do{var f=c.lane;if((lt&f)===f)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),o=c.hasEagerState?c.eagerState:n(o,c.action);else{var p={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(a=d=p,s=o):d=d.next=p,j.lanes|=f,st|=f}c=c.next}while(c!==null&&c!==i);d===null?s=o:d.next=a,nn(o,e.memoizedState)||(Re=!0),e.memoizedState=o,e.baseState=s,e.baseQueue=d,t.lastRenderedState=o}if(n=t.interleaved,n!==null){r=n;do i=r.lane,j.lanes|=i,st|=i,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function qi(n){var e=Ke(),t=e.queue;if(t===null)throw Error(A(311));t.lastRenderedReducer=n;var o=t.dispatch,r=t.pending,i=e.memoizedState;if(r!==null){t.pending=null;var s=r=r.next;do i=n(i,s.action),s=s.next;while(s!==r);nn(i,e.memoizedState)||(Re=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,o]}function uf(){}function af(n,e){var t=j,o=Ke(),r=e(),i=!nn(o.memoizedState,r);if(i&&(o.memoizedState=r,Re=!0),o=o.queue,Ns(ff.bind(null,t,o,n),[n]),o.getSnapshot!==e||i||ue!==null&&ue.memoizedState.tag&1){if(t.flags|=2048,Vo(9,cf.bind(null,t,o,r,e),void 0,null),ae===null)throw Error(A(349));lt&30||df(t,e,r)}return r}function df(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=j.updateQueue,e===null?(e={lastEffect:null,stores:null},j.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function cf(n,e,t,o){e.value=t,e.getSnapshot=o,pf(e)&&mf(n)}function ff(n,e,t){return t(function(){pf(e)&&mf(n)})}function pf(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!nn(n,t)}catch{return!0}}function mf(n){var e=En(n,1);e!==null&&en(e,n,1,-1)}function Vu(n){var e=sn();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fo,lastRenderedState:n},e.queue=n,n=n.dispatch=Gh.bind(null,j,n),[e.memoizedState,n]}function Vo(n,e,t,o){return n={tag:n,create:e,destroy:t,deps:o,next:null},e=j.updateQueue,e===null?(e={lastEffect:null,stores:null},j.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(o=t.next,t.next=n,n.next=o,e.lastEffect=n)),n}function hf(){return Ke().memoizedState}function gr(n,e,t,o){var r=sn();j.flags|=n,r.memoizedState=Vo(1|e,t,void 0,o===void 0?null:o)}function oi(n,e,t,o){var r=Ke();o=o===void 0?null:o;var i=void 0;if(ie!==null){var s=ie.memoizedState;if(i=s.destroy,o!==null&&As(o,s.deps)){r.memoizedState=Vo(e,t,i,o);return}}j.flags|=n,r.memoizedState=Vo(1|e,t,i,o)}function Gu(n,e){return gr(8390656,8,n,e)}function Ns(n,e){return oi(2048,8,n,e)}function gf(n,e){return oi(4,2,n,e)}function yf(n,e){return oi(4,4,n,e)}function vf(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function Tf(n,e,t){return t=t!=null?t.concat([n]):null,oi(4,4,vf.bind(null,e,n),t)}function xs(){}function Ef(n,e){var t=Ke();e=e===void 0?null:e;var o=t.memoizedState;return o!==null&&e!==null&&As(e,o[1])?o[0]:(t.memoizedState=[n,e],n)}function Sf(n,e){var t=Ke();e=e===void 0?null:e;var o=t.memoizedState;return o!==null&&e!==null&&As(e,o[1])?o[0]:(n=n(),t.memoizedState=[n,e],n)}function _f(n,e,t){return lt&21?(nn(t,e)||(t=Ac(),j.lanes|=t,st|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Re=!0),n.memoizedState=t)}function Fh(n,e){var t=O;O=t!==0&&4>t?t:4,n(!0);var o=Vi.transition;Vi.transition={};try{n(!1),e()}finally{O=t,Vi.transition=o}}function Cf(){return Ke().memoizedState}function Vh(n,e,t){var o=Bn(n);if(t={lane:o,action:t,hasEagerState:!1,eagerState:null,next:null},If(n))wf(e,t);else if(t=rf(n,e,t,o),t!==null){var r=_e();en(t,n,o,r),Af(t,e,o)}}function Gh(n,e,t){var o=Bn(n),r={lane:o,action:t,hasEagerState:!1,eagerState:null,next:null};if(If(n))wf(e,r);else{var i=n.alternate;if(n.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,a=i(s,t);if(r.hasEagerState=!0,r.eagerState=a,nn(a,s)){var d=e.interleaved;d===null?(r.next=r,Ss(e)):(r.next=d.next,d.next=r),e.interleaved=r;return}}catch{}finally{}t=rf(n,e,r,o),t!==null&&(r=_e(),en(t,n,o,r),Af(t,e,o))}}function If(n){var e=n.alternate;return n===j||e!==null&&e===j}function wf(n,e){yo=Hr=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function Af(n,e,t){if(t&4194240){var o=e.lanes;o&=n.pendingLanes,t|=o,e.lanes=t,ss(n,t)}}var Br={readContext:We,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useInsertionEffect:me,useLayoutEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useMutableSource:me,useSyncExternalStore:me,useId:me,unstable_isNewReconciler:!1},qh={readContext:We,useCallback:function(n,e){return sn().memoizedState=[n,e===void 0?null:e],n},useContext:We,useEffect:Gu,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,gr(4194308,4,vf.bind(null,e,n),t)},useLayoutEffect:function(n,e){return gr(4194308,4,n,e)},useInsertionEffect:function(n,e){return gr(4,2,n,e)},useMemo:function(n,e){var t=sn();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var o=sn();return e=t!==void 0?t(e):e,o.memoizedState=o.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},o.queue=n,n=n.dispatch=Vh.bind(null,j,n),[o.memoizedState,n]},useRef:function(n){var e=sn();return n={current:n},e.memoizedState=n},useState:Vu,useDebugValue:xs,useDeferredValue:function(n){return sn().memoizedState=n},useTransition:function(){var n=Vu(!1),e=n[0];return n=Fh.bind(null,n[1]),sn().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var o=j,r=sn();if(X){if(t===void 0)throw Error(A(407));t=t()}else{if(t=e(),ae===null)throw Error(A(349));lt&30||df(o,e,t)}r.memoizedState=t;var i={value:t,getSnapshot:e};return r.queue=i,Gu(ff.bind(null,o,i,n),[n]),o.flags|=2048,Vo(9,cf.bind(null,o,i,t,e),void 0,null),t},useId:function(){var n=sn(),e=ae.identifierPrefix;if(X){var t=gn,o=hn;t=(o&~(1<<32-je(o)-1)).toString(32)+t,e=":"+e+"R"+t,t=Uo++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=Uh++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},Hh={readContext:We,useCallback:Ef,useContext:We,useEffect:Ns,useImperativeHandle:Tf,useInsertionEffect:gf,useLayoutEffect:yf,useMemo:Sf,useReducer:Gi,useRef:hf,useState:function(){return Gi(Fo)},useDebugValue:xs,useDeferredValue:function(n){var e=Ke();return _f(e,ie.memoizedState,n)},useTransition:function(){var n=Gi(Fo)[0],e=Ke().memoizedState;return[n,e]},useMutableSource:uf,useSyncExternalStore:af,useId:Cf,unstable_isNewReconciler:!1},Bh={readContext:We,useCallback:Ef,useContext:We,useEffect:Ns,useImperativeHandle:Tf,useInsertionEffect:gf,useLayoutEffect:yf,useMemo:Sf,useReducer:qi,useRef:hf,useState:function(){return qi(Fo)},useDebugValue:xs,useDeferredValue:function(n){var e=Ke();return ie===null?e.memoizedState=n:_f(e,ie.memoizedState,n)},useTransition:function(){var n=qi(Fo)[0],e=Ke().memoizedState;return[n,e]},useMutableSource:uf,useSyncExternalStore:af,useId:Cf,unstable_isNewReconciler:!1};function Xe(n,e){if(n&&n.defaultProps){e=ee({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Il(n,e,t,o){e=n.memoizedState,t=t(o,e),t=t==null?e:ee({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var ri={isMounted:function(n){return(n=n._reactInternals)?dt(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var o=_e(),r=Bn(n),i=yn(o,r);i.payload=e,t!=null&&(i.callback=t),e=qn(n,i,r),e!==null&&(en(e,n,r,o),mr(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var o=_e(),r=Bn(n),i=yn(o,r);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=qn(n,i,r),e!==null&&(en(e,n,r,o),mr(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=_e(),o=Bn(n),r=yn(t,o);r.tag=2,e!=null&&(r.callback=e),e=qn(n,r,o),e!==null&&(en(e,n,o,t),mr(e,n,o))}};function qu(n,e,t,o,r,i,s){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(o,i,s):e.prototype&&e.prototype.isPureReactComponent?!No(t,o)||!No(r,i):!0}function Pf(n,e,t){var o=!1,r=$n,i=e.contextType;return typeof i=="object"&&i!==null?i=We(i):(r=xe(e)?rt:ve.current,o=e.contextTypes,i=(o=o!=null)?Vt(n,r):$n),e=new e(t,i),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ri,n.stateNode=e,e._reactInternals=n,o&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=i),e}function Hu(n,e,t,o){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,o),e.state!==n&&ri.enqueueReplaceState(e,e.state,null)}function wl(n,e,t,o){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},_s(n);var i=e.contextType;typeof i=="object"&&i!==null?r.context=We(i):(i=xe(e)?rt:ve.current,r.context=Vt(n,i)),r.state=n.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Il(n,e,i,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&ri.enqueueReplaceState(r,r.state,null),Gr(n,t,r,o),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Bt(n,e){try{var t="",o=e;do t+=hm(o),o=o.return;while(o);var r=t}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:n,source:e,stack:r,digest:null}}function Hi(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Al(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var zh=typeof WeakMap=="function"?WeakMap:Map;function Rf(n,e,t){t=yn(-1,t),t.tag=3,t.payload={element:null};var o=e.value;return t.callback=function(){Jr||(Jr=!0,Fl=o),Al(n,e)},t}function Nf(n,e,t){t=yn(-1,t),t.tag=3;var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var r=e.value;t.payload=function(){return o(r)},t.callback=function(){Al(n,e)}}var i=n.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){Al(n,e),typeof o!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),t}function Bu(n,e,t){var o=n.pingCache;if(o===null){o=n.pingCache=new zh;var r=new Set;o.set(e,r)}else r=o.get(e),r===void 0&&(r=new Set,o.set(e,r));r.has(t)||(r.add(t),n=tg.bind(null,n,e,t),e.then(n,n))}function zu(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function Ju(n,e,t,o,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=yn(-1,1),e.tag=2,qn(t,e,1))),t.lanes|=1),n)}var Jh=Cn.ReactCurrentOwner,Re=!1;function Se(n,e,t,o){e.child=n===null?of(e,null,t,o):qt(e,n.child,t,o)}function $u(n,e,t,o,r){t=t.render;var i=e.ref;return Mt(e,r),o=Ps(n,e,t,o,i,r),t=Rs(),n!==null&&!Re?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Sn(n,e,r)):(X&&t&&hs(e),e.flags|=1,Se(n,e,o,r),e.child)}function Ou(n,e,t,o,r){if(n===null){var i=t.type;return typeof i=="function"&&!Gs(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,xf(n,e,i,o,r)):(n=Er(t.type,null,o,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(i=n.child,!(n.lanes&r)){var s=i.memoizedProps;if(t=t.compare,t=t!==null?t:No,t(s,o)&&n.ref===e.ref)return Sn(n,e,r)}return e.flags|=1,n=zn(i,o),n.ref=e.ref,n.return=e,e.child=n}function xf(n,e,t,o,r){if(n!==null){var i=n.memoizedProps;if(No(i,o)&&n.ref===e.ref)if(Re=!1,e.pendingProps=o=i,(n.lanes&r)!==0)n.flags&131072&&(Re=!0);else return e.lanes=n.lanes,Sn(n,e,r)}return Pl(n,e,t,o,r)}function Mf(n,e,t){var o=e.pendingProps,r=o.children,i=n!==null?n.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},W(wt,De),De|=t;else{if(!(t&1073741824))return n=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,W(wt,De),De|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=i!==null?i.baseLanes:t,W(wt,De),De|=o}else i!==null?(o=i.baseLanes|t,e.memoizedState=null):o=t,W(wt,De),De|=o;return Se(n,e,r,t),e.child}function kf(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Pl(n,e,t,o,r){var i=xe(t)?rt:ve.current;return i=Vt(e,i),Mt(e,r),t=Ps(n,e,t,o,i,r),o=Rs(),n!==null&&!Re?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Sn(n,e,r)):(X&&o&&hs(e),e.flags|=1,Se(n,e,t,r),e.child)}function Wu(n,e,t,o,r){if(xe(t)){var i=!0;Dr(e)}else i=!1;if(Mt(e,r),e.stateNode===null)yr(n,e),Pf(e,t,o),wl(e,t,o,r),o=!0;else if(n===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var d=s.context,c=t.contextType;typeof c=="object"&&c!==null?c=We(c):(c=xe(t)?rt:ve.current,c=Vt(e,c));var f=t.getDerivedStateFromProps,p=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==o||d!==c)&&Hu(e,s,o,c),Nn=!1;var m=e.memoizedState;s.state=m,Gr(e,o,s,r),d=e.memoizedState,a!==o||m!==d||Ne.current||Nn?(typeof f=="function"&&(Il(e,t,f,o),d=e.memoizedState),(a=Nn||qu(e,t,a,o,m,d,c))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=d),s.props=o,s.state=d,s.context=c,o=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{s=e.stateNode,lf(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Xe(e.type,a),s.props=c,p=e.pendingProps,m=s.context,d=t.contextType,typeof d=="object"&&d!==null?d=We(d):(d=xe(t)?rt:ve.current,d=Vt(e,d));var g=t.getDerivedStateFromProps;(f=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==p||m!==d)&&Hu(e,s,o,d),Nn=!1,m=e.memoizedState,s.state=m,Gr(e,o,s,r);var T=e.memoizedState;a!==p||m!==T||Ne.current||Nn?(typeof g=="function"&&(Il(e,t,g,o),T=e.memoizedState),(c=Nn||qu(e,t,c,o,m,T,d)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(o,T,d),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(o,T,d)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&m===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&m===n.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=T),s.props=o,s.state=T,s.context=d,o=c):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&m===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&m===n.memoizedState||(e.flags|=1024),o=!1)}return Rl(n,e,t,o,i,r)}function Rl(n,e,t,o,r,i){kf(n,e);var s=(e.flags&128)!==0;if(!o&&!s)return r&&Mu(e,t,!1),Sn(n,e,i);o=e.stateNode,Jh.current=e;var a=s&&typeof t.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,n!==null&&s?(e.child=qt(e,n.child,null,i),e.child=qt(e,null,a,i)):Se(n,e,a,i),e.memoizedState=o.state,r&&Mu(e,t,!0),e.child}function Df(n){var e=n.stateNode;e.pendingContext?xu(n,e.pendingContext,e.pendingContext!==e.context):e.context&&xu(n,e.context,!1),Cs(n,e.containerInfo)}function Ku(n,e,t,o,r){return Gt(),ys(r),e.flags|=256,Se(n,e,t,o),e.child}var Nl={dehydrated:null,treeContext:null,retryLane:0};function xl(n){return{baseLanes:n,cachePool:null,transitions:null}}function Lf(n,e,t){var o=e.pendingProps,r=b.current,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(i=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),W(b,r&1),n===null)return _l(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=o.children,n=o.fallback,i?(o=e.mode,i=e.child,s={mode:"hidden",children:s},!(o&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=si(s,o,0,null),n=ot(n,o,t,null),i.return=e,n.return=e,i.sibling=n,e.child=i,e.child.memoizedState=xl(t),e.memoizedState=Nl,n):Ms(e,s));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return $h(n,e,s,o,a,r,t);if(i){i=o.fallback,s=e.mode,r=n.child,a=r.sibling;var d={mode:"hidden",children:o.children};return!(s&1)&&e.child!==r?(o=e.child,o.childLanes=0,o.pendingProps=d,e.deletions=null):(o=zn(r,d),o.subtreeFlags=r.subtreeFlags&14680064),a!==null?i=zn(a,i):(i=ot(i,s,t,null),i.flags|=2),i.return=e,o.return=e,o.sibling=i,e.child=o,o=i,i=e.child,s=n.child.memoizedState,s=s===null?xl(t):{baseLanes:s.baseLanes|t,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=n.childLanes&~t,e.memoizedState=Nl,o}return i=n.child,n=i.sibling,o=zn(i,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=t),o.return=e,o.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=o,e.memoizedState=null,o}function Ms(n,e){return e=si({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function ir(n,e,t,o){return o!==null&&ys(o),qt(e,n.child,null,t),n=Ms(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function $h(n,e,t,o,r,i,s){if(t)return e.flags&256?(e.flags&=-257,o=Hi(Error(A(422))),ir(n,e,s,o)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(i=o.fallback,r=e.mode,o=si({mode:"visible",children:o.children},r,0,null),i=ot(i,r,s,null),i.flags|=2,o.return=e,i.return=e,o.sibling=i,e.child=o,e.mode&1&&qt(e,n.child,null,s),e.child.memoizedState=xl(s),e.memoizedState=Nl,i);if(!(e.mode&1))return ir(n,e,s,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var a=o.dgst;return o=a,i=Error(A(419)),o=Hi(i,o,void 0),ir(n,e,s,o)}if(a=(s&n.childLanes)!==0,Re||a){if(o=ae,o!==null){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|s)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,En(n,r),en(o,n,r,-1))}return Vs(),o=Hi(Error(A(421))),ir(n,e,s,o)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=og.bind(null,n),r._reactRetry=e,null):(n=i.treeContext,Le=Gn(r.nextSibling),Ue=e,X=!0,be=null,n!==null&&(Be[ze++]=hn,Be[ze++]=gn,Be[ze++]=it,hn=n.id,gn=n.overflow,it=e),e=Ms(e,o.children),e.flags|=4096,e)}function Yu(n,e,t){n.lanes|=e;var o=n.alternate;o!==null&&(o.lanes|=e),Cl(n.return,e,t)}function Bi(n,e,t,o,r){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:t,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=t,i.tailMode=r)}function Uf(n,e,t){var o=e.pendingProps,r=o.revealOrder,i=o.tail;if(Se(n,e,o.children,t),o=b.current,o&2)o=o&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Yu(n,t,e);else if(n.tag===19)Yu(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}o&=1}if(W(b,o),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&qr(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Bi(e,!1,r,t,i);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&qr(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}Bi(e,!0,t,null,i);break;case"together":Bi(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yr(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Sn(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),st|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(A(153));if(e.child!==null){for(n=e.child,t=zn(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=zn(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function Oh(n,e,t){switch(e.tag){case 3:Df(e),Gt();break;case 5:sf(e);break;case 1:xe(e.type)&&Dr(e);break;case 4:Cs(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,r=e.memoizedProps.value;W(Fr,o._currentValue),o._currentValue=r;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(W(b,b.current&1),e.flags|=128,null):t&e.child.childLanes?Lf(n,e,t):(W(b,b.current&1),n=Sn(n,e,t),n!==null?n.sibling:null);W(b,b.current&1);break;case 19:if(o=(t&e.childLanes)!==0,n.flags&128){if(o)return Uf(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),W(b,b.current),o)break;return null;case 22:case 23:return e.lanes=0,Mf(n,e,t)}return Sn(n,e,t)}var Ff,Ml,Vf,Gf;Ff=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Ml=function(){};Vf=function(n,e,t,o){var r=n.memoizedProps;if(r!==o){n=e.stateNode,nt(dn.current);var i=null;switch(t){case"input":r=ji(n,r),o=ji(n,o),i=[];break;case"select":r=ee({},r,{value:void 0}),o=ee({},o,{value:void 0}),i=[];break;case"textarea":r=tl(n,r),o=tl(n,o),i=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(n.onclick=Mr)}rl(t,o);var s;t=null;for(c in r)if(!o.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(s in a)a.hasOwnProperty(s)&&(t||(t={}),t[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(_o.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in o){var d=o[c];if(a=r!=null?r[c]:void 0,o.hasOwnProperty(c)&&d!==a&&(d!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||d&&d.hasOwnProperty(s)||(t||(t={}),t[s]="");for(s in d)d.hasOwnProperty(s)&&a[s]!==d[s]&&(t||(t={}),t[s]=d[s])}else t||(i||(i=[]),i.push(c,t)),t=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,a=a?a.__html:void 0,d!=null&&a!==d&&(i=i||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(_o.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&K("scroll",n),i||a===d||(i=[])):(i=i||[]).push(c,d))}t&&(i=i||[]).push("style",t);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Gf=function(n,e,t,o){t!==o&&(e.flags|=4)};function ro(n,e){if(!X)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var o=null;t!==null;)t.alternate!==null&&(o=t),t=t.sibling;o===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:o.sibling=null}}function he(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,o=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=o,n.childLanes=t,e}function Wh(n,e,t){var o=e.pendingProps;switch(gs(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(e),null;case 1:return xe(e.type)&&kr(),he(e),null;case 3:return o=e.stateNode,Ht(),Q(Ne),Q(ve),ws(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(or(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,be!==null&&(ql(be),be=null))),Ml(n,e),he(e),null;case 5:Is(e);var r=nt(Lo.current);if(t=e.type,n!==null&&e.stateNode!=null)Vf(n,e,t,o,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(A(166));return he(e),null}if(n=nt(dn.current),or(e)){o=e.stateNode,t=e.type;var i=e.memoizedProps;switch(o[un]=e,o[ko]=i,n=(e.mode&1)!==0,t){case"dialog":K("cancel",o),K("close",o);break;case"iframe":case"object":case"embed":K("load",o);break;case"video":case"audio":for(r=0;r<co.length;r++)K(co[r],o);break;case"source":K("error",o);break;case"img":case"image":case"link":K("error",o),K("load",o);break;case"details":K("toggle",o);break;case"input":ou(o,i),K("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},K("invalid",o);break;case"textarea":iu(o,i),K("invalid",o)}rl(t,i),r=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?o.textContent!==a&&(i.suppressHydrationWarning!==!0&&tr(o.textContent,a,n),r=["children",a]):typeof a=="number"&&o.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&tr(o.textContent,a,n),r=["children",""+a]):_o.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&K("scroll",o)}switch(t){case"input":Yo(o),ru(o,i,!0);break;case"textarea":Yo(o),lu(o);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(o.onclick=Mr)}o=r,e.updateQueue=o,o!==null&&(e.flags|=4)}else{s=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=cc(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=s.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof o.is=="string"?n=s.createElement(t,{is:o.is}):(n=s.createElement(t),t==="select"&&(s=n,o.multiple?s.multiple=!0:o.size&&(s.size=o.size))):n=s.createElementNS(n,t),n[un]=e,n[ko]=o,Ff(n,e,!1,!1),e.stateNode=n;e:{switch(s=il(t,o),t){case"dialog":K("cancel",n),K("close",n),r=o;break;case"iframe":case"object":case"embed":K("load",n),r=o;break;case"video":case"audio":for(r=0;r<co.length;r++)K(co[r],n);r=o;break;case"source":K("error",n),r=o;break;case"img":case"image":case"link":K("error",n),K("load",n),r=o;break;case"details":K("toggle",n),r=o;break;case"input":ou(n,o),r=ji(n,o),K("invalid",n);break;case"option":r=o;break;case"select":n._wrapperState={wasMultiple:!!o.multiple},r=ee({},o,{value:void 0}),K("invalid",n);break;case"textarea":iu(n,o),r=tl(n,o),K("invalid",n);break;default:r=o}rl(t,r),a=r;for(i in a)if(a.hasOwnProperty(i)){var d=a[i];i==="style"?mc(n,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&fc(n,d)):i==="children"?typeof d=="string"?(t!=="textarea"||d!=="")&&Co(n,d):typeof d=="number"&&Co(n,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(_o.hasOwnProperty(i)?d!=null&&i==="onScroll"&&K("scroll",n):d!=null&&ns(n,i,d,s))}switch(t){case"input":Yo(n),ru(n,o,!1);break;case"textarea":Yo(n),lu(n);break;case"option":o.value!=null&&n.setAttribute("value",""+Jn(o.value));break;case"select":n.multiple=!!o.multiple,i=o.value,i!=null?Pt(n,!!o.multiple,i,!1):o.defaultValue!=null&&Pt(n,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Mr)}switch(t){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return he(e),null;case 6:if(n&&e.stateNode!=null)Gf(n,e,n.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(A(166));if(t=nt(Lo.current),nt(dn.current),or(e)){if(o=e.stateNode,t=e.memoizedProps,o[un]=e,(i=o.nodeValue!==t)&&(n=Ue,n!==null))switch(n.tag){case 3:tr(o.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&tr(o.nodeValue,t,(n.mode&1)!==0)}i&&(e.flags|=4)}else o=(t.nodeType===9?t:t.ownerDocument).createTextNode(o),o[un]=e,e.stateNode=o}return he(e),null;case 13:if(Q(b),o=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(X&&Le!==null&&e.mode&1&&!(e.flags&128))nf(),Gt(),e.flags|=98560,i=!1;else if(i=or(e),o!==null&&o.dehydrated!==null){if(n===null){if(!i)throw Error(A(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(A(317));i[un]=e}else Gt(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;he(e),i=!1}else be!==null&&(ql(be),be=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(o=o!==null,o!==(n!==null&&n.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(n===null||b.current&1?le===0&&(le=3):Vs())),e.updateQueue!==null&&(e.flags|=4),he(e),null);case 4:return Ht(),Ml(n,e),n===null&&xo(e.stateNode.containerInfo),he(e),null;case 10:return Es(e.type._context),he(e),null;case 17:return xe(e.type)&&kr(),he(e),null;case 19:if(Q(b),i=e.memoizedState,i===null)return he(e),null;if(o=(e.flags&128)!==0,s=i.rendering,s===null)if(o)ro(i,!1);else{if(le!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(s=qr(n),s!==null){for(e.flags|=128,ro(i,!1),o=s.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=t,t=e.child;t!==null;)i=t,n=o,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,n=s.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return W(b,b.current&1|2),e.child}n=n.sibling}i.tail!==null&&oe()>zt&&(e.flags|=128,o=!0,ro(i,!1),e.lanes=4194304)}else{if(!o)if(n=qr(s),n!==null){if(e.flags|=128,o=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),ro(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!X)return he(e),null}else 2*oe()-i.renderingStartTime>zt&&t!==1073741824&&(e.flags|=128,o=!0,ro(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(t=i.last,t!==null?t.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=oe(),e.sibling=null,t=b.current,W(b,o?t&1|2:t&1),e):(he(e),null);case 22:case 23:return Fs(),o=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?De&1073741824&&(he(e),e.subtreeFlags&6&&(e.flags|=8192)):he(e),null;case 24:return null;case 25:return null}throw Error(A(156,e.tag))}function Kh(n,e){switch(gs(e),e.tag){case 1:return xe(e.type)&&kr(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Ht(),Q(Ne),Q(ve),ws(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Is(e),null;case 13:if(Q(b),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(A(340));Gt()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Q(b),null;case 4:return Ht(),null;case 10:return Es(e.type._context),null;case 22:case 23:return Fs(),null;case 24:return null;default:return null}}var lr=!1,ge=!1,Yh=typeof WeakSet=="function"?WeakSet:Set,L=null;function It(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(o){ne(n,e,o)}else t.current=null}function kl(n,e,t){try{t()}catch(o){ne(n,e,o)}}var Qu=!1;function Qh(n,e){if(hl=Rr,n=zc(),ms(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var o=t.getSelection&&t.getSelection();if(o&&o.rangeCount!==0){t=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var s=0,a=-1,d=-1,c=0,f=0,p=n,m=null;n:for(;;){for(var g;p!==t||r!==0&&p.nodeType!==3||(a=s+r),p!==i||o!==0&&p.nodeType!==3||(d=s+o),p.nodeType===3&&(s+=p.nodeValue.length),(g=p.firstChild)!==null;)m=p,p=g;for(;;){if(p===n)break n;if(m===t&&++c===r&&(a=s),m===i&&++f===o&&(d=s),(g=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=g}t=a===-1||d===-1?null:{start:a,end:d}}else t=null}t=t||{start:0,end:0}}else t=null;for(gl={focusedElem:n,selectionRange:t},Rr=!1,L=e;L!==null;)if(e=L,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,L=n;else for(;L!==null;){e=L;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var E=T.memoizedProps,P=T.memoizedState,v=e.stateNode,h=v.getSnapshotBeforeUpdate(e.elementType===e.type?E:Xe(e.type,E),P);v.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(S){ne(e,e.return,S)}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}return T=Qu,Qu=!1,T}function vo(n,e,t){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&n)===n){var i=r.destroy;r.destroy=void 0,i!==void 0&&kl(e,t,i)}r=r.next}while(r!==o)}}function ii(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var o=t.create;t.destroy=o()}t=t.next}while(t!==e)}}function Dl(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function qf(n){var e=n.alternate;e!==null&&(n.alternate=null,qf(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[un],delete e[ko],delete e[Tl],delete e[Mh],delete e[kh])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Hf(n){return n.tag===5||n.tag===3||n.tag===4}function Xu(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Hf(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ll(n,e,t){var o=n.tag;if(o===5||o===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Mr));else if(o!==4&&(n=n.child,n!==null))for(Ll(n,e,t),n=n.sibling;n!==null;)Ll(n,e,t),n=n.sibling}function Ul(n,e,t){var o=n.tag;if(o===5||o===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(o!==4&&(n=n.child,n!==null))for(Ul(n,e,t),n=n.sibling;n!==null;)Ul(n,e,t),n=n.sibling}var de=null,Ze=!1;function Pn(n,e,t){for(t=t.child;t!==null;)Bf(n,e,t),t=t.sibling}function Bf(n,e,t){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Zr,t)}catch{}switch(t.tag){case 5:ge||It(t,e);case 6:var o=de,r=Ze;de=null,Pn(n,e,t),de=o,Ze=r,de!==null&&(Ze?(n=de,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):de.removeChild(t.stateNode));break;case 18:de!==null&&(Ze?(n=de,t=t.stateNode,n.nodeType===8?Li(n.parentNode,t):n.nodeType===1&&Li(n,t),Po(n)):Li(de,t.stateNode));break;case 4:o=de,r=Ze,de=t.stateNode.containerInfo,Ze=!0,Pn(n,e,t),de=o,Ze=r;break;case 0:case 11:case 14:case 15:if(!ge&&(o=t.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var i=r,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&kl(t,e,s),r=r.next}while(r!==o)}Pn(n,e,t);break;case 1:if(!ge&&(It(t,e),o=t.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=t.memoizedProps,o.state=t.memoizedState,o.componentWillUnmount()}catch(a){ne(t,e,a)}Pn(n,e,t);break;case 21:Pn(n,e,t);break;case 22:t.mode&1?(ge=(o=ge)||t.memoizedState!==null,Pn(n,e,t),ge=o):Pn(n,e,t);break;default:Pn(n,e,t)}}function Zu(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new Yh),e.forEach(function(o){var r=rg.bind(null,n,o);t.has(o)||(t.add(o),o.then(r,r))})}}function Qe(n,e){var t=e.deletions;if(t!==null)for(var o=0;o<t.length;o++){var r=t[o];try{var i=n,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:de=a.stateNode,Ze=!1;break e;case 3:de=a.stateNode.containerInfo,Ze=!0;break e;case 4:de=a.stateNode.containerInfo,Ze=!0;break e}a=a.return}if(de===null)throw Error(A(160));Bf(i,s,r),de=null,Ze=!1;var d=r.alternate;d!==null&&(d.return=null),r.return=null}catch(c){ne(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zf(e,n),e=e.sibling}function zf(n,e){var t=n.alternate,o=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Qe(e,n),ln(n),o&4){try{vo(3,n,n.return),ii(3,n)}catch(E){ne(n,n.return,E)}try{vo(5,n,n.return)}catch(E){ne(n,n.return,E)}}break;case 1:Qe(e,n),ln(n),o&512&&t!==null&&It(t,t.return);break;case 5:if(Qe(e,n),ln(n),o&512&&t!==null&&It(t,t.return),n.flags&32){var r=n.stateNode;try{Co(r,"")}catch(E){ne(n,n.return,E)}}if(o&4&&(r=n.stateNode,r!=null)){var i=n.memoizedProps,s=t!==null?t.memoizedProps:i,a=n.type,d=n.updateQueue;if(n.updateQueue=null,d!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&ac(r,i),il(a,s);var c=il(a,i);for(s=0;s<d.length;s+=2){var f=d[s],p=d[s+1];f==="style"?mc(r,p):f==="dangerouslySetInnerHTML"?fc(r,p):f==="children"?Co(r,p):ns(r,f,p,c)}switch(a){case"input":el(r,i);break;case"textarea":dc(r,i);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Pt(r,!!i.multiple,g,!1):m!==!!i.multiple&&(i.defaultValue!=null?Pt(r,!!i.multiple,i.defaultValue,!0):Pt(r,!!i.multiple,i.multiple?[]:"",!1))}r[ko]=i}catch(E){ne(n,n.return,E)}}break;case 6:if(Qe(e,n),ln(n),o&4){if(n.stateNode===null)throw Error(A(162));r=n.stateNode,i=n.memoizedProps;try{r.nodeValue=i}catch(E){ne(n,n.return,E)}}break;case 3:if(Qe(e,n),ln(n),o&4&&t!==null&&t.memoizedState.isDehydrated)try{Po(e.containerInfo)}catch(E){ne(n,n.return,E)}break;case 4:Qe(e,n),ln(n);break;case 13:Qe(e,n),ln(n),r=n.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Ls=oe())),o&4&&Zu(n);break;case 22:if(f=t!==null&&t.memoizedState!==null,n.mode&1?(ge=(c=ge)||f,Qe(e,n),ge=c):Qe(e,n),ln(n),o&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!f&&n.mode&1)for(L=n,f=n.child;f!==null;){for(p=L=f;L!==null;){switch(m=L,g=m.child,m.tag){case 0:case 11:case 14:case 15:vo(4,m,m.return);break;case 1:It(m,m.return);var T=m.stateNode;if(typeof T.componentWillUnmount=="function"){o=m,t=m.return;try{e=o,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(E){ne(o,t,E)}}break;case 5:It(m,m.return);break;case 22:if(m.memoizedState!==null){ju(p);continue}}g!==null?(g.return=m,L=g):ju(p)}f=f.sibling}e:for(f=null,p=n;;){if(p.tag===5){if(f===null){f=p;try{r=p.stateNode,c?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,d=p.memoizedProps.style,s=d!=null&&d.hasOwnProperty("display")?d.display:null,a.style.display=pc("display",s))}catch(E){ne(n,n.return,E)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(E){ne(n,n.return,E)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===n)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Qe(e,n),ln(n),o&4&&Zu(n);break;case 21:break;default:Qe(e,n),ln(n)}}function ln(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(Hf(t)){var o=t;break e}t=t.return}throw Error(A(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(Co(r,""),o.flags&=-33);var i=Xu(n);Ul(n,i,r);break;case 3:case 4:var s=o.stateNode.containerInfo,a=Xu(n);Ll(n,a,s);break;default:throw Error(A(161))}}catch(d){ne(n,n.return,d)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function Xh(n,e,t){L=n,Jf(n)}function Jf(n,e,t){for(var o=(n.mode&1)!==0;L!==null;){var r=L,i=r.child;if(r.tag===22&&o){var s=r.memoizedState!==null||lr;if(!s){var a=r.alternate,d=a!==null&&a.memoizedState!==null||ge;a=lr;var c=ge;if(lr=s,(ge=d)&&!c)for(L=r;L!==null;)s=L,d=s.child,s.tag===22&&s.memoizedState!==null?ea(r):d!==null?(d.return=s,L=d):ea(r);for(;i!==null;)L=i,Jf(i),i=i.sibling;L=r,lr=a,ge=c}bu(n)}else r.subtreeFlags&8772&&i!==null?(i.return=r,L=i):bu(n)}}function bu(n){for(;L!==null;){var e=L;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ge||ii(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!ge)if(t===null)o.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Xe(e.type,t.memoizedProps);o.componentDidUpdate(r,t.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Fu(e,i,o);break;case 3:var s=e.updateQueue;if(s!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Fu(e,s,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&t.focus();break;case"img":d.src&&(t.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Po(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}ge||e.flags&512&&Dl(e)}catch(m){ne(e,e.return,m)}}if(e===n){L=null;break}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}}function ju(n){for(;L!==null;){var e=L;if(e===n){L=null;break}var t=e.sibling;if(t!==null){t.return=e.return,L=t;break}L=e.return}}function ea(n){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{ii(4,e)}catch(d){ne(e,t,d)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var r=e.return;try{o.componentDidMount()}catch(d){ne(e,r,d)}}var i=e.return;try{Dl(e)}catch(d){ne(e,i,d)}break;case 5:var s=e.return;try{Dl(e)}catch(d){ne(e,s,d)}}}catch(d){ne(e,e.return,d)}if(e===n){L=null;break}var a=e.sibling;if(a!==null){a.return=e.return,L=a;break}L=e.return}}var Zh=Math.ceil,zr=Cn.ReactCurrentDispatcher,ks=Cn.ReactCurrentOwner,$e=Cn.ReactCurrentBatchConfig,H=0,ae=null,re=null,ce=0,De=0,wt=Wn(0),le=0,Go=null,st=0,li=0,Ds=0,To=null,Pe=null,Ls=0,zt=1/0,pn=null,Jr=!1,Fl=null,Hn=null,sr=!1,Dn=null,$r=0,Eo=0,Vl=null,vr=-1,Tr=0;function _e(){return H&6?oe():vr!==-1?vr:vr=oe()}function Bn(n){return n.mode&1?H&2&&ce!==0?ce&-ce:Lh.transition!==null?(Tr===0&&(Tr=Ac()),Tr):(n=O,n!==0||(n=window.event,n=n===void 0?16:Dc(n.type)),n):1}function en(n,e,t,o){if(50<Eo)throw Eo=0,Vl=null,Error(A(185));Ho(n,t,o),(!(H&2)||n!==ae)&&(n===ae&&(!(H&2)&&(li|=t),le===4&&Mn(n,ce)),Me(n,o),t===1&&H===0&&!(e.mode&1)&&(zt=oe()+500,ti&&Kn()))}function Me(n,e){var t=n.callbackNode;Lm(n,e);var o=Pr(n,n===ae?ce:0);if(o===0)t!==null&&au(t),n.callbackNode=null,n.callbackPriority=0;else if(e=o&-o,n.callbackPriority!==e){if(t!=null&&au(t),e===1)n.tag===0?Dh(na.bind(null,n)):bc(na.bind(null,n)),Nh(function(){!(H&6)&&Kn()}),t=null;else{switch(Pc(o)){case 1:t=ls;break;case 4:t=Ic;break;case 16:t=Ar;break;case 536870912:t=wc;break;default:t=Ar}t=Zf(t,$f.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function $f(n,e){if(vr=-1,Tr=0,H&6)throw Error(A(327));var t=n.callbackNode;if(kt()&&n.callbackNode!==t)return null;var o=Pr(n,n===ae?ce:0);if(o===0)return null;if(o&30||o&n.expiredLanes||e)e=Or(n,o);else{e=o;var r=H;H|=2;var i=Wf();(ae!==n||ce!==e)&&(pn=null,zt=oe()+500,tt(n,e));do try{eg();break}catch(a){Of(n,a)}while(!0);Ts(),zr.current=i,H=r,re!==null?e=0:(ae=null,ce=0,e=le)}if(e!==0){if(e===2&&(r=dl(n),r!==0&&(o=r,e=Gl(n,r))),e===1)throw t=Go,tt(n,0),Mn(n,o),Me(n,oe()),t;if(e===6)Mn(n,o);else{if(r=n.current.alternate,!(o&30)&&!bh(r)&&(e=Or(n,o),e===2&&(i=dl(n),i!==0&&(o=i,e=Gl(n,i))),e===1))throw t=Go,tt(n,0),Mn(n,o),Me(n,oe()),t;switch(n.finishedWork=r,n.finishedLanes=o,e){case 0:case 1:throw Error(A(345));case 2:bn(n,Pe,pn);break;case 3:if(Mn(n,o),(o&130023424)===o&&(e=Ls+500-oe(),10<e)){if(Pr(n,0)!==0)break;if(r=n.suspendedLanes,(r&o)!==o){_e(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=vl(bn.bind(null,n,Pe,pn),e);break}bn(n,Pe,pn);break;case 4:if(Mn(n,o),(o&4194240)===o)break;for(e=n.eventTimes,r=-1;0<o;){var s=31-je(o);i=1<<s,s=e[s],s>r&&(r=s),o&=~i}if(o=r,o=oe()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Zh(o/1960))-o,10<o){n.timeoutHandle=vl(bn.bind(null,n,Pe,pn),o);break}bn(n,Pe,pn);break;case 5:bn(n,Pe,pn);break;default:throw Error(A(329))}}}return Me(n,oe()),n.callbackNode===t?$f.bind(null,n):null}function Gl(n,e){var t=To;return n.current.memoizedState.isDehydrated&&(tt(n,e).flags|=256),n=Or(n,e),n!==2&&(e=Pe,Pe=t,e!==null&&ql(e)),n}function ql(n){Pe===null?Pe=n:Pe.push.apply(Pe,n)}function bh(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var o=0;o<t.length;o++){var r=t[o],i=r.getSnapshot;r=r.value;try{if(!nn(i(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mn(n,e){for(e&=~Ds,e&=~li,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-je(e),o=1<<t;n[t]=-1,e&=~o}}function na(n){if(H&6)throw Error(A(327));kt();var e=Pr(n,0);if(!(e&1))return Me(n,oe()),null;var t=Or(n,e);if(n.tag!==0&&t===2){var o=dl(n);o!==0&&(e=o,t=Gl(n,o))}if(t===1)throw t=Go,tt(n,0),Mn(n,e),Me(n,oe()),t;if(t===6)throw Error(A(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,bn(n,Pe,pn),Me(n,oe()),null}function Us(n,e){var t=H;H|=1;try{return n(e)}finally{H=t,H===0&&(zt=oe()+500,ti&&Kn())}}function ut(n){Dn!==null&&Dn.tag===0&&!(H&6)&&kt();var e=H;H|=1;var t=$e.transition,o=O;try{if($e.transition=null,O=1,n)return n()}finally{O=o,$e.transition=t,H=e,!(H&6)&&Kn()}}function Fs(){De=wt.current,Q(wt)}function tt(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,Rh(t)),re!==null)for(t=re.return;t!==null;){var o=t;switch(gs(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&kr();break;case 3:Ht(),Q(Ne),Q(ve),ws();break;case 5:Is(o);break;case 4:Ht();break;case 13:Q(b);break;case 19:Q(b);break;case 10:Es(o.type._context);break;case 22:case 23:Fs()}t=t.return}if(ae=n,re=n=zn(n.current,null),ce=De=e,le=0,Go=null,Ds=li=st=0,Pe=To=null,et!==null){for(e=0;e<et.length;e++)if(t=et[e],o=t.interleaved,o!==null){t.interleaved=null;var r=o.next,i=t.pending;if(i!==null){var s=i.next;i.next=r,o.next=s}t.pending=o}et=null}return n}function Of(n,e){do{var t=re;try{if(Ts(),hr.current=Br,Hr){for(var o=j.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}Hr=!1}if(lt=0,ue=ie=j=null,yo=!1,Uo=0,ks.current=null,t===null||t.return===null){le=1,Go=e,re=null;break}e:{var i=n,s=t.return,a=t,d=e;if(e=ce,a.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,f=a,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=zu(s);if(g!==null){g.flags&=-257,Ju(g,s,a,i,e),g.mode&1&&Bu(i,c,e),e=g,d=c;var T=e.updateQueue;if(T===null){var E=new Set;E.add(d),e.updateQueue=E}else T.add(d);break e}else{if(!(e&1)){Bu(i,c,e),Vs();break e}d=Error(A(426))}}else if(X&&a.mode&1){var P=zu(s);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Ju(P,s,a,i,e),ys(Bt(d,a));break e}}i=d=Bt(d,a),le!==4&&(le=2),To===null?To=[i]:To.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=Rf(i,d,e);Uu(i,v);break e;case 1:a=d;var h=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Hn===null||!Hn.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=Nf(i,a,e);Uu(i,S);break e}}i=i.return}while(i!==null)}Yf(t)}catch(C){e=C,re===t&&t!==null&&(re=t=t.return);continue}break}while(!0)}function Wf(){var n=zr.current;return zr.current=Br,n===null?Br:n}function Vs(){(le===0||le===3||le===2)&&(le=4),ae===null||!(st&268435455)&&!(li&268435455)||Mn(ae,ce)}function Or(n,e){var t=H;H|=2;var o=Wf();(ae!==n||ce!==e)&&(pn=null,tt(n,e));do try{jh();break}catch(r){Of(n,r)}while(!0);if(Ts(),H=t,zr.current=o,re!==null)throw Error(A(261));return ae=null,ce=0,le}function jh(){for(;re!==null;)Kf(re)}function eg(){for(;re!==null&&!wm();)Kf(re)}function Kf(n){var e=Xf(n.alternate,n,De);n.memoizedProps=n.pendingProps,e===null?Yf(n):re=e,ks.current=null}function Yf(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=Kh(t,e),t!==null){t.flags&=32767,re=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{le=6,re=null;return}}else if(t=Wh(t,e,De),t!==null){re=t;return}if(e=e.sibling,e!==null){re=e;return}re=e=n}while(e!==null);le===0&&(le=5)}function bn(n,e,t){var o=O,r=$e.transition;try{$e.transition=null,O=1,ng(n,e,t,o)}finally{$e.transition=r,O=o}return null}function ng(n,e,t,o){do kt();while(Dn!==null);if(H&6)throw Error(A(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(A(177));n.callbackNode=null,n.callbackPriority=0;var i=t.lanes|t.childLanes;if(Um(n,i),n===ae&&(re=ae=null,ce=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||sr||(sr=!0,Zf(Ar,function(){return kt(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=$e.transition,$e.transition=null;var s=O;O=1;var a=H;H|=4,ks.current=null,Qh(n,t),zf(t,n),Sh(gl),Rr=!!hl,gl=hl=null,n.current=t,Xh(t),Am(),H=a,O=s,$e.transition=i}else n.current=t;if(sr&&(sr=!1,Dn=n,$r=r),i=n.pendingLanes,i===0&&(Hn=null),Nm(t.stateNode),Me(n,oe()),e!==null)for(o=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],o(r.value,{componentStack:r.stack,digest:r.digest});if(Jr)throw Jr=!1,n=Fl,Fl=null,n;return $r&1&&n.tag!==0&&kt(),i=n.pendingLanes,i&1?n===Vl?Eo++:(Eo=0,Vl=n):Eo=0,Kn(),null}function kt(){if(Dn!==null){var n=Pc($r),e=$e.transition,t=O;try{if($e.transition=null,O=16>n?16:n,Dn===null)var o=!1;else{if(n=Dn,Dn=null,$r=0,H&6)throw Error(A(331));var r=H;for(H|=4,L=n.current;L!==null;){var i=L,s=i.child;if(L.flags&16){var a=i.deletions;if(a!==null){for(var d=0;d<a.length;d++){var c=a[d];for(L=c;L!==null;){var f=L;switch(f.tag){case 0:case 11:case 15:vo(8,f,i)}var p=f.child;if(p!==null)p.return=f,L=p;else for(;L!==null;){f=L;var m=f.sibling,g=f.return;if(qf(f),f===c){L=null;break}if(m!==null){m.return=g,L=m;break}L=g}}}var T=i.alternate;if(T!==null){var E=T.child;if(E!==null){T.child=null;do{var P=E.sibling;E.sibling=null,E=P}while(E!==null)}}L=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,L=s;else e:for(;L!==null;){if(i=L,i.flags&2048)switch(i.tag){case 0:case 11:case 15:vo(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,L=v;break e}L=i.return}}var h=n.current;for(L=h;L!==null;){s=L;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,L=y;else e:for(s=h;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ii(9,a)}}catch(C){ne(a,a.return,C)}if(a===s){L=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,L=S;break e}L=a.return}}if(H=r,Kn(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Zr,n)}catch{}o=!0}return o}finally{O=t,$e.transition=e}}return!1}function ta(n,e,t){e=Bt(t,e),e=Rf(n,e,1),n=qn(n,e,1),e=_e(),n!==null&&(Ho(n,1,e),Me(n,e))}function ne(n,e,t){if(n.tag===3)ta(n,n,t);else for(;e!==null;){if(e.tag===3){ta(e,n,t);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Hn===null||!Hn.has(o))){n=Bt(t,n),n=Nf(e,n,1),e=qn(e,n,1),n=_e(),e!==null&&(Ho(e,1,n),Me(e,n));break}}e=e.return}}function tg(n,e,t){var o=n.pingCache;o!==null&&o.delete(e),e=_e(),n.pingedLanes|=n.suspendedLanes&t,ae===n&&(ce&t)===t&&(le===4||le===3&&(ce&130023424)===ce&&500>oe()-Ls?tt(n,0):Ds|=t),Me(n,e)}function Qf(n,e){e===0&&(n.mode&1?(e=Zo,Zo<<=1,!(Zo&130023424)&&(Zo=4194304)):e=1);var t=_e();n=En(n,e),n!==null&&(Ho(n,e,t),Me(n,t))}function og(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),Qf(n,t)}function rg(n,e){var t=0;switch(n.tag){case 13:var o=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:o=n.stateNode;break;default:throw Error(A(314))}o!==null&&o.delete(e),Qf(n,t)}var Xf;Xf=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Ne.current)Re=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Re=!1,Oh(n,e,t);Re=!!(n.flags&131072)}else Re=!1,X&&e.flags&1048576&&jc(e,Ur,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;yr(n,e),n=e.pendingProps;var r=Vt(e,ve.current);Mt(e,t),r=Ps(null,e,o,n,r,t);var i=Rs();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xe(o)?(i=!0,Dr(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,_s(e),r.updater=ri,e.stateNode=r,r._reactInternals=e,wl(e,o,n,t),e=Rl(null,e,o,!0,i,t)):(e.tag=0,X&&i&&hs(e),Se(null,e,r,t),e=e.child),e;case 16:o=e.elementType;e:{switch(yr(n,e),n=e.pendingProps,r=o._init,o=r(o._payload),e.type=o,r=e.tag=lg(o),n=Xe(o,n),r){case 0:e=Pl(null,e,o,n,t);break e;case 1:e=Wu(null,e,o,n,t);break e;case 11:e=$u(null,e,o,n,t);break e;case 14:e=Ou(null,e,o,Xe(o.type,n),t);break e}throw Error(A(306,o,""))}return e;case 0:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Xe(o,r),Pl(n,e,o,r,t);case 1:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Xe(o,r),Wu(n,e,o,r,t);case 3:e:{if(Df(e),n===null)throw Error(A(387));o=e.pendingProps,i=e.memoizedState,r=i.element,lf(n,e),Gr(e,o,null,t);var s=e.memoizedState;if(o=s.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=Bt(Error(A(423)),e),e=Ku(n,e,o,t,r);break e}else if(o!==r){r=Bt(Error(A(424)),e),e=Ku(n,e,o,t,r);break e}else for(Le=Gn(e.stateNode.containerInfo.firstChild),Ue=e,X=!0,be=null,t=of(e,null,o,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Gt(),o===r){e=Sn(n,e,t);break e}Se(n,e,o,t)}e=e.child}return e;case 5:return sf(e),n===null&&_l(e),o=e.type,r=e.pendingProps,i=n!==null?n.memoizedProps:null,s=r.children,yl(o,r)?s=null:i!==null&&yl(o,i)&&(e.flags|=32),kf(n,e),Se(n,e,s,t),e.child;case 6:return n===null&&_l(e),null;case 13:return Lf(n,e,t);case 4:return Cs(e,e.stateNode.containerInfo),o=e.pendingProps,n===null?e.child=qt(e,null,o,t):Se(n,e,o,t),e.child;case 11:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Xe(o,r),$u(n,e,o,r,t);case 7:return Se(n,e,e.pendingProps,t),e.child;case 8:return Se(n,e,e.pendingProps.children,t),e.child;case 12:return Se(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(o=e.type._context,r=e.pendingProps,i=e.memoizedProps,s=r.value,W(Fr,o._currentValue),o._currentValue=s,i!==null)if(nn(i.value,s)){if(i.children===r.children&&!Ne.current){e=Sn(n,e,t);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var d=a.firstContext;d!==null;){if(d.context===o){if(i.tag===1){d=yn(-1,t&-t),d.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?d.next=d:(d.next=f.next,f.next=d),c.pending=d}}i.lanes|=t,d=i.alternate,d!==null&&(d.lanes|=t),Cl(i.return,t,e),a.lanes|=t;break}d=d.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(A(341));s.lanes|=t,a=s.alternate,a!==null&&(a.lanes|=t),Cl(s,t,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Se(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,o=e.pendingProps.children,Mt(e,t),r=We(r),o=o(r),e.flags|=1,Se(n,e,o,t),e.child;case 14:return o=e.type,r=Xe(o,e.pendingProps),r=Xe(o.type,r),Ou(n,e,o,r,t);case 15:return xf(n,e,e.type,e.pendingProps,t);case 17:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Xe(o,r),yr(n,e),e.tag=1,xe(o)?(n=!0,Dr(e)):n=!1,Mt(e,t),Pf(e,o,r),wl(e,o,r,t),Rl(null,e,o,!0,n,t);case 19:return Uf(n,e,t);case 22:return Mf(n,e,t)}throw Error(A(156,e.tag))};function Zf(n,e){return Cc(n,e)}function ig(n,e,t,o){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Je(n,e,t,o){return new ig(n,e,t,o)}function Gs(n){return n=n.prototype,!(!n||!n.isReactComponent)}function lg(n){if(typeof n=="function")return Gs(n)?1:0;if(n!=null){if(n=n.$$typeof,n===os)return 11;if(n===rs)return 14}return 2}function zn(n,e){var t=n.alternate;return t===null?(t=Je(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Er(n,e,t,o,r,i){var s=2;if(o=n,typeof n=="function")Gs(n)&&(s=1);else if(typeof n=="string")s=5;else e:switch(n){case ht:return ot(t.children,r,i,e);case ts:s=8,r|=8;break;case Qi:return n=Je(12,t,e,r|2),n.elementType=Qi,n.lanes=i,n;case Xi:return n=Je(13,t,e,r),n.elementType=Xi,n.lanes=i,n;case Zi:return n=Je(19,t,e,r),n.elementType=Zi,n.lanes=i,n;case lc:return si(t,r,i,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case rc:s=10;break e;case ic:s=9;break e;case os:s=11;break e;case rs:s=14;break e;case Rn:s=16,o=null;break e}throw Error(A(130,n==null?n:typeof n,""))}return e=Je(s,t,e,r),e.elementType=n,e.type=o,e.lanes=i,e}function ot(n,e,t,o){return n=Je(7,n,o,e),n.lanes=t,n}function si(n,e,t,o){return n=Je(22,n,o,e),n.elementType=lc,n.lanes=t,n.stateNode={isHidden:!1},n}function zi(n,e,t){return n=Je(6,n,null,e),n.lanes=t,n}function Ji(n,e,t){return e=Je(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function sg(n,e,t,o,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ci(0),this.expirationTimes=Ci(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function qs(n,e,t,o,r,i,s,a,d){return n=new sg(n,e,t,a,d),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Je(3,null,null,e),n.current=i,i.stateNode=n,i.memoizedState={element:o,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},_s(i),n}function ug(n,e,t){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mt,key:o==null?null:""+o,children:n,containerInfo:e,implementation:t}}function bf(n){if(!n)return $n;n=n._reactInternals;e:{if(dt(n)!==n||n.tag!==1)throw Error(A(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(A(171))}if(n.tag===1){var t=n.type;if(xe(t))return Zc(n,t,e)}return e}function jf(n,e,t,o,r,i,s,a,d){return n=qs(t,o,!0,n,r,i,s,a,d),n.context=bf(null),t=n.current,o=_e(),r=Bn(t),i=yn(o,r),i.callback=e??null,qn(t,i,r),n.current.lanes=r,Ho(n,r,o),Me(n,o),n}function ui(n,e,t,o){var r=e.current,i=_e(),s=Bn(r);return t=bf(t),e.context===null?e.context=t:e.pendingContext=t,e=yn(i,s),e.payload={element:n},o=o===void 0?null:o,o!==null&&(e.callback=o),n=qn(r,e,s),n!==null&&(en(n,r,s,i),mr(n,r,s)),s}function Wr(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function oa(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Hs(n,e){oa(n,e),(n=n.alternate)&&oa(n,e)}function ag(){return null}var ep=typeof reportError=="function"?reportError:function(n){console.error(n)};function Bs(n){this._internalRoot=n}ai.prototype.render=Bs.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(A(409));ui(n,e,null,null)};ai.prototype.unmount=Bs.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;ut(function(){ui(null,n,null,null)}),e[Tn]=null}};function ai(n){this._internalRoot=n}ai.prototype.unstable_scheduleHydration=function(n){if(n){var e=xc();n={blockedOn:null,target:n,priority:e};for(var t=0;t<xn.length&&e!==0&&e<xn[t].priority;t++);xn.splice(t,0,n),t===0&&kc(n)}};function zs(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function di(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function ra(){}function dg(n,e,t,o,r){if(r){if(typeof o=="function"){var i=o;o=function(){var c=Wr(s);i.call(c)}}var s=jf(e,o,n,0,null,!1,!1,"",ra);return n._reactRootContainer=s,n[Tn]=s.current,xo(n.nodeType===8?n.parentNode:n),ut(),s}for(;r=n.lastChild;)n.removeChild(r);if(typeof o=="function"){var a=o;o=function(){var c=Wr(d);a.call(c)}}var d=qs(n,0,!1,null,null,!1,!1,"",ra);return n._reactRootContainer=d,n[Tn]=d.current,xo(n.nodeType===8?n.parentNode:n),ut(function(){ui(e,d,t,o)}),d}function ci(n,e,t,o,r){var i=t._reactRootContainer;if(i){var s=i;if(typeof r=="function"){var a=r;r=function(){var d=Wr(s);a.call(d)}}ui(e,s,n,r)}else s=dg(t,e,n,r,o);return Wr(s)}Rc=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=ao(e.pendingLanes);t!==0&&(ss(e,t|1),Me(e,oe()),!(H&6)&&(zt=oe()+500,Kn()))}break;case 13:ut(function(){var o=En(n,1);if(o!==null){var r=_e();en(o,n,1,r)}}),Hs(n,1)}};us=function(n){if(n.tag===13){var e=En(n,134217728);if(e!==null){var t=_e();en(e,n,134217728,t)}Hs(n,134217728)}};Nc=function(n){if(n.tag===13){var e=Bn(n),t=En(n,e);if(t!==null){var o=_e();en(t,n,e,o)}Hs(n,e)}};xc=function(){return O};Mc=function(n,e){var t=O;try{return O=n,e()}finally{O=t}};sl=function(n,e,t){switch(e){case"input":if(el(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var o=t[e];if(o!==n&&o.form===n.form){var r=ni(o);if(!r)throw Error(A(90));uc(o),el(o,r)}}}break;case"textarea":dc(n,t);break;case"select":e=t.value,e!=null&&Pt(n,!!t.multiple,e,!1)}};yc=Us;vc=ut;var cg={usingClientEntryPoint:!1,Events:[zo,Tt,ni,hc,gc,Us]},io={findFiberByHostInstance:jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fg={bundleType:io.bundleType,version:io.version,rendererPackageName:io.rendererPackageName,rendererConfig:io.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Sc(n),n===null?null:n.stateNode},findFiberByHostInstance:io.findFiberByHostInstance||ag,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ur=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ur.isDisabled&&ur.supportsFiber)try{Zr=ur.inject(fg),an=ur}catch{}}Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cg;Ve.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zs(e))throw Error(A(200));return ug(n,e,null,t)};Ve.createRoot=function(n,e){if(!zs(n))throw Error(A(299));var t=!1,o="",r=ep;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=qs(n,1,!1,null,null,t,!1,o,r),n[Tn]=e.current,xo(n.nodeType===8?n.parentNode:n),new Bs(e)};Ve.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(A(188)):(n=Object.keys(n).join(","),Error(A(268,n)));return n=Sc(e),n=n===null?null:n.stateNode,n};Ve.flushSync=function(n){return ut(n)};Ve.hydrate=function(n,e,t){if(!di(e))throw Error(A(200));return ci(null,n,e,!0,t)};Ve.hydrateRoot=function(n,e,t){if(!zs(n))throw Error(A(405));var o=t!=null&&t.hydratedSources||null,r=!1,i="",s=ep;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),e=jf(e,null,n,1,t??null,r,!1,i,s),n[Tn]=e.current,xo(n),o)for(n=0;n<o.length;n++)t=o[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new ai(e)};Ve.render=function(n,e,t){if(!di(e))throw Error(A(200));return ci(null,n,e,!1,t)};Ve.unmountComponentAtNode=function(n){if(!di(n))throw Error(A(40));return n._reactRootContainer?(ut(function(){ci(null,null,n,!1,function(){n._reactRootContainer=null,n[Tn]=null})}),!0):!1};Ve.unstable_batchedUpdates=Us;Ve.unstable_renderSubtreeIntoContainer=function(n,e,t,o){if(!di(t))throw Error(A(200));if(n==null||n._reactInternals===void 0)throw Error(A(38));return ci(n,e,t,!1,o)};Ve.version="18.3.1-next-f1338f8080-20240426";function np(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(np)}catch(n){console.error(n)}}np(),ec.exports=Ve;var pg=ec.exports,ia=pg;Ki.createRoot=ia.createRoot,Ki.hydrateRoot=ia.hydrateRoot;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let mg,hg;function gg(){return{geminiUrl:mg,vertexUrl:hg}}function yg(n,e,t,o){var r,i;if(!(n!=null&&n.baseUrl)){const s=gg();return e?(r=s.vertexUrl)!==null&&r!==void 0?r:t:(i=s.geminiUrl)!==null&&i!==void 0?i:o}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class In{}function x(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const i=e[r];return i!=null?String(i):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function u(n,e,t){for(let i=0;i<e.length-1;i++){const s=e[i];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in n))if(Array.isArray(t))n[a]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(n[a])){const d=n[a];if(Array.isArray(t))for(let c=0;c<d.length;c++){const f=d[c];u(f,e.slice(i+1),t[c])}else for(const c of d)u(c,e.slice(i+1),t)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in n||(n[a]=[{}]);const d=n[a];u(d[0],e.slice(i+1),t);return}(!n[s]||typeof n[s]!="object")&&(n[s]={}),n=n[s]}const o=e[e.length-1],r=n[o];if(r!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===r)return;if(typeof r=="object"&&typeof t=="object"&&r!==null&&t!==null)Object.assign(r,t);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[o]=t}function l(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let o=0;o<e.length;o++){if(typeof n!="object"||n===null)return t;const r=e[o];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in n){const s=n[i];return Array.isArray(s)?s.map(a=>l(a,e.slice(o+1),t)):t}else return t}else n=n[r]}return n}catch(o){if(o instanceof TypeError)return t;throw o}}function vg(n,e){for(const[t,o]of Object.entries(e)){const r=t.split("."),i=o.split("."),s=new Set;let a=-1;for(let d=0;d<r.length;d++)if(r[d]==="*"){a=d;break}if(a!==-1&&i.length>a)for(let d=a;d<i.length;d++){const c=i[d];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&s.add(c)}Hl(n,r,i,0,s)}}function Hl(n,e,t,o,r){if(o>=e.length||typeof n!="object"||n===null)return;const i=e[o];if(i.endsWith("[]")){const s=i.slice(0,-2),a=n;if(s in a&&Array.isArray(a[s]))for(const d of a[s])Hl(d,e,t,o+1,r)}else if(i==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const s=n,a=Object.keys(s).filter(c=>!c.startsWith("_")&&!r.has(c)),d={};for(const c of a)d[c]=s[c];for(const[c,f]of Object.entries(d)){const p=[];for(const m of t.slice(o))m==="*"?p.push(c):p.push(m);u(s,p,f)}for(const c of a)delete s[c]}}else{const s=n;i in s&&Hl(s[i],e,t,o+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Js(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tg(n){const e={},t=l(n,["operationName"]);t!=null&&u(e,["operationName"],t);const o=l(n,["resourceName"]);return o!=null&&u(e,["_url","resourceName"],o),e}function Eg(n){const e={},t=l(n,["name"]);t!=null&&u(e,["name"],t);const o=l(n,["metadata"]);o!=null&&u(e,["metadata"],o);const r=l(n,["done"]);r!=null&&u(e,["done"],r);const i=l(n,["error"]);i!=null&&u(e,["error"],i);const s=l(n,["response","generateVideoResponse"]);return s!=null&&u(e,["response"],_g(s)),e}function Sg(n){const e={},t=l(n,["name"]);t!=null&&u(e,["name"],t);const o=l(n,["metadata"]);o!=null&&u(e,["metadata"],o);const r=l(n,["done"]);r!=null&&u(e,["done"],r);const i=l(n,["error"]);i!=null&&u(e,["error"],i);const s=l(n,["response"]);return s!=null&&u(e,["response"],Cg(s)),e}function _g(n){const e={},t=l(n,["generatedSamples"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>Ig(s))),u(e,["generatedVideos"],i)}const o=l(n,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const r=l(n,["raiMediaFilteredReasons"]);return r!=null&&u(e,["raiMediaFilteredReasons"],r),e}function Cg(n){const e={},t=l(n,["videos"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>wg(s))),u(e,["generatedVideos"],i)}const o=l(n,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const r=l(n,["raiMediaFilteredReasons"]);return r!=null&&u(e,["raiMediaFilteredReasons"],r),e}function Ig(n){const e={},t=l(n,["video"]);return t!=null&&u(e,["video"],Mg(t)),e}function wg(n){const e={},t=l(n,["_self"]);return t!=null&&u(e,["video"],kg(t)),e}function Ag(n){const e={},t=l(n,["operationName"]);return t!=null&&u(e,["_url","operationName"],t),e}function Pg(n){const e={},t=l(n,["operationName"]);return t!=null&&u(e,["_url","operationName"],t),e}function Rg(n){const e={},t=l(n,["name"]);t!=null&&u(e,["name"],t);const o=l(n,["metadata"]);o!=null&&u(e,["metadata"],o);const r=l(n,["done"]);r!=null&&u(e,["done"],r);const i=l(n,["error"]);i!=null&&u(e,["error"],i);const s=l(n,["response"]);return s!=null&&u(e,["response"],Ng(s)),e}function Ng(n){const e={},t=l(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=l(n,["parent"]);o!=null&&u(e,["parent"],o);const r=l(n,["documentName"]);return r!=null&&u(e,["documentName"],r),e}function tp(n){const e={},t=l(n,["name"]);t!=null&&u(e,["name"],t);const o=l(n,["metadata"]);o!=null&&u(e,["metadata"],o);const r=l(n,["done"]);r!=null&&u(e,["done"],r);const i=l(n,["error"]);i!=null&&u(e,["error"],i);const s=l(n,["response"]);return s!=null&&u(e,["response"],xg(s)),e}function xg(n){const e={},t=l(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=l(n,["parent"]);o!=null&&u(e,["parent"],o);const r=l(n,["documentName"]);return r!=null&&u(e,["documentName"],r),e}function Mg(n){const e={},t=l(n,["uri"]);t!=null&&u(e,["uri"],t);const o=l(n,["encodedVideo"]);o!=null&&u(e,["videoBytes"],Js(o));const r=l(n,["encoding"]);return r!=null&&u(e,["mimeType"],r),e}function kg(n){const e={},t=l(n,["gcsUri"]);t!=null&&u(e,["uri"],t);const o=l(n,["bytesBase64Encoded"]);o!=null&&u(e,["videoBytes"],Js(o));const r=l(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var la;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(la||(la={}));var sa;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(sa||(sa={}));var ua;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(ua||(ua={}));var Ln;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Ln||(Ln={}));var aa;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(aa||(aa={}));var da;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(da||(da={}));var ca;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(ca||(ca={}));var fa;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(fa||(fa={}));var pa;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(pa||(pa={}));var ma;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(ma||(ma={}));var ha;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(ha||(ha={}));var ga;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(ga||(ga={}));var ya;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(ya||(ya={}));var va;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(va||(va={}));var Ta;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Ta||(Ta={}));var Ea;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Ea||(Ea={}));var Sa;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(Sa||(Sa={}));var _a;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(_a||(_a={}));var Jt;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Jt||(Jt={}));var Ca;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ca||(Ca={}));var Ia;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Ia||(Ia={}));var wa;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(wa||(wa={}));var Bl;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Bl||(Bl={}));var Aa;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Aa||(Aa={}));var Pa;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Pa||(Pa={}));var Ra;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Ra||(Ra={}));var Na;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Na||(Na={}));var xa;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(xa||(xa={}));var Ma;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(Ma||(Ma={}));var ka;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(ka||(ka={}));var Da;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Da||(Da={}));var La;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(La||(La={}));var Ua;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Ua||(Ua={}));var Fa;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Fa||(Fa={}));var Va;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Va||(Va={}));var Ga;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Ga||(Ga={}));var qa;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(qa||(qa={}));var Ha;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(Ha||(Ha={}));var Ba;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(Ba||(Ba={}));var za;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(za||(za={}));var Ja;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Ja||(Ja={}));var $a;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})($a||($a={}));var Oa;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Oa||(Oa={}));var Wa;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Wa||(Wa={}));var Ka;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Ka||(Ka={}));var Ya;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Ya||(Ya={}));var Qa;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Qa||(Qa={}));var Xa;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Xa||(Xa={}));var Za;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Za||(Za={}));var ba;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ba||(ba={}));var ja;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ja||(ja={}));var ed;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(ed||(ed={}));var At;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(At||(At={}));class zl{constructor(e){const t={};for(const o of e.headers.entries())t[o[0]]=o[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class lo{get text(){var e,t,o,r,i,s,a,d;if(((r=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",f=!1;const p=[];for(const m of(d=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&d!==void 0?d:[]){for(const[g,T]of Object.entries(m))g!=="text"&&g!=="thought"&&(T!==null||T!==void 0)&&p.push(g);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;f=!0,c+=m.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?c:void 0}get data(){var e,t,o,r,i,s,a,d;if(((r=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const f=[];for(const p of(d=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&d!==void 0?d:[]){for(const[m,g]of Object.entries(p))m!=="inlineData"&&(g!==null||g!==void 0)&&f.push(m);p.inlineData&&typeof p.inlineData.data=="string"&&(c+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,t,o,r,i,s,a,d;if(((r=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(d=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||d===void 0?void 0:d.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,t,o,r,i,s,a,d,c;if(((r=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(d=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||d===void 0?void 0:d.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,t,o,r,i,s,a,d,c;if(((r=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(d=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||d===void 0?void 0:d.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.output}}class nd{}class td{}class Dg{}class Lg{}class Ug{}class Fg{}class od{}class rd{}class id{}class Vg{}class Kr{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const o=new Kr;let r;const i=e;return t?r=Sg(i):r=Eg(i),Object.assign(o,r),o}}class ld{}class sd{}class ud{}class Gg{}class qg{}class Hg{}class $s{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const o=new $s,i=Rg(e);return Object.assign(o,i),o}}class Bg{}class zg{}class Jg{}class ad{}class $g{get text(){var e,t,o;let r="",i=!1;const s=[];for(const a of(o=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&o!==void 0?o:[]){for(const[d,c]of Object.entries(a))d!=="text"&&d!=="thought"&&c!==null&&s.push(d);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;i=!0,r+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var e,t,o;let r="";const i=[];for(const s of(o=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&o!==void 0?o:[]){for(const[a,d]of Object.entries(s))a!=="inlineData"&&d!==null&&i.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(r+=atob(s.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Og{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Os{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const o=new Os,i=tp(e);return Object.assign(o,i),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function op(n,e){const t=$(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function rp(n){return Array.isArray(n)?n.map(e=>Yr(e)):[Yr(n)]}function Yr(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function ip(n){const e=Yr(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function lp(n){const e=Yr(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function dd(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function sp(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>dd(e)):[dd(n)]}function Jl(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function cd(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function fd(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function ye(n){if(n==null)throw new Error("ContentUnion is required");return Jl(n)?n:{role:"user",parts:sp(n)}}function Ws(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const o=ye(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(n.isVertexAI()){const t=ye(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>ye(t)):[ye(e)]}function Oe(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(cd(n)||fd(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ye(n)]}const e=[],t=[],o=Jl(n[0]);for(const r of n){const i=Jl(r);if(i!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(r);else{if(cd(r)||fd(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(r)}}return o||e.push({role:"user",parts:sp(t)}),e}function Wg(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(o=>o!=="null");if(t.length===1)e.type=Object.values(Ln).includes(t[0].toUpperCase())?t[0].toUpperCase():Ln.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of t)e.anyOf.push({type:Object.values(Ln).includes(o.toUpperCase())?o.toUpperCase():Ln.TYPE_UNSPECIFIED})}}function Dt(n){const e={},t=["items"],o=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=n.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,n=i[1]):i[1].type==="null"&&(e.nullable=!0,n=i[0])),n.type instanceof Array&&Wg(n.type,e);for(const[s,a]of Object.entries(n))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(Ln).includes(a.toUpperCase())?a.toUpperCase():Ln.TYPE_UNSPECIFIED}else if(t.includes(s))e[s]=Dt(a);else if(o.includes(s)){const d=[];for(const c of a){if(c.type=="null"){e.nullable=!0;continue}d.push(Dt(c))}e[s]=d}else if(r.includes(s)){const d={};for(const[c,f]of Object.entries(a))d[c]=Dt(f);e[s]=d}else{if(s==="additionalProperties")continue;e[s]=a}return e}function Ks(n){return Dt(n)}function Ys(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Qs(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Kt(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Dt(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Dt(e.response));return n}function Yt(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function Kg(n,e,t,o=1){const r=!e.startsWith(`${t}/`)&&e.split("/").length===o;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:r?`${t}/${e}`:e}function wn(n,e){if(typeof e!="string")throw new Error("name must be a string");return Kg(n,e,"cachedContents")}function up(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Yn(n){return Js(n)}function Yg(n){return n!=null&&typeof n=="object"&&"name"in n}function Qg(n){return n!=null&&typeof n=="object"&&"video"in n}function Xg(n){return n!=null&&typeof n=="object"&&"uri"in n}function ap(n){var e;let t;if(Yg(n)&&(t=n.name),!(Xg(n)&&(t=n.uri,t===void 0))&&!(Qg(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const r=t.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${t}`);t=r[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function dp(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function cp(n){for(const e of["models","tunedModels","publisherModels"])if(Zg(n,e))return n[e];return[]}function Zg(n,e){return n!==null&&typeof n=="object"&&e in n}function bg(n,e={}){const t=n,o={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(o.responseJsonSchema=t.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function jg(n,e={}){const t=[],o=new Set;for(const r of n){const i=r.name;if(o.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);o.add(i);const s=bg(r,e);s.functionDeclarations&&t.push(...s.functionDeclarations)}return{functionDeclarations:t}}function fp(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const o=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,r=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function ey(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function pp(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const r=t.inlinedResponses;if(!Array.isArray(r)||r.length===0)return n;let i=!1;for(const s of r){if(typeof s!="object"||s===null)continue;const d=s.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Qt(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function mp(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ny(n){const e={},t=l(n,["responsesFile"]);t!=null&&u(e,["fileName"],t);const o=l(n,["inlinedResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>ky(s))),u(e,["inlinedResponses"],i)}const r=l(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["inlinedEmbedContentResponses"],i)}return e}function ty(n){const e={},t=l(n,["predictionsFormat"]);t!=null&&u(e,["format"],t);const o=l(n,["gcsDestination","outputUriPrefix"]);o!=null&&u(e,["gcsUri"],o);const r=l(n,["bigqueryDestination","outputUri"]);return r!=null&&u(e,["bigqueryUri"],r),e}function oy(n){const e={},t=l(n,["format"]);t!=null&&u(e,["predictionsFormat"],t);const o=l(n,["gcsUri"]);o!=null&&u(e,["gcsDestination","outputUriPrefix"],o);const r=l(n,["bigqueryUri"]);if(r!=null&&u(e,["bigqueryDestination","outputUri"],r),l(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(l(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Sr(n){const e={},t=l(n,["name"]);t!=null&&u(e,["name"],t);const o=l(n,["metadata","displayName"]);o!=null&&u(e,["displayName"],o);const r=l(n,["metadata","state"]);r!=null&&u(e,["state"],mp(r));const i=l(n,["metadata","createTime"]);i!=null&&u(e,["createTime"],i);const s=l(n,["metadata","endTime"]);s!=null&&u(e,["endTime"],s);const a=l(n,["metadata","updateTime"]);a!=null&&u(e,["updateTime"],a);const d=l(n,["metadata","model"]);d!=null&&u(e,["model"],d);const c=l(n,["metadata","output"]);return c!=null&&u(e,["dest"],ny(pp(c))),e}function $l(n){const e={},t=l(n,["name"]);t!=null&&u(e,["name"],t);const o=l(n,["displayName"]);o!=null&&u(e,["displayName"],o);const r=l(n,["state"]);r!=null&&u(e,["state"],mp(r));const i=l(n,["error"]);i!=null&&u(e,["error"],i);const s=l(n,["createTime"]);s!=null&&u(e,["createTime"],s);const a=l(n,["startTime"]);a!=null&&u(e,["startTime"],a);const d=l(n,["endTime"]);d!=null&&u(e,["endTime"],d);const c=l(n,["updateTime"]);c!=null&&u(e,["updateTime"],c);const f=l(n,["model"]);f!=null&&u(e,["model"],f);const p=l(n,["inputConfig"]);p!=null&&u(e,["src"],ry(p));const m=l(n,["outputConfig"]);m!=null&&u(e,["dest"],ty(pp(m)));const g=l(n,["completionStats"]);return g!=null&&u(e,["completionStats"],g),e}function ry(n){const e={},t=l(n,["instancesFormat"]);t!=null&&u(e,["format"],t);const o=l(n,["gcsSource","uris"]);o!=null&&u(e,["gcsUri"],o);const r=l(n,["bigquerySource","inputUri"]);return r!=null&&u(e,["bigqueryUri"],r),e}function iy(n,e){const t={};if(l(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=l(e,["fileName"]);o!=null&&u(t,["fileName"],o);const r=l(e,["inlinedRequests"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>My(n,s))),u(t,["requests","requests"],i)}return t}function ly(n){const e={},t=l(n,["format"]);t!=null&&u(e,["instancesFormat"],t);const o=l(n,["gcsUri"]);o!=null&&u(e,["gcsSource","uris"],o);const r=l(n,["bigqueryUri"]);if(r!=null&&u(e,["bigquerySource","inputUri"],r),l(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function sy(n){const e={},t=l(n,["data"]);if(t!=null&&u(e,["data"],t),l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function uy(n,e){const t={},o=l(e,["name"]);return o!=null&&u(t,["_url","name"],Qt(n,o)),t}function ay(n,e){const t={},o=l(e,["name"]);return o!=null&&u(t,["_url","name"],Qt(n,o)),t}function dy(n){const e={},t=l(n,["content"]);t!=null&&u(e,["content"],t);const o=l(n,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],cy(o));const r=l(n,["tokenCount"]);r!=null&&u(e,["tokenCount"],r);const i=l(n,["finishReason"]);i!=null&&u(e,["finishReason"],i);const s=l(n,["avgLogprobs"]);s!=null&&u(e,["avgLogprobs"],s);const a=l(n,["groundingMetadata"]);a!=null&&u(e,["groundingMetadata"],a);const d=l(n,["index"]);d!=null&&u(e,["index"],d);const c=l(n,["logprobsResult"]);c!=null&&u(e,["logprobsResult"],c);const f=l(n,["safetyRatings"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>g)),u(e,["safetyRatings"],m)}const p=l(n,["urlContextMetadata"]);return p!=null&&u(e,["urlContextMetadata"],p),e}function cy(n){const e={},t=l(n,["citationSources"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>r)),u(e,["citations"],o)}return e}function hp(n){const e={},t=l(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>qy(i))),u(e,["parts"],r)}const o=l(n,["role"]);return o!=null&&u(e,["role"],o),e}function fy(n,e){const t={},o=l(n,["displayName"]);if(e!==void 0&&o!=null&&u(e,["batch","displayName"],o),l(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function py(n,e){const t={},o=l(n,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const r=l(n,["dest"]);return e!==void 0&&r!=null&&u(e,["outputConfig"],oy(ey(r))),t}function pd(n,e){const t={},o=l(e,["model"]);o!=null&&u(t,["_url","model"],$(n,o));const r=l(e,["src"]);r!=null&&u(t,["batch","inputConfig"],iy(n,fp(n,r)));const i=l(e,["config"]);return i!=null&&fy(i,t),t}function my(n,e){const t={},o=l(e,["model"]);o!=null&&u(t,["model"],$(n,o));const r=l(e,["src"]);r!=null&&u(t,["inputConfig"],ly(fp(n,r)));const i=l(e,["config"]);return i!=null&&py(i,t),t}function hy(n,e){const t={},o=l(n,["displayName"]);return e!==void 0&&o!=null&&u(e,["batch","displayName"],o),t}function gy(n,e){const t={},o=l(e,["model"]);o!=null&&u(t,["_url","model"],$(n,o));const r=l(e,["src"]);r!=null&&u(t,["batch","inputConfig"],Cy(n,r));const i=l(e,["config"]);return i!=null&&hy(i,t),t}function yy(n,e){const t={},o=l(e,["name"]);return o!=null&&u(t,["_url","name"],Qt(n,o)),t}function vy(n,e){const t={},o=l(e,["name"]);return o!=null&&u(t,["_url","name"],Qt(n,o)),t}function Ty(n){const e={},t=l(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=l(n,["name"]);o!=null&&u(e,["name"],o);const r=l(n,["done"]);r!=null&&u(e,["done"],r);const i=l(n,["error"]);return i!=null&&u(e,["error"],i),e}function Ey(n){const e={},t=l(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=l(n,["name"]);o!=null&&u(e,["name"],o);const r=l(n,["done"]);r!=null&&u(e,["done"],r);const i=l(n,["error"]);return i!=null&&u(e,["error"],i),e}function Sy(n,e){const t={},o=l(e,["contents"]);if(o!=null){let i=Ws(n,o);Array.isArray(i)&&(i=i.map(s=>s)),u(t,["requests[]","request","content"],i)}const r=l(e,["config"]);return r!=null&&(u(t,["_self"],_y(r,t)),vg(t,{"requests[].*":"requests[].request.*"})),t}function _y(n,e){const t={},o=l(n,["taskType"]);e!==void 0&&o!=null&&u(e,["requests[]","taskType"],o);const r=l(n,["title"]);e!==void 0&&r!=null&&u(e,["requests[]","title"],r);const i=l(n,["outputDimensionality"]);if(e!==void 0&&i!=null&&u(e,["requests[]","outputDimensionality"],i),l(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function Cy(n,e){const t={},o=l(e,["fileName"]);o!=null&&u(t,["file_name"],o);const r=l(e,["inlinedRequests"]);return r!=null&&u(t,["requests"],Sy(n,r)),t}function Iy(n){const e={};if(l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=l(n,["fileUri"]);t!=null&&u(e,["fileUri"],t);const o=l(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function wy(n,e,t){const o={},r=l(e,["systemInstruction"]);t!==void 0&&r!=null&&u(t,["systemInstruction"],hp(ye(r)));const i=l(e,["temperature"]);i!=null&&u(o,["temperature"],i);const s=l(e,["topP"]);s!=null&&u(o,["topP"],s);const a=l(e,["topK"]);a!=null&&u(o,["topK"],a);const d=l(e,["candidateCount"]);d!=null&&u(o,["candidateCount"],d);const c=l(e,["maxOutputTokens"]);c!=null&&u(o,["maxOutputTokens"],c);const f=l(e,["stopSequences"]);f!=null&&u(o,["stopSequences"],f);const p=l(e,["responseLogprobs"]);p!=null&&u(o,["responseLogprobs"],p);const m=l(e,["logprobs"]);m!=null&&u(o,["logprobs"],m);const g=l(e,["presencePenalty"]);g!=null&&u(o,["presencePenalty"],g);const T=l(e,["frequencyPenalty"]);T!=null&&u(o,["frequencyPenalty"],T);const E=l(e,["seed"]);E!=null&&u(o,["seed"],E);const P=l(e,["responseMimeType"]);P!=null&&u(o,["responseMimeType"],P);const v=l(e,["responseSchema"]);v!=null&&u(o,["responseSchema"],Ks(v));const h=l(e,["responseJsonSchema"]);if(h!=null&&u(o,["responseJsonSchema"],h),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const y=l(e,["safetySettings"]);if(t!==void 0&&y!=null){let z=y;Array.isArray(z)&&(z=z.map(se=>Hy(se))),u(t,["safetySettings"],z)}const S=l(e,["tools"]);if(t!==void 0&&S!=null){let z=Yt(S);Array.isArray(z)&&(z=z.map(se=>By(Kt(se)))),u(t,["tools"],z)}const C=l(e,["toolConfig"]);if(t!==void 0&&C!=null&&u(t,["toolConfig"],C),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=l(e,["cachedContent"]);t!==void 0&&I!=null&&u(t,["cachedContent"],wn(n,I));const w=l(e,["responseModalities"]);w!=null&&u(o,["responseModalities"],w);const N=l(e,["mediaResolution"]);N!=null&&u(o,["mediaResolution"],N);const D=l(e,["speechConfig"]);if(D!=null&&u(o,["speechConfig"],Ys(D)),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=l(e,["thinkingConfig"]);k!=null&&u(o,["thinkingConfig"],k);const B=l(e,["imageConfig"]);return B!=null&&u(o,["imageConfig"],B),o}function Ay(n){const e={},t=l(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=l(n,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(c=>dy(c))),u(e,["candidates"],d)}const r=l(n,["modelVersion"]);r!=null&&u(e,["modelVersion"],r);const i=l(n,["promptFeedback"]);i!=null&&u(e,["promptFeedback"],i);const s=l(n,["responseId"]);s!=null&&u(e,["responseId"],s);const a=l(n,["usageMetadata"]);return a!=null&&u(e,["usageMetadata"],a),e}function Py(n,e){const t={},o=l(e,["name"]);return o!=null&&u(t,["_url","name"],Qt(n,o)),t}function Ry(n,e){const t={},o=l(e,["name"]);return o!=null&&u(t,["_url","name"],Qt(n,o)),t}function Ny(n){const e={};if(l(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=l(n,["enableWidget"]);return t!=null&&u(e,["enableWidget"],t),e}function xy(n){const e={};if(l(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=l(n,["timeRangeFilter"]);return t!=null&&u(e,["timeRangeFilter"],t),e}function My(n,e){const t={},o=l(e,["model"]);o!=null&&u(t,["request","model"],$(n,o));const r=l(e,["contents"]);if(r!=null){let a=Oe(r);Array.isArray(a)&&(a=a.map(d=>hp(d))),u(t,["request","contents"],a)}const i=l(e,["metadata"]);i!=null&&u(t,["metadata"],i);const s=l(e,["config"]);return s!=null&&u(t,["request","generationConfig"],wy(n,s,l(t,["request"],{}))),t}function ky(n){const e={},t=l(n,["response"]);t!=null&&u(e,["response"],Ay(t));const o=l(n,["error"]);return o!=null&&u(e,["error"],o),e}function Dy(n,e){const t={},o=l(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=l(n,["pageToken"]);if(e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),l(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function Ly(n,e){const t={},o=l(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=l(n,["pageToken"]);e!==void 0&&r!=null&&u(e,["_query","pageToken"],r);const i=l(n,["filter"]);return e!==void 0&&i!=null&&u(e,["_query","filter"],i),t}function Uy(n){const e={},t=l(n,["config"]);return t!=null&&Dy(t,e),e}function Fy(n){const e={},t=l(n,["config"]);return t!=null&&Ly(t,e),e}function Vy(n){const e={},t=l(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=l(n,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const r=l(n,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Sr(s))),u(e,["batchJobs"],i)}return e}function Gy(n){const e={},t=l(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=l(n,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const r=l(n,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>$l(s))),u(e,["batchJobs"],i)}return e}function qy(n){const e={},t=l(n,["functionCall"]);t!=null&&u(e,["functionCall"],t);const o=l(n,["codeExecutionResult"]);o!=null&&u(e,["codeExecutionResult"],o);const r=l(n,["executableCode"]);r!=null&&u(e,["executableCode"],r);const i=l(n,["fileData"]);i!=null&&u(e,["fileData"],Iy(i));const s=l(n,["functionResponse"]);s!=null&&u(e,["functionResponse"],s);const a=l(n,["inlineData"]);a!=null&&u(e,["inlineData"],sy(a));const d=l(n,["text"]);d!=null&&u(e,["text"],d);const c=l(n,["thought"]);c!=null&&u(e,["thought"],c);const f=l(n,["thoughtSignature"]);f!=null&&u(e,["thoughtSignature"],f);const p=l(n,["videoMetadata"]);return p!=null&&u(e,["videoMetadata"],p),e}function Hy(n){const e={},t=l(n,["category"]);if(t!=null&&u(e,["category"],t),l(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=l(n,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function By(n){const e={},t=l(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(p=>p)),u(e,["functionDeclarations"],f)}if(l(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(n,["googleSearchRetrieval"]);o!=null&&u(e,["googleSearchRetrieval"],o);const r=l(n,["computerUse"]);r!=null&&u(e,["computerUse"],r);const i=l(n,["fileSearch"]);i!=null&&u(e,["fileSearch"],i);const s=l(n,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),l(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=l(n,["googleMaps"]);a!=null&&u(e,["googleMaps"],Ny(a));const d=l(n,["googleSearch"]);d!=null&&u(e,["googleSearch"],xy(d));const c=l(n,["urlContext"]);return c!=null&&u(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _n;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(_n||(_n={}));class ct{constructor(e,t,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,o,r)}init(e,t,o){var r,i;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!o||Object.keys(o).length===0?s={config:{}}:typeof o=="object"?s=Object.assign({},o):s=o,s.config&&(s.config.pageToken=t.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(i=(r=s.config)===null||r===void 0?void 0:r.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zy extends In{constructor(e){super(),this.apiClient=e,this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)},this.list=async(t={})=>new ct(_n.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(t),t)}createInlinedGenerateContentRequest(e){const t=pd(this.apiClient,e),o=t._url,r=x("{model}:batchGenerateContent",o),a=t.batch.inputConfig.requests,d=a.requests,c=[];for(const f of d){const p=Object.assign({},f);if(p.systemInstruction){const m=p.systemInstruction;delete p.systemInstruction;const g=p.request;g.systemInstruction=m,p.request=g}c.push(p)}return a.requests=c,delete t.config,delete t._url,delete t._query,{path:r,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const o=t?Object.assign({},t):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const i=this.getGcsUri(e),s=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?o.dest=`${i.slice(0,-6)}/dest`:o.dest=`${i}_dest_${r}`;else if(s)o.dest=`${s}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var t,o,r,i;let s,a="",d={};if(this.apiClient.isVertexAI()){const c=my(this.apiClient,e);return a=x("batchPredictionJobs",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>$l(f))}else{const c=pd(this.apiClient,e);return a=x("{model}:batchGenerateContent",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Sr(f))}}async createEmbeddingsInternal(e){var t,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=gy(this.apiClient,e);return i=x("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>Sr(d))}}async get(e){var t,o,r,i;let s,a="",d={};if(this.apiClient.isVertexAI()){const c=Ry(this.apiClient,e);return a=x("batchPredictionJobs/{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>$l(f))}else{const c=Py(this.apiClient,e);return a=x("batches/{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Sr(f))}}async cancel(e){var t,o,r,i;let s="",a={};if(this.apiClient.isVertexAI()){const d=ay(this.apiClient,e);s=x("batchPredictionJobs/{name}:cancel",d._url),a=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const d=uy(this.apiClient,e);s=x("batches/{name}:cancel",d._url),a=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,o,r,i;let s,a="",d={};if(this.apiClient.isVertexAI()){const c=Fy(e);return a=x("batchPredictionJobs",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{const p=Gy(f),m=new ad;return Object.assign(m,p),m})}else{const c=Uy(e);return a=x("batches",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{const p=Vy(f),m=new ad;return Object.assign(m,p),m})}}async delete(e){var t,o,r,i;let s,a="",d={};if(this.apiClient.isVertexAI()){const c=vy(this.apiClient,e);return a=x("batchPredictionJobs/{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>Ey(f))}else{const c=yy(this.apiClient,e);return a=x("batches/{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>Ty(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jy(n){const e={},t=l(n,["data"]);if(t!=null&&u(e,["data"],t),l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function md(n){const e={},t=l(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>dv(i))),u(e,["parts"],r)}const o=l(n,["role"]);return o!=null&&u(e,["role"],o),e}function $y(n,e){const t={},o=l(n,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const r=l(n,["expireTime"]);e!==void 0&&r!=null&&u(e,["expireTime"],r);const i=l(n,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);const s=l(n,["contents"]);if(e!==void 0&&s!=null){let f=Oe(s);Array.isArray(f)&&(f=f.map(p=>md(p))),u(e,["contents"],f)}const a=l(n,["systemInstruction"]);e!==void 0&&a!=null&&u(e,["systemInstruction"],md(ye(a)));const d=l(n,["tools"]);if(e!==void 0&&d!=null){let f=d;Array.isArray(f)&&(f=f.map(p=>cv(p))),u(e,["tools"],f)}const c=l(n,["toolConfig"]);if(e!==void 0&&c!=null&&u(e,["toolConfig"],c),l(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function Oy(n,e){const t={},o=l(n,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const r=l(n,["expireTime"]);e!==void 0&&r!=null&&u(e,["expireTime"],r);const i=l(n,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);const s=l(n,["contents"]);if(e!==void 0&&s!=null){let p=Oe(s);Array.isArray(p)&&(p=p.map(m=>m)),u(e,["contents"],p)}const a=l(n,["systemInstruction"]);e!==void 0&&a!=null&&u(e,["systemInstruction"],ye(a));const d=l(n,["tools"]);if(e!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(m=>fv(m))),u(e,["tools"],p)}const c=l(n,["toolConfig"]);e!==void 0&&c!=null&&u(e,["toolConfig"],c);const f=l(n,["kmsKeyName"]);return e!==void 0&&f!=null&&u(e,["encryption_spec","kmsKeyName"],f),t}function Wy(n,e){const t={},o=l(e,["model"]);o!=null&&u(t,["model"],op(n,o));const r=l(e,["config"]);return r!=null&&$y(r,t),t}function Ky(n,e){const t={},o=l(e,["model"]);o!=null&&u(t,["model"],op(n,o));const r=l(e,["config"]);return r!=null&&Oy(r,t),t}function Yy(n,e){const t={},o=l(e,["name"]);return o!=null&&u(t,["_url","name"],wn(n,o)),t}function Qy(n,e){const t={},o=l(e,["name"]);return o!=null&&u(t,["_url","name"],wn(n,o)),t}function Xy(n){const e={},t=l(n,["sdkHttpResponse"]);return t!=null&&u(e,["sdkHttpResponse"],t),e}function Zy(n){const e={},t=l(n,["sdkHttpResponse"]);return t!=null&&u(e,["sdkHttpResponse"],t),e}function by(n){const e={};if(l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=l(n,["fileUri"]);t!=null&&u(e,["fileUri"],t);const o=l(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function jy(n){const e={};if(l(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=l(n,["description"]);t!=null&&u(e,["description"],t);const o=l(n,["name"]);o!=null&&u(e,["name"],o);const r=l(n,["parameters"]);r!=null&&u(e,["parameters"],r);const i=l(n,["parametersJsonSchema"]);i!=null&&u(e,["parametersJsonSchema"],i);const s=l(n,["response"]);s!=null&&u(e,["response"],s);const a=l(n,["responseJsonSchema"]);return a!=null&&u(e,["responseJsonSchema"],a),e}function ev(n,e){const t={},o=l(e,["name"]);return o!=null&&u(t,["_url","name"],wn(n,o)),t}function nv(n,e){const t={},o=l(e,["name"]);return o!=null&&u(t,["_url","name"],wn(n,o)),t}function tv(n){const e={};if(l(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=l(n,["enableWidget"]);return t!=null&&u(e,["enableWidget"],t),e}function ov(n){const e={};if(l(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=l(n,["timeRangeFilter"]);return t!=null&&u(e,["timeRangeFilter"],t),e}function rv(n,e){const t={},o=l(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=l(n,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),t}function iv(n,e){const t={},o=l(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=l(n,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),t}function lv(n){const e={},t=l(n,["config"]);return t!=null&&rv(t,e),e}function sv(n){const e={},t=l(n,["config"]);return t!=null&&iv(t,e),e}function uv(n){const e={},t=l(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=l(n,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const r=l(n,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["cachedContents"],i)}return e}function av(n){const e={},t=l(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=l(n,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const r=l(n,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["cachedContents"],i)}return e}function dv(n){const e={},t=l(n,["functionCall"]);t!=null&&u(e,["functionCall"],t);const o=l(n,["codeExecutionResult"]);o!=null&&u(e,["codeExecutionResult"],o);const r=l(n,["executableCode"]);r!=null&&u(e,["executableCode"],r);const i=l(n,["fileData"]);i!=null&&u(e,["fileData"],by(i));const s=l(n,["functionResponse"]);s!=null&&u(e,["functionResponse"],s);const a=l(n,["inlineData"]);a!=null&&u(e,["inlineData"],Jy(a));const d=l(n,["text"]);d!=null&&u(e,["text"],d);const c=l(n,["thought"]);c!=null&&u(e,["thought"],c);const f=l(n,["thoughtSignature"]);f!=null&&u(e,["thoughtSignature"],f);const p=l(n,["videoMetadata"]);return p!=null&&u(e,["videoMetadata"],p),e}function cv(n){const e={},t=l(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(p=>p)),u(e,["functionDeclarations"],f)}if(l(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(n,["googleSearchRetrieval"]);o!=null&&u(e,["googleSearchRetrieval"],o);const r=l(n,["computerUse"]);r!=null&&u(e,["computerUse"],r);const i=l(n,["fileSearch"]);i!=null&&u(e,["fileSearch"],i);const s=l(n,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),l(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=l(n,["googleMaps"]);a!=null&&u(e,["googleMaps"],tv(a));const d=l(n,["googleSearch"]);d!=null&&u(e,["googleSearch"],ov(d));const c=l(n,["urlContext"]);return c!=null&&u(e,["urlContext"],c),e}function fv(n){const e={},t=l(n,["functionDeclarations"]);if(t!=null){let p=t;Array.isArray(p)&&(p=p.map(m=>jy(m))),u(e,["functionDeclarations"],p)}const o=l(n,["retrieval"]);o!=null&&u(e,["retrieval"],o);const r=l(n,["googleSearchRetrieval"]);r!=null&&u(e,["googleSearchRetrieval"],r);const i=l(n,["computerUse"]);if(i!=null&&u(e,["computerUse"],i),l(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=l(n,["codeExecution"]);s!=null&&u(e,["codeExecution"],s);const a=l(n,["enterpriseWebSearch"]);a!=null&&u(e,["enterpriseWebSearch"],a);const d=l(n,["googleMaps"]);d!=null&&u(e,["googleMaps"],d);const c=l(n,["googleSearch"]);c!=null&&u(e,["googleSearch"],c);const f=l(n,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}function pv(n,e){const t={},o=l(n,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const r=l(n,["expireTime"]);return e!==void 0&&r!=null&&u(e,["expireTime"],r),t}function mv(n,e){const t={},o=l(n,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const r=l(n,["expireTime"]);return e!==void 0&&r!=null&&u(e,["expireTime"],r),t}function hv(n,e){const t={},o=l(e,["name"]);o!=null&&u(t,["_url","name"],wn(n,o));const r=l(e,["config"]);return r!=null&&pv(r,t),t}function gv(n,e){const t={},o=l(e,["name"]);o!=null&&u(t,["_url","name"],wn(n,o));const r=l(e,["config"]);return r!=null&&mv(r,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yv extends In{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new ct(_n.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(t),t)}async create(e){var t,o,r,i;let s,a="",d={};if(this.apiClient.isVertexAI()){const c=Ky(this.apiClient,e);return a=x("cachedContents",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const c=Wy(this.apiClient,e);return a=x("cachedContents",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async get(e){var t,o,r,i;let s,a="",d={};if(this.apiClient.isVertexAI()){const c=nv(this.apiClient,e);return a=x("{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const c=ev(this.apiClient,e);return a=x("{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(e){var t,o,r,i;let s,a="",d={};if(this.apiClient.isVertexAI()){const c=Qy(this.apiClient,e);return a=x("{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{const p=Zy(f),m=new sd;return Object.assign(m,p),m})}else{const c=Yy(this.apiClient,e);return a=x("{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{const p=Xy(f),m=new sd;return Object.assign(m,p),m})}}async update(e){var t,o,r,i;let s,a="",d={};if(this.apiClient.isVertexAI()){const c=gv(this.apiClient,e);return a=x("{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const c=hv(this.apiClient,e);return a=x("{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async listInternal(e){var t,o,r,i;let s,a="",d={};if(this.apiClient.isVertexAI()){const c=sv(e);return a=x("cachedContents",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{const p=av(f),m=new ud;return Object.assign(m,p),m})}else{const c=lv(e);return a=x("cachedContents",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{const p=uv(f),m=new ud;return Object.assign(m,p),m})}}}function hd(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],o=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Y(n){return this instanceof Y?(this.v=n,this):new Y(n)}function Lt(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=t.apply(n,e||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(g){return function(T){return Promise.resolve(T).then(g,p)}}function a(g,T){o[g]&&(r[g]=function(E){return new Promise(function(P,v){i.push([g,E,P,v])>1||d(g,E)})},T&&(r[g]=T(r[g])))}function d(g,T){try{c(o[g](T))}catch(E){m(i[0][3],E)}}function c(g){g.value instanceof Y?Promise.resolve(g.value.v).then(f,p):m(i[0][2],g)}function f(g){d("next",g)}function p(g){d("throw",g)}function m(g,T){g(T),i.shift(),i.length&&d(i[0][0],i[0][1])}}function So(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof hd=="function"?hd(n):n[Symbol.iterator](),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(i){t[i]=n[i]&&function(s){return new Promise(function(a,d){s=n[i](s),r(a,d,s.done,s.value)})}}function r(i,s,a,d){Promise.resolve(d).then(function(c){i({value:c,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vv(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:gp(t)}function gp(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Tv(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function gd(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let o=0;for(;o<t;)if(n[o].role==="user")e.push(n[o]),o++;else{const r=[];let i=!0;for(;o<t&&n[o].role==="model";)r.push(n[o]),i&&!gp(n[o])&&(i=!1),o++;i?e.push(...r):e.pop()}return e}class Ev{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new Sv(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Sv{constructor(e,t,o,r={},i=[]){this.apiClient=e,this.modelsModule=t,this.model=o,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),Tv(i)}async sendMessage(e){var t;await this.sendPromise;const o=ye(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var i,s,a;const d=await r,c=(s=(i=d.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content,f=d.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let m=[];f!=null&&(m=(a=f.slice(p))!==null&&a!==void 0?a:[]);const g=c?[c]:[];this.recordHistory(o,g,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const o=ye(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const i=await r;return this.processStreamResponse(i,o)}getHistory(e=!1){const t=e?gd(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var o,r;return Lt(this,arguments,function*(){var s,a,d,c;const f=[];try{for(var p=!0,m=So(e),g;g=yield Y(m.next()),s=g.done,!s;p=!0){c=g.value,p=!1;const T=c;if(vv(T)){const E=(r=(o=T.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content;E!==void 0&&f.push(E)}yield yield Y(T)}}catch(T){a={error:T}}finally{try{!p&&!s&&(d=m.return)&&(yield Y(d.call(m)))}finally{if(a)throw a.error}}this.recordHistory(t,f)})}recordHistory(e,t,o){let r=[];t.length>0&&t.every(i=>i.role!==void 0)?r=t:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...gd(o)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fi extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,fi.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _v(n){const e={},t=l(n,["file"]);return t!=null&&u(e,["file"],t),e}function Cv(n){const e={},t=l(n,["sdkHttpResponse"]);return t!=null&&u(e,["sdkHttpResponse"],t),e}function Iv(n){const e={},t=l(n,["name"]);return t!=null&&u(e,["_url","file"],ap(t)),e}function wv(n){const e={},t=l(n,["sdkHttpResponse"]);return t!=null&&u(e,["sdkHttpResponse"],t),e}function Av(n){const e={},t=l(n,["name"]);return t!=null&&u(e,["_url","file"],ap(t)),e}function Pv(n,e){const t={},o=l(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=l(n,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),t}function Rv(n){const e={},t=l(n,["config"]);return t!=null&&Pv(t,e),e}function Nv(n){const e={},t=l(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=l(n,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const r=l(n,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xv extends In{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new ct(_n.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Rv(e);return i=x("files",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=Nv(d),f=new Bg;return Object.assign(f,c),f})}}async createInternal(e){var t,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=_v(e);return i=x("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=Cv(d),f=new zg;return Object.assign(f,c),f})}}async get(e){var t,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Av(e);return i=x("files/{file}",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async delete(e){var t,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Iv(e);return i=x("files/{file}",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=wv(d),f=new Jg;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _r(n){const e={},t=l(n,["data"]);if(t!=null&&u(e,["data"],t),l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Mv(n){const e={},t=l(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>Wv(i))),u(e,["parts"],r)}const o=l(n,["role"]);return o!=null&&u(e,["role"],o),e}function kv(n){const e={};if(l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=l(n,["fileUri"]);t!=null&&u(e,["fileUri"],t);const o=l(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Dv(n){const e={};if(l(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=l(n,["description"]);t!=null&&u(e,["description"],t);const o=l(n,["name"]);o!=null&&u(e,["name"],o);const r=l(n,["parameters"]);r!=null&&u(e,["parameters"],r);const i=l(n,["parametersJsonSchema"]);i!=null&&u(e,["parametersJsonSchema"],i);const s=l(n,["response"]);s!=null&&u(e,["response"],s);const a=l(n,["responseJsonSchema"]);return a!=null&&u(e,["responseJsonSchema"],a),e}function Lv(n){const e={},t=l(n,["modelSelectionConfig"]);t!=null&&u(e,["modelConfig"],t);const o=l(n,["responseJsonSchema"]);o!=null&&u(e,["responseJsonSchema"],o);const r=l(n,["audioTimestamp"]);r!=null&&u(e,["audioTimestamp"],r);const i=l(n,["candidateCount"]);i!=null&&u(e,["candidateCount"],i);const s=l(n,["enableAffectiveDialog"]);s!=null&&u(e,["enableAffectiveDialog"],s);const a=l(n,["frequencyPenalty"]);a!=null&&u(e,["frequencyPenalty"],a);const d=l(n,["logprobs"]);d!=null&&u(e,["logprobs"],d);const c=l(n,["maxOutputTokens"]);c!=null&&u(e,["maxOutputTokens"],c);const f=l(n,["mediaResolution"]);f!=null&&u(e,["mediaResolution"],f);const p=l(n,["presencePenalty"]);p!=null&&u(e,["presencePenalty"],p);const m=l(n,["responseLogprobs"]);m!=null&&u(e,["responseLogprobs"],m);const g=l(n,["responseMimeType"]);g!=null&&u(e,["responseMimeType"],g);const T=l(n,["responseModalities"]);T!=null&&u(e,["responseModalities"],T);const E=l(n,["responseSchema"]);E!=null&&u(e,["responseSchema"],E);const P=l(n,["routingConfig"]);P!=null&&u(e,["routingConfig"],P);const v=l(n,["seed"]);v!=null&&u(e,["seed"],v);const h=l(n,["speechConfig"]);h!=null&&u(e,["speechConfig"],yp(h));const y=l(n,["stopSequences"]);y!=null&&u(e,["stopSequences"],y);const S=l(n,["temperature"]);S!=null&&u(e,["temperature"],S);const C=l(n,["thinkingConfig"]);C!=null&&u(e,["thinkingConfig"],C);const I=l(n,["topK"]);I!=null&&u(e,["topK"],I);const w=l(n,["topP"]);if(w!=null&&u(e,["topP"],w),l(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Uv(n){const e={};if(l(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=l(n,["enableWidget"]);return t!=null&&u(e,["enableWidget"],t),e}function Fv(n){const e={};if(l(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=l(n,["timeRangeFilter"]);return t!=null&&u(e,["timeRangeFilter"],t),e}function Vv(n,e){const t={},o=l(n,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const r=l(n,["responseModalities"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","responseModalities"],r);const i=l(n,["temperature"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig","temperature"],i);const s=l(n,["topP"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","topP"],s);const a=l(n,["topK"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","topK"],a);const d=l(n,["maxOutputTokens"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","maxOutputTokens"],d);const c=l(n,["mediaResolution"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","mediaResolution"],c);const f=l(n,["seed"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","seed"],f);const p=l(n,["speechConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","speechConfig"],Qs(p));const m=l(n,["thinkingConfig"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","thinkingConfig"],m);const g=l(n,["enableAffectiveDialog"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],g);const T=l(n,["systemInstruction"]);e!==void 0&&T!=null&&u(e,["setup","systemInstruction"],Mv(ye(T)));const E=l(n,["tools"]);if(e!==void 0&&E!=null){let I=Yt(E);Array.isArray(I)&&(I=I.map(w=>Yv(Kt(w)))),u(e,["setup","tools"],I)}const P=l(n,["sessionResumption"]);e!==void 0&&P!=null&&u(e,["setup","sessionResumption"],Kv(P));const v=l(n,["inputAudioTranscription"]);e!==void 0&&v!=null&&u(e,["setup","inputAudioTranscription"],v);const h=l(n,["outputAudioTranscription"]);e!==void 0&&h!=null&&u(e,["setup","outputAudioTranscription"],h);const y=l(n,["realtimeInputConfig"]);e!==void 0&&y!=null&&u(e,["setup","realtimeInputConfig"],y);const S=l(n,["contextWindowCompression"]);e!==void 0&&S!=null&&u(e,["setup","contextWindowCompression"],S);const C=l(n,["proactivity"]);return e!==void 0&&C!=null&&u(e,["setup","proactivity"],C),t}function Gv(n,e){const t={},o=l(n,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],Lv(o));const r=l(n,["responseModalities"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","responseModalities"],r);const i=l(n,["temperature"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig","temperature"],i);const s=l(n,["topP"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","topP"],s);const a=l(n,["topK"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","topK"],a);const d=l(n,["maxOutputTokens"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","maxOutputTokens"],d);const c=l(n,["mediaResolution"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","mediaResolution"],c);const f=l(n,["seed"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","seed"],f);const p=l(n,["speechConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","speechConfig"],yp(Qs(p)));const m=l(n,["thinkingConfig"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","thinkingConfig"],m);const g=l(n,["enableAffectiveDialog"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],g);const T=l(n,["systemInstruction"]);e!==void 0&&T!=null&&u(e,["setup","systemInstruction"],ye(T));const E=l(n,["tools"]);if(e!==void 0&&E!=null){let I=Yt(E);Array.isArray(I)&&(I=I.map(w=>Qv(Kt(w)))),u(e,["setup","tools"],I)}const P=l(n,["sessionResumption"]);e!==void 0&&P!=null&&u(e,["setup","sessionResumption"],P);const v=l(n,["inputAudioTranscription"]);e!==void 0&&v!=null&&u(e,["setup","inputAudioTranscription"],v);const h=l(n,["outputAudioTranscription"]);e!==void 0&&h!=null&&u(e,["setup","outputAudioTranscription"],h);const y=l(n,["realtimeInputConfig"]);e!==void 0&&y!=null&&u(e,["setup","realtimeInputConfig"],y);const S=l(n,["contextWindowCompression"]);e!==void 0&&S!=null&&u(e,["setup","contextWindowCompression"],S);const C=l(n,["proactivity"]);return e!==void 0&&C!=null&&u(e,["setup","proactivity"],C),t}function qv(n,e){const t={},o=l(e,["model"]);o!=null&&u(t,["setup","model"],$(n,o));const r=l(e,["config"]);return r!=null&&u(t,["config"],Vv(r,t)),t}function Hv(n,e){const t={},o=l(e,["model"]);o!=null&&u(t,["setup","model"],$(n,o));const r=l(e,["config"]);return r!=null&&u(t,["config"],Gv(r,t)),t}function Bv(n){const e={},t=l(n,["musicGenerationConfig"]);return t!=null&&u(e,["musicGenerationConfig"],t),e}function zv(n){const e={},t=l(n,["weightedPrompts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>r)),u(e,["weightedPrompts"],o)}return e}function Jv(n){const e={},t=l(n,["media"]);if(t!=null){let c=rp(t);Array.isArray(c)&&(c=c.map(f=>_r(f))),u(e,["mediaChunks"],c)}const o=l(n,["audio"]);o!=null&&u(e,["audio"],_r(lp(o)));const r=l(n,["audioStreamEnd"]);r!=null&&u(e,["audioStreamEnd"],r);const i=l(n,["video"]);i!=null&&u(e,["video"],_r(ip(i)));const s=l(n,["text"]);s!=null&&u(e,["text"],s);const a=l(n,["activityStart"]);a!=null&&u(e,["activityStart"],a);const d=l(n,["activityEnd"]);return d!=null&&u(e,["activityEnd"],d),e}function $v(n){const e={},t=l(n,["media"]);if(t!=null){let c=rp(t);Array.isArray(c)&&(c=c.map(f=>f)),u(e,["mediaChunks"],c)}const o=l(n,["audio"]);o!=null&&u(e,["audio"],lp(o));const r=l(n,["audioStreamEnd"]);r!=null&&u(e,["audioStreamEnd"],r);const i=l(n,["video"]);i!=null&&u(e,["video"],ip(i));const s=l(n,["text"]);s!=null&&u(e,["text"],s);const a=l(n,["activityStart"]);a!=null&&u(e,["activityStart"],a);const d=l(n,["activityEnd"]);return d!=null&&u(e,["activityEnd"],d),e}function Ov(n){const e={},t=l(n,["setupComplete"]);t!=null&&u(e,["setupComplete"],t);const o=l(n,["serverContent"]);o!=null&&u(e,["serverContent"],o);const r=l(n,["toolCall"]);r!=null&&u(e,["toolCall"],r);const i=l(n,["toolCallCancellation"]);i!=null&&u(e,["toolCallCancellation"],i);const s=l(n,["usageMetadata"]);s!=null&&u(e,["usageMetadata"],Xv(s));const a=l(n,["goAway"]);a!=null&&u(e,["goAway"],a);const d=l(n,["sessionResumptionUpdate"]);return d!=null&&u(e,["sessionResumptionUpdate"],d),e}function Wv(n){const e={},t=l(n,["functionCall"]);t!=null&&u(e,["functionCall"],t);const o=l(n,["codeExecutionResult"]);o!=null&&u(e,["codeExecutionResult"],o);const r=l(n,["executableCode"]);r!=null&&u(e,["executableCode"],r);const i=l(n,["fileData"]);i!=null&&u(e,["fileData"],kv(i));const s=l(n,["functionResponse"]);s!=null&&u(e,["functionResponse"],s);const a=l(n,["inlineData"]);a!=null&&u(e,["inlineData"],_r(a));const d=l(n,["text"]);d!=null&&u(e,["text"],d);const c=l(n,["thought"]);c!=null&&u(e,["thought"],c);const f=l(n,["thoughtSignature"]);f!=null&&u(e,["thoughtSignature"],f);const p=l(n,["videoMetadata"]);return p!=null&&u(e,["videoMetadata"],p),e}function Kv(n){const e={},t=l(n,["handle"]);if(t!=null&&u(e,["handle"],t),l(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function yp(n){const e={},t=l(n,["languageCode"]);t!=null&&u(e,["languageCode"],t);const o=l(n,["voiceConfig"]);if(o!=null&&u(e,["voiceConfig"],o),l(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Yv(n){const e={},t=l(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(p=>p)),u(e,["functionDeclarations"],f)}if(l(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(n,["googleSearchRetrieval"]);o!=null&&u(e,["googleSearchRetrieval"],o);const r=l(n,["computerUse"]);r!=null&&u(e,["computerUse"],r);const i=l(n,["fileSearch"]);i!=null&&u(e,["fileSearch"],i);const s=l(n,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),l(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=l(n,["googleMaps"]);a!=null&&u(e,["googleMaps"],Uv(a));const d=l(n,["googleSearch"]);d!=null&&u(e,["googleSearch"],Fv(d));const c=l(n,["urlContext"]);return c!=null&&u(e,["urlContext"],c),e}function Qv(n){const e={},t=l(n,["functionDeclarations"]);if(t!=null){let p=t;Array.isArray(p)&&(p=p.map(m=>Dv(m))),u(e,["functionDeclarations"],p)}const o=l(n,["retrieval"]);o!=null&&u(e,["retrieval"],o);const r=l(n,["googleSearchRetrieval"]);r!=null&&u(e,["googleSearchRetrieval"],r);const i=l(n,["computerUse"]);if(i!=null&&u(e,["computerUse"],i),l(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=l(n,["codeExecution"]);s!=null&&u(e,["codeExecution"],s);const a=l(n,["enterpriseWebSearch"]);a!=null&&u(e,["enterpriseWebSearch"],a);const d=l(n,["googleMaps"]);d!=null&&u(e,["googleMaps"],d);const c=l(n,["googleSearch"]);c!=null&&u(e,["googleSearch"],c);const f=l(n,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}function Xv(n){const e={},t=l(n,["promptTokenCount"]);t!=null&&u(e,["promptTokenCount"],t);const o=l(n,["cachedContentTokenCount"]);o!=null&&u(e,["cachedContentTokenCount"],o);const r=l(n,["candidatesTokenCount"]);r!=null&&u(e,["responseTokenCount"],r);const i=l(n,["toolUsePromptTokenCount"]);i!=null&&u(e,["toolUsePromptTokenCount"],i);const s=l(n,["thoughtsTokenCount"]);s!=null&&u(e,["thoughtsTokenCount"],s);const a=l(n,["totalTokenCount"]);a!=null&&u(e,["totalTokenCount"],a);const d=l(n,["promptTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(T=>T)),u(e,["promptTokensDetails"],g)}const c=l(n,["cacheTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(T=>T)),u(e,["cacheTokensDetails"],g)}const f=l(n,["candidatesTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(T=>T)),u(e,["responseTokensDetails"],g)}const p=l(n,["toolUsePromptTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(T=>T)),u(e,["toolUsePromptTokensDetails"],g)}const m=l(n,["trafficType"]);return m!=null&&u(e,["trafficType"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zv(n){const e={},t=l(n,["data"]);if(t!=null&&u(e,["data"],t),l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function bv(n){const e={},t=l(n,["content"]);t!=null&&u(e,["content"],t);const o=l(n,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],jv(o));const r=l(n,["tokenCount"]);r!=null&&u(e,["tokenCount"],r);const i=l(n,["finishReason"]);i!=null&&u(e,["finishReason"],i);const s=l(n,["avgLogprobs"]);s!=null&&u(e,["avgLogprobs"],s);const a=l(n,["groundingMetadata"]);a!=null&&u(e,["groundingMetadata"],a);const d=l(n,["index"]);d!=null&&u(e,["index"],d);const c=l(n,["logprobsResult"]);c!=null&&u(e,["logprobsResult"],c);const f=l(n,["safetyRatings"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>g)),u(e,["safetyRatings"],m)}const p=l(n,["urlContextMetadata"]);return p!=null&&u(e,["urlContextMetadata"],p),e}function jv(n){const e={},t=l(n,["citationSources"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>r)),u(e,["citations"],o)}return e}function eT(n,e){const t={},o=l(e,["model"]);o!=null&&u(t,["_url","model"],$(n,o));const r=l(e,["contents"]);if(r!=null){let i=Oe(r);Array.isArray(i)&&(i=i.map(s=>s)),u(t,["contents"],i)}return t}function nT(n){const e={},t=l(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=l(n,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),u(e,["tokensInfo"],r)}return e}function tT(n){const e={},t=l(n,["values"]);t!=null&&u(e,["values"],t);const o=l(n,["statistics"]);return o!=null&&u(e,["statistics"],oT(o)),e}function oT(n){const e={},t=l(n,["truncated"]);t!=null&&u(e,["truncated"],t);const o=l(n,["token_count"]);return o!=null&&u(e,["tokenCount"],o),e}function pi(n){const e={},t=l(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>uE(i))),u(e,["parts"],r)}const o=l(n,["role"]);return o!=null&&u(e,["role"],o),e}function rT(n){const e={},t=l(n,["controlType"]);t!=null&&u(e,["controlType"],t);const o=l(n,["enableControlImageComputation"]);return o!=null&&u(e,["computeControl"],o),e}function iT(n){const e={};if(l(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function lT(n,e){const t={},o=l(n,["systemInstruction"]);e!==void 0&&o!=null&&u(e,["systemInstruction"],ye(o));const r=l(n,["tools"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>_p(a))),u(e,["tools"],s)}const i=l(n,["generationConfig"]);return e!==void 0&&i!=null&&u(e,["generationConfig"],QT(i)),t}function sT(n,e){const t={},o=l(e,["model"]);o!=null&&u(t,["_url","model"],$(n,o));const r=l(e,["contents"]);if(r!=null){let s=Oe(r);Array.isArray(s)&&(s=s.map(a=>pi(a))),u(t,["contents"],s)}const i=l(e,["config"]);return i!=null&&iT(i),t}function uT(n,e){const t={},o=l(e,["model"]);o!=null&&u(t,["_url","model"],$(n,o));const r=l(e,["contents"]);if(r!=null){let s=Oe(r);Array.isArray(s)&&(s=s.map(a=>a)),u(t,["contents"],s)}const i=l(e,["config"]);return i!=null&&lT(i,t),t}function aT(n){const e={},t=l(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=l(n,["totalTokens"]);o!=null&&u(e,["totalTokens"],o);const r=l(n,["cachedContentTokenCount"]);return r!=null&&u(e,["cachedContentTokenCount"],r),e}function dT(n){const e={},t=l(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=l(n,["totalTokens"]);return o!=null&&u(e,["totalTokens"],o),e}function cT(n,e){const t={},o=l(e,["model"]);return o!=null&&u(t,["_url","name"],$(n,o)),t}function fT(n,e){const t={},o=l(e,["model"]);return o!=null&&u(t,["_url","name"],$(n,o)),t}function pT(n){const e={},t=l(n,["sdkHttpResponse"]);return t!=null&&u(e,["sdkHttpResponse"],t),e}function mT(n){const e={},t=l(n,["sdkHttpResponse"]);return t!=null&&u(e,["sdkHttpResponse"],t),e}function hT(n,e){const t={},o=l(n,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const r=l(n,["negativePrompt"]);e!==void 0&&r!=null&&u(e,["parameters","negativePrompt"],r);const i=l(n,["numberOfImages"]);e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i);const s=l(n,["aspectRatio"]);e!==void 0&&s!=null&&u(e,["parameters","aspectRatio"],s);const a=l(n,["guidanceScale"]);e!==void 0&&a!=null&&u(e,["parameters","guidanceScale"],a);const d=l(n,["seed"]);e!==void 0&&d!=null&&u(e,["parameters","seed"],d);const c=l(n,["safetyFilterLevel"]);e!==void 0&&c!=null&&u(e,["parameters","safetySetting"],c);const f=l(n,["personGeneration"]);e!==void 0&&f!=null&&u(e,["parameters","personGeneration"],f);const p=l(n,["includeSafetyAttributes"]);e!==void 0&&p!=null&&u(e,["parameters","includeSafetyAttributes"],p);const m=l(n,["includeRaiReason"]);e!==void 0&&m!=null&&u(e,["parameters","includeRaiReason"],m);const g=l(n,["language"]);e!==void 0&&g!=null&&u(e,["parameters","language"],g);const T=l(n,["outputMimeType"]);e!==void 0&&T!=null&&u(e,["parameters","outputOptions","mimeType"],T);const E=l(n,["outputCompressionQuality"]);e!==void 0&&E!=null&&u(e,["parameters","outputOptions","compressionQuality"],E);const P=l(n,["addWatermark"]);e!==void 0&&P!=null&&u(e,["parameters","addWatermark"],P);const v=l(n,["labels"]);e!==void 0&&v!=null&&u(e,["labels"],v);const h=l(n,["editMode"]);e!==void 0&&h!=null&&u(e,["parameters","editMode"],h);const y=l(n,["baseSteps"]);return e!==void 0&&y!=null&&u(e,["parameters","editConfig","baseSteps"],y),t}function gT(n,e){const t={},o=l(e,["model"]);o!=null&&u(t,["_url","model"],$(n,o));const r=l(e,["prompt"]);r!=null&&u(t,["instances[0]","prompt"],r);const i=l(e,["referenceImages"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(d=>mE(d))),u(t,["instances[0]","referenceImages"],a)}const s=l(e,["config"]);return s!=null&&hT(s,t),t}function yT(n){const e={},t=l(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=l(n,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>mi(i))),u(e,["generatedImages"],r)}return e}function vT(n,e){const t={},o=l(n,["taskType"]);e!==void 0&&o!=null&&u(e,["requests[]","taskType"],o);const r=l(n,["title"]);e!==void 0&&r!=null&&u(e,["requests[]","title"],r);const i=l(n,["outputDimensionality"]);if(e!==void 0&&i!=null&&u(e,["requests[]","outputDimensionality"],i),l(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function TT(n,e){const t={},o=l(n,["taskType"]);e!==void 0&&o!=null&&u(e,["instances[]","task_type"],o);const r=l(n,["title"]);e!==void 0&&r!=null&&u(e,["instances[]","title"],r);const i=l(n,["outputDimensionality"]);e!==void 0&&i!=null&&u(e,["parameters","outputDimensionality"],i);const s=l(n,["mimeType"]);e!==void 0&&s!=null&&u(e,["instances[]","mimeType"],s);const a=l(n,["autoTruncate"]);return e!==void 0&&a!=null&&u(e,["parameters","autoTruncate"],a),t}function ET(n,e){const t={},o=l(e,["model"]);o!=null&&u(t,["_url","model"],$(n,o));const r=l(e,["contents"]);if(r!=null){let a=Ws(n,r);Array.isArray(a)&&(a=a.map(d=>d)),u(t,["requests[]","content"],a)}const i=l(e,["config"]);i!=null&&vT(i,t);const s=l(e,["model"]);return s!==void 0&&u(t,["requests[]","model"],$(n,s)),t}function ST(n,e){const t={},o=l(e,["model"]);o!=null&&u(t,["_url","model"],$(n,o));const r=l(e,["contents"]);if(r!=null){let s=Ws(n,r);Array.isArray(s)&&(s=s.map(a=>a)),u(t,["instances[]","content"],s)}const i=l(e,["config"]);return i!=null&&TT(i,t),t}function _T(n){const e={},t=l(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=l(n,["embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["embeddings"],i)}const r=l(n,["metadata"]);return r!=null&&u(e,["metadata"],r),e}function CT(n){const e={},t=l(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=l(n,["predictions[]","embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>tT(s))),u(e,["embeddings"],i)}const r=l(n,["metadata"]);return r!=null&&u(e,["metadata"],r),e}function IT(n){const e={},t=l(n,["endpoint"]);t!=null&&u(e,["name"],t);const o=l(n,["deployedModelId"]);return o!=null&&u(e,["deployedModelId"],o),e}function wT(n){const e={};if(l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=l(n,["fileUri"]);t!=null&&u(e,["fileUri"],t);const o=l(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function AT(n){const e={};if(l(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=l(n,["description"]);t!=null&&u(e,["description"],t);const o=l(n,["name"]);o!=null&&u(e,["name"],o);const r=l(n,["parameters"]);r!=null&&u(e,["parameters"],r);const i=l(n,["parametersJsonSchema"]);i!=null&&u(e,["parametersJsonSchema"],i);const s=l(n,["response"]);s!=null&&u(e,["response"],s);const a=l(n,["responseJsonSchema"]);return a!=null&&u(e,["responseJsonSchema"],a),e}function PT(n,e,t){const o={},r=l(e,["systemInstruction"]);t!==void 0&&r!=null&&u(t,["systemInstruction"],pi(ye(r)));const i=l(e,["temperature"]);i!=null&&u(o,["temperature"],i);const s=l(e,["topP"]);s!=null&&u(o,["topP"],s);const a=l(e,["topK"]);a!=null&&u(o,["topK"],a);const d=l(e,["candidateCount"]);d!=null&&u(o,["candidateCount"],d);const c=l(e,["maxOutputTokens"]);c!=null&&u(o,["maxOutputTokens"],c);const f=l(e,["stopSequences"]);f!=null&&u(o,["stopSequences"],f);const p=l(e,["responseLogprobs"]);p!=null&&u(o,["responseLogprobs"],p);const m=l(e,["logprobs"]);m!=null&&u(o,["logprobs"],m);const g=l(e,["presencePenalty"]);g!=null&&u(o,["presencePenalty"],g);const T=l(e,["frequencyPenalty"]);T!=null&&u(o,["frequencyPenalty"],T);const E=l(e,["seed"]);E!=null&&u(o,["seed"],E);const P=l(e,["responseMimeType"]);P!=null&&u(o,["responseMimeType"],P);const v=l(e,["responseSchema"]);v!=null&&u(o,["responseSchema"],Ks(v));const h=l(e,["responseJsonSchema"]);if(h!=null&&u(o,["responseJsonSchema"],h),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const y=l(e,["safetySettings"]);if(t!==void 0&&y!=null){let z=y;Array.isArray(z)&&(z=z.map(se=>hE(se))),u(t,["safetySettings"],z)}const S=l(e,["tools"]);if(t!==void 0&&S!=null){let z=Yt(S);Array.isArray(z)&&(z=z.map(se=>SE(Kt(se)))),u(t,["tools"],z)}const C=l(e,["toolConfig"]);if(t!==void 0&&C!=null&&u(t,["toolConfig"],C),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=l(e,["cachedContent"]);t!==void 0&&I!=null&&u(t,["cachedContent"],wn(n,I));const w=l(e,["responseModalities"]);w!=null&&u(o,["responseModalities"],w);const N=l(e,["mediaResolution"]);N!=null&&u(o,["mediaResolution"],N);const D=l(e,["speechConfig"]);if(D!=null&&u(o,["speechConfig"],Ys(D)),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=l(e,["thinkingConfig"]);k!=null&&u(o,["thinkingConfig"],k);const B=l(e,["imageConfig"]);return B!=null&&u(o,["imageConfig"],B),o}function RT(n,e,t){const o={},r=l(e,["systemInstruction"]);t!==void 0&&r!=null&&u(t,["systemInstruction"],ye(r));const i=l(e,["temperature"]);i!=null&&u(o,["temperature"],i);const s=l(e,["topP"]);s!=null&&u(o,["topP"],s);const a=l(e,["topK"]);a!=null&&u(o,["topK"],a);const d=l(e,["candidateCount"]);d!=null&&u(o,["candidateCount"],d);const c=l(e,["maxOutputTokens"]);c!=null&&u(o,["maxOutputTokens"],c);const f=l(e,["stopSequences"]);f!=null&&u(o,["stopSequences"],f);const p=l(e,["responseLogprobs"]);p!=null&&u(o,["responseLogprobs"],p);const m=l(e,["logprobs"]);m!=null&&u(o,["logprobs"],m);const g=l(e,["presencePenalty"]);g!=null&&u(o,["presencePenalty"],g);const T=l(e,["frequencyPenalty"]);T!=null&&u(o,["frequencyPenalty"],T);const E=l(e,["seed"]);E!=null&&u(o,["seed"],E);const P=l(e,["responseMimeType"]);P!=null&&u(o,["responseMimeType"],P);const v=l(e,["responseSchema"]);v!=null&&u(o,["responseSchema"],Ks(v));const h=l(e,["responseJsonSchema"]);h!=null&&u(o,["responseJsonSchema"],h);const y=l(e,["routingConfig"]);y!=null&&u(o,["routingConfig"],y);const S=l(e,["modelSelectionConfig"]);S!=null&&u(o,["modelConfig"],S);const C=l(e,["safetySettings"]);if(t!==void 0&&C!=null){let Te=C;Array.isArray(Te)&&(Te=Te.map(Ye=>Ye)),u(t,["safetySettings"],Te)}const I=l(e,["tools"]);if(t!==void 0&&I!=null){let Te=Yt(I);Array.isArray(Te)&&(Te=Te.map(Ye=>_p(Kt(Ye)))),u(t,["tools"],Te)}const w=l(e,["toolConfig"]);t!==void 0&&w!=null&&u(t,["toolConfig"],w);const N=l(e,["labels"]);t!==void 0&&N!=null&&u(t,["labels"],N);const D=l(e,["cachedContent"]);t!==void 0&&D!=null&&u(t,["cachedContent"],wn(n,D));const k=l(e,["responseModalities"]);k!=null&&u(o,["responseModalities"],k);const B=l(e,["mediaResolution"]);B!=null&&u(o,["mediaResolution"],B);const z=l(e,["speechConfig"]);z!=null&&u(o,["speechConfig"],Sp(Ys(z)));const se=l(e,["audioTimestamp"]);se!=null&&u(o,["audioTimestamp"],se);const ke=l(e,["thinkingConfig"]);ke!=null&&u(o,["thinkingConfig"],ke);const ft=l(e,["imageConfig"]);return ft!=null&&u(o,["imageConfig"],ft),o}function yd(n,e){const t={},o=l(e,["model"]);o!=null&&u(t,["_url","model"],$(n,o));const r=l(e,["contents"]);if(r!=null){let s=Oe(r);Array.isArray(s)&&(s=s.map(a=>pi(a))),u(t,["contents"],s)}const i=l(e,["config"]);return i!=null&&u(t,["generationConfig"],PT(n,i,t)),t}function vd(n,e){const t={},o=l(e,["model"]);o!=null&&u(t,["_url","model"],$(n,o));const r=l(e,["contents"]);if(r!=null){let s=Oe(r);Array.isArray(s)&&(s=s.map(a=>a)),u(t,["contents"],s)}const i=l(e,["config"]);return i!=null&&u(t,["generationConfig"],RT(n,i,t)),t}function Td(n){const e={},t=l(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=l(n,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(c=>bv(c))),u(e,["candidates"],d)}const r=l(n,["modelVersion"]);r!=null&&u(e,["modelVersion"],r);const i=l(n,["promptFeedback"]);i!=null&&u(e,["promptFeedback"],i);const s=l(n,["responseId"]);s!=null&&u(e,["responseId"],s);const a=l(n,["usageMetadata"]);return a!=null&&u(e,["usageMetadata"],a),e}function Ed(n){const e={},t=l(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=l(n,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["candidates"],c)}const r=l(n,["createTime"]);r!=null&&u(e,["createTime"],r);const i=l(n,["modelVersion"]);i!=null&&u(e,["modelVersion"],i);const s=l(n,["promptFeedback"]);s!=null&&u(e,["promptFeedback"],s);const a=l(n,["responseId"]);a!=null&&u(e,["responseId"],a);const d=l(n,["usageMetadata"]);return d!=null&&u(e,["usageMetadata"],d),e}function NT(n,e){const t={};if(l(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=l(n,["numberOfImages"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const r=l(n,["aspectRatio"]);e!==void 0&&r!=null&&u(e,["parameters","aspectRatio"],r);const i=l(n,["guidanceScale"]);if(e!==void 0&&i!=null&&u(e,["parameters","guidanceScale"],i),l(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=l(n,["safetyFilterLevel"]);e!==void 0&&s!=null&&u(e,["parameters","safetySetting"],s);const a=l(n,["personGeneration"]);e!==void 0&&a!=null&&u(e,["parameters","personGeneration"],a);const d=l(n,["includeSafetyAttributes"]);e!==void 0&&d!=null&&u(e,["parameters","includeSafetyAttributes"],d);const c=l(n,["includeRaiReason"]);e!==void 0&&c!=null&&u(e,["parameters","includeRaiReason"],c);const f=l(n,["language"]);e!==void 0&&f!=null&&u(e,["parameters","language"],f);const p=l(n,["outputMimeType"]);e!==void 0&&p!=null&&u(e,["parameters","outputOptions","mimeType"],p);const m=l(n,["outputCompressionQuality"]);if(e!==void 0&&m!=null&&u(e,["parameters","outputOptions","compressionQuality"],m),l(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(l(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=l(n,["imageSize"]);if(e!==void 0&&g!=null&&u(e,["parameters","sampleImageSize"],g),l(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function xT(n,e){const t={},o=l(n,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const r=l(n,["negativePrompt"]);e!==void 0&&r!=null&&u(e,["parameters","negativePrompt"],r);const i=l(n,["numberOfImages"]);e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i);const s=l(n,["aspectRatio"]);e!==void 0&&s!=null&&u(e,["parameters","aspectRatio"],s);const a=l(n,["guidanceScale"]);e!==void 0&&a!=null&&u(e,["parameters","guidanceScale"],a);const d=l(n,["seed"]);e!==void 0&&d!=null&&u(e,["parameters","seed"],d);const c=l(n,["safetyFilterLevel"]);e!==void 0&&c!=null&&u(e,["parameters","safetySetting"],c);const f=l(n,["personGeneration"]);e!==void 0&&f!=null&&u(e,["parameters","personGeneration"],f);const p=l(n,["includeSafetyAttributes"]);e!==void 0&&p!=null&&u(e,["parameters","includeSafetyAttributes"],p);const m=l(n,["includeRaiReason"]);e!==void 0&&m!=null&&u(e,["parameters","includeRaiReason"],m);const g=l(n,["language"]);e!==void 0&&g!=null&&u(e,["parameters","language"],g);const T=l(n,["outputMimeType"]);e!==void 0&&T!=null&&u(e,["parameters","outputOptions","mimeType"],T);const E=l(n,["outputCompressionQuality"]);e!==void 0&&E!=null&&u(e,["parameters","outputOptions","compressionQuality"],E);const P=l(n,["addWatermark"]);e!==void 0&&P!=null&&u(e,["parameters","addWatermark"],P);const v=l(n,["labels"]);e!==void 0&&v!=null&&u(e,["labels"],v);const h=l(n,["imageSize"]);e!==void 0&&h!=null&&u(e,["parameters","sampleImageSize"],h);const y=l(n,["enhancePrompt"]);return e!==void 0&&y!=null&&u(e,["parameters","enhancePrompt"],y),t}function MT(n,e){const t={},o=l(e,["model"]);o!=null&&u(t,["_url","model"],$(n,o));const r=l(e,["prompt"]);r!=null&&u(t,["instances[0]","prompt"],r);const i=l(e,["config"]);return i!=null&&NT(i,t),t}function kT(n,e){const t={},o=l(e,["model"]);o!=null&&u(t,["_url","model"],$(n,o));const r=l(e,["prompt"]);r!=null&&u(t,["instances[0]","prompt"],r);const i=l(e,["config"]);return i!=null&&xT(i,t),t}function DT(n){const e={},t=l(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=l(n,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>OT(s))),u(e,["generatedImages"],i)}const r=l(n,["positivePromptSafetyAttributes"]);return r!=null&&u(e,["positivePromptSafetyAttributes"],Tp(r)),e}function LT(n){const e={},t=l(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=l(n,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>mi(s))),u(e,["generatedImages"],i)}const r=l(n,["positivePromptSafetyAttributes"]);return r!=null&&u(e,["positivePromptSafetyAttributes"],Ep(r)),e}function UT(n,e){const t={},o=l(n,["numberOfVideos"]);if(e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o),l(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=l(n,["durationSeconds"]);if(e!==void 0&&r!=null&&u(e,["parameters","durationSeconds"],r),l(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=l(n,["aspectRatio"]);e!==void 0&&i!=null&&u(e,["parameters","aspectRatio"],i);const s=l(n,["resolution"]);e!==void 0&&s!=null&&u(e,["parameters","resolution"],s);const a=l(n,["personGeneration"]);if(e!==void 0&&a!=null&&u(e,["parameters","personGeneration"],a),l(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=l(n,["negativePrompt"]);e!==void 0&&d!=null&&u(e,["parameters","negativePrompt"],d);const c=l(n,["enhancePrompt"]);if(e!==void 0&&c!=null&&u(e,["parameters","enhancePrompt"],c),l(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=l(n,["lastFrame"]);e!==void 0&&f!=null&&u(e,["instances[0]","lastFrame"],hi(f));const p=l(n,["referenceImages"]);if(e!==void 0&&p!=null){let m=p;Array.isArray(m)&&(m=m.map(g=>LE(g))),u(e,["instances[0]","referenceImages"],m)}if(l(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(l(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function FT(n,e){const t={},o=l(n,["numberOfVideos"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const r=l(n,["outputGcsUri"]);e!==void 0&&r!=null&&u(e,["parameters","storageUri"],r);const i=l(n,["fps"]);e!==void 0&&i!=null&&u(e,["parameters","fps"],i);const s=l(n,["durationSeconds"]);e!==void 0&&s!=null&&u(e,["parameters","durationSeconds"],s);const a=l(n,["seed"]);e!==void 0&&a!=null&&u(e,["parameters","seed"],a);const d=l(n,["aspectRatio"]);e!==void 0&&d!=null&&u(e,["parameters","aspectRatio"],d);const c=l(n,["resolution"]);e!==void 0&&c!=null&&u(e,["parameters","resolution"],c);const f=l(n,["personGeneration"]);e!==void 0&&f!=null&&u(e,["parameters","personGeneration"],f);const p=l(n,["pubsubTopic"]);e!==void 0&&p!=null&&u(e,["parameters","pubsubTopic"],p);const m=l(n,["negativePrompt"]);e!==void 0&&m!=null&&u(e,["parameters","negativePrompt"],m);const g=l(n,["enhancePrompt"]);e!==void 0&&g!=null&&u(e,["parameters","enhancePrompt"],g);const T=l(n,["generateAudio"]);e!==void 0&&T!=null&&u(e,["parameters","generateAudio"],T);const E=l(n,["lastFrame"]);e!==void 0&&E!=null&&u(e,["instances[0]","lastFrame"],tn(E));const P=l(n,["referenceImages"]);if(e!==void 0&&P!=null){let y=P;Array.isArray(y)&&(y=y.map(S=>UE(S))),u(e,["instances[0]","referenceImages"],y)}const v=l(n,["mask"]);e!==void 0&&v!=null&&u(e,["instances[0]","mask"],DE(v));const h=l(n,["compressionQuality"]);return e!==void 0&&h!=null&&u(e,["parameters","compressionQuality"],h),t}function VT(n){const e={},t=l(n,["name"]);t!=null&&u(e,["name"],t);const o=l(n,["metadata"]);o!=null&&u(e,["metadata"],o);const r=l(n,["done"]);r!=null&&u(e,["done"],r);const i=l(n,["error"]);i!=null&&u(e,["error"],i);const s=l(n,["response","generateVideoResponse"]);return s!=null&&u(e,["response"],BT(s)),e}function GT(n){const e={},t=l(n,["name"]);t!=null&&u(e,["name"],t);const o=l(n,["metadata"]);o!=null&&u(e,["metadata"],o);const r=l(n,["done"]);r!=null&&u(e,["done"],r);const i=l(n,["error"]);i!=null&&u(e,["error"],i);const s=l(n,["response"]);return s!=null&&u(e,["response"],zT(s)),e}function qT(n,e){const t={},o=l(e,["model"]);o!=null&&u(t,["_url","model"],$(n,o));const r=l(e,["prompt"]);r!=null&&u(t,["instances[0]","prompt"],r);const i=l(e,["image"]);i!=null&&u(t,["instances[0]","image"],hi(i));const s=l(e,["video"]);s!=null&&u(t,["instances[0]","video"],Cp(s));const a=l(e,["source"]);a!=null&&JT(a,t);const d=l(e,["config"]);return d!=null&&UT(d,t),t}function HT(n,e){const t={},o=l(e,["model"]);o!=null&&u(t,["_url","model"],$(n,o));const r=l(e,["prompt"]);r!=null&&u(t,["instances[0]","prompt"],r);const i=l(e,["image"]);i!=null&&u(t,["instances[0]","image"],tn(i));const s=l(e,["video"]);s!=null&&u(t,["instances[0]","video"],Ip(s));const a=l(e,["source"]);a!=null&&$T(a,t);const d=l(e,["config"]);return d!=null&&FT(d,t),t}function BT(n){const e={},t=l(n,["generatedSamples"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>KT(s))),u(e,["generatedVideos"],i)}const o=l(n,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const r=l(n,["raiMediaFilteredReasons"]);return r!=null&&u(e,["raiMediaFilteredReasons"],r),e}function zT(n){const e={},t=l(n,["videos"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>YT(s))),u(e,["generatedVideos"],i)}const o=l(n,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const r=l(n,["raiMediaFilteredReasons"]);return r!=null&&u(e,["raiMediaFilteredReasons"],r),e}function JT(n,e){const t={},o=l(n,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const r=l(n,["image"]);e!==void 0&&r!=null&&u(e,["instances[0]","image"],hi(r));const i=l(n,["video"]);return e!==void 0&&i!=null&&u(e,["instances[0]","video"],Cp(i)),t}function $T(n,e){const t={},o=l(n,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const r=l(n,["image"]);e!==void 0&&r!=null&&u(e,["instances[0]","image"],tn(r));const i=l(n,["video"]);return e!==void 0&&i!=null&&u(e,["instances[0]","video"],Ip(i)),t}function OT(n){const e={},t=l(n,["_self"]);t!=null&&u(e,["image"],eE(t));const o=l(n,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const r=l(n,["_self"]);return r!=null&&u(e,["safetyAttributes"],Tp(r)),e}function mi(n){const e={},t=l(n,["_self"]);t!=null&&u(e,["image"],vp(t));const o=l(n,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const r=l(n,["_self"]);r!=null&&u(e,["safetyAttributes"],Ep(r));const i=l(n,["prompt"]);return i!=null&&u(e,["enhancedPrompt"],i),e}function WT(n){const e={},t=l(n,["_self"]);t!=null&&u(e,["mask"],vp(t));const o=l(n,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),u(e,["labels"],r)}return e}function KT(n){const e={},t=l(n,["video"]);return t!=null&&u(e,["video"],ME(t)),e}function YT(n){const e={},t=l(n,["_self"]);return t!=null&&u(e,["video"],kE(t)),e}function QT(n){const e={},t=l(n,["modelSelectionConfig"]);t!=null&&u(e,["modelConfig"],t);const o=l(n,["responseJsonSchema"]);o!=null&&u(e,["responseJsonSchema"],o);const r=l(n,["audioTimestamp"]);r!=null&&u(e,["audioTimestamp"],r);const i=l(n,["candidateCount"]);i!=null&&u(e,["candidateCount"],i);const s=l(n,["enableAffectiveDialog"]);s!=null&&u(e,["enableAffectiveDialog"],s);const a=l(n,["frequencyPenalty"]);a!=null&&u(e,["frequencyPenalty"],a);const d=l(n,["logprobs"]);d!=null&&u(e,["logprobs"],d);const c=l(n,["maxOutputTokens"]);c!=null&&u(e,["maxOutputTokens"],c);const f=l(n,["mediaResolution"]);f!=null&&u(e,["mediaResolution"],f);const p=l(n,["presencePenalty"]);p!=null&&u(e,["presencePenalty"],p);const m=l(n,["responseLogprobs"]);m!=null&&u(e,["responseLogprobs"],m);const g=l(n,["responseMimeType"]);g!=null&&u(e,["responseMimeType"],g);const T=l(n,["responseModalities"]);T!=null&&u(e,["responseModalities"],T);const E=l(n,["responseSchema"]);E!=null&&u(e,["responseSchema"],E);const P=l(n,["routingConfig"]);P!=null&&u(e,["routingConfig"],P);const v=l(n,["seed"]);v!=null&&u(e,["seed"],v);const h=l(n,["speechConfig"]);h!=null&&u(e,["speechConfig"],Sp(h));const y=l(n,["stopSequences"]);y!=null&&u(e,["stopSequences"],y);const S=l(n,["temperature"]);S!=null&&u(e,["temperature"],S);const C=l(n,["thinkingConfig"]);C!=null&&u(e,["thinkingConfig"],C);const I=l(n,["topK"]);I!=null&&u(e,["topK"],I);const w=l(n,["topP"]);if(w!=null&&u(e,["topP"],w),l(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function XT(n,e){const t={},o=l(e,["model"]);return o!=null&&u(t,["_url","name"],$(n,o)),t}function ZT(n,e){const t={},o=l(e,["model"]);return o!=null&&u(t,["_url","name"],$(n,o)),t}function bT(n){const e={};if(l(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=l(n,["enableWidget"]);return t!=null&&u(e,["enableWidget"],t),e}function jT(n){const e={};if(l(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=l(n,["timeRangeFilter"]);return t!=null&&u(e,["timeRangeFilter"],t),e}function eE(n){const e={},t=l(n,["bytesBase64Encoded"]);t!=null&&u(e,["imageBytes"],Yn(t));const o=l(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function vp(n){const e={},t=l(n,["gcsUri"]);t!=null&&u(e,["gcsUri"],t);const o=l(n,["bytesBase64Encoded"]);o!=null&&u(e,["imageBytes"],Yn(o));const r=l(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function hi(n){const e={};if(l(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=l(n,["imageBytes"]);t!=null&&u(e,["bytesBase64Encoded"],Yn(t));const o=l(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function tn(n){const e={},t=l(n,["gcsUri"]);t!=null&&u(e,["gcsUri"],t);const o=l(n,["imageBytes"]);o!=null&&u(e,["bytesBase64Encoded"],Yn(o));const r=l(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function nE(n,e,t){const o={},r=l(e,["pageSize"]);t!==void 0&&r!=null&&u(t,["_query","pageSize"],r);const i=l(e,["pageToken"]);t!==void 0&&i!=null&&u(t,["_query","pageToken"],i);const s=l(e,["filter"]);t!==void 0&&s!=null&&u(t,["_query","filter"],s);const a=l(e,["queryBase"]);return t!==void 0&&a!=null&&u(t,["_url","models_url"],dp(n,a)),o}function tE(n,e,t){const o={},r=l(e,["pageSize"]);t!==void 0&&r!=null&&u(t,["_query","pageSize"],r);const i=l(e,["pageToken"]);t!==void 0&&i!=null&&u(t,["_query","pageToken"],i);const s=l(e,["filter"]);t!==void 0&&s!=null&&u(t,["_query","filter"],s);const a=l(e,["queryBase"]);return t!==void 0&&a!=null&&u(t,["_url","models_url"],dp(n,a)),o}function oE(n,e){const t={},o=l(e,["config"]);return o!=null&&nE(n,o,t),t}function rE(n,e){const t={},o=l(e,["config"]);return o!=null&&tE(n,o,t),t}function iE(n){const e={},t=l(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=l(n,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const r=l(n,["_self"]);if(r!=null){let i=cp(r);Array.isArray(i)&&(i=i.map(s=>Ol(s))),u(e,["models"],i)}return e}function lE(n){const e={},t=l(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=l(n,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const r=l(n,["_self"]);if(r!=null){let i=cp(r);Array.isArray(i)&&(i=i.map(s=>Wl(s))),u(e,["models"],i)}return e}function sE(n){const e={},t=l(n,["maskMode"]);t!=null&&u(e,["maskMode"],t);const o=l(n,["segmentationClasses"]);o!=null&&u(e,["maskClasses"],o);const r=l(n,["maskDilation"]);return r!=null&&u(e,["dilation"],r),e}function Ol(n){const e={},t=l(n,["name"]);t!=null&&u(e,["name"],t);const o=l(n,["displayName"]);o!=null&&u(e,["displayName"],o);const r=l(n,["description"]);r!=null&&u(e,["description"],r);const i=l(n,["version"]);i!=null&&u(e,["version"],i);const s=l(n,["_self"]);s!=null&&u(e,["tunedModelInfo"],_E(s));const a=l(n,["inputTokenLimit"]);a!=null&&u(e,["inputTokenLimit"],a);const d=l(n,["outputTokenLimit"]);d!=null&&u(e,["outputTokenLimit"],d);const c=l(n,["supportedGenerationMethods"]);return c!=null&&u(e,["supportedActions"],c),e}function Wl(n){const e={},t=l(n,["name"]);t!=null&&u(e,["name"],t);const o=l(n,["displayName"]);o!=null&&u(e,["displayName"],o);const r=l(n,["description"]);r!=null&&u(e,["description"],r);const i=l(n,["versionId"]);i!=null&&u(e,["version"],i);const s=l(n,["deployedModels"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(m=>IT(m))),u(e,["endpoints"],p)}const a=l(n,["labels"]);a!=null&&u(e,["labels"],a);const d=l(n,["_self"]);d!=null&&u(e,["tunedModelInfo"],CE(d));const c=l(n,["defaultCheckpointId"]);c!=null&&u(e,["defaultCheckpointId"],c);const f=l(n,["checkpoints"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(m=>m)),u(e,["checkpoints"],p)}return e}function uE(n){const e={},t=l(n,["functionCall"]);t!=null&&u(e,["functionCall"],t);const o=l(n,["codeExecutionResult"]);o!=null&&u(e,["codeExecutionResult"],o);const r=l(n,["executableCode"]);r!=null&&u(e,["executableCode"],r);const i=l(n,["fileData"]);i!=null&&u(e,["fileData"],wT(i));const s=l(n,["functionResponse"]);s!=null&&u(e,["functionResponse"],s);const a=l(n,["inlineData"]);a!=null&&u(e,["inlineData"],Zv(a));const d=l(n,["text"]);d!=null&&u(e,["text"],d);const c=l(n,["thought"]);c!=null&&u(e,["thought"],c);const f=l(n,["thoughtSignature"]);f!=null&&u(e,["thoughtSignature"],f);const p=l(n,["videoMetadata"]);return p!=null&&u(e,["videoMetadata"],p),e}function aE(n){const e={},t=l(n,["productImage"]);return t!=null&&u(e,["image"],tn(t)),e}function dE(n,e){const t={},o=l(n,["numberOfImages"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const r=l(n,["baseSteps"]);e!==void 0&&r!=null&&u(e,["parameters","editConfig","baseSteps"],r);const i=l(n,["outputGcsUri"]);e!==void 0&&i!=null&&u(e,["parameters","storageUri"],i);const s=l(n,["seed"]);e!==void 0&&s!=null&&u(e,["parameters","seed"],s);const a=l(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&u(e,["parameters","safetySetting"],a);const d=l(n,["personGeneration"]);e!==void 0&&d!=null&&u(e,["parameters","personGeneration"],d);const c=l(n,["addWatermark"]);e!==void 0&&c!=null&&u(e,["parameters","addWatermark"],c);const f=l(n,["outputMimeType"]);e!==void 0&&f!=null&&u(e,["parameters","outputOptions","mimeType"],f);const p=l(n,["outputCompressionQuality"]);e!==void 0&&p!=null&&u(e,["parameters","outputOptions","compressionQuality"],p);const m=l(n,["enhancePrompt"]);e!==void 0&&m!=null&&u(e,["parameters","enhancePrompt"],m);const g=l(n,["labels"]);return e!==void 0&&g!=null&&u(e,["labels"],g),t}function cE(n,e){const t={},o=l(e,["model"]);o!=null&&u(t,["_url","model"],$(n,o));const r=l(e,["source"]);r!=null&&pE(r,t);const i=l(e,["config"]);return i!=null&&dE(i,t),t}function fE(n){const e={},t=l(n,["predictions"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>mi(r))),u(e,["generatedImages"],o)}return e}function pE(n,e){const t={},o=l(n,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const r=l(n,["personImage"]);e!==void 0&&r!=null&&u(e,["instances[0]","personImage","image"],tn(r));const i=l(n,["productImages"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>aE(a))),u(e,["instances[0]","productImages"],s)}return t}function mE(n){const e={},t=l(n,["referenceImage"]);t!=null&&u(e,["referenceImage"],tn(t));const o=l(n,["referenceId"]);o!=null&&u(e,["referenceId"],o);const r=l(n,["referenceType"]);r!=null&&u(e,["referenceType"],r);const i=l(n,["maskImageConfig"]);i!=null&&u(e,["maskImageConfig"],sE(i));const s=l(n,["controlImageConfig"]);s!=null&&u(e,["controlImageConfig"],rT(s));const a=l(n,["styleImageConfig"]);a!=null&&u(e,["styleImageConfig"],a);const d=l(n,["subjectImageConfig"]);return d!=null&&u(e,["subjectImageConfig"],d),e}function Tp(n){const e={},t=l(n,["safetyAttributes","categories"]);t!=null&&u(e,["categories"],t);const o=l(n,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const r=l(n,["contentType"]);return r!=null&&u(e,["contentType"],r),e}function Ep(n){const e={},t=l(n,["safetyAttributes","categories"]);t!=null&&u(e,["categories"],t);const o=l(n,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const r=l(n,["contentType"]);return r!=null&&u(e,["contentType"],r),e}function hE(n){const e={},t=l(n,["category"]);if(t!=null&&u(e,["category"],t),l(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=l(n,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function gE(n){const e={},t=l(n,["image"]);return t!=null&&u(e,["image"],tn(t)),e}function yE(n,e){const t={},o=l(n,["mode"]);e!==void 0&&o!=null&&u(e,["parameters","mode"],o);const r=l(n,["maxPredictions"]);e!==void 0&&r!=null&&u(e,["parameters","maxPredictions"],r);const i=l(n,["confidenceThreshold"]);e!==void 0&&i!=null&&u(e,["parameters","confidenceThreshold"],i);const s=l(n,["maskDilation"]);e!==void 0&&s!=null&&u(e,["parameters","maskDilation"],s);const a=l(n,["binaryColorThreshold"]);e!==void 0&&a!=null&&u(e,["parameters","binaryColorThreshold"],a);const d=l(n,["labels"]);return e!==void 0&&d!=null&&u(e,["labels"],d),t}function vE(n,e){const t={},o=l(e,["model"]);o!=null&&u(t,["_url","model"],$(n,o));const r=l(e,["source"]);r!=null&&EE(r,t);const i=l(e,["config"]);return i!=null&&yE(i,t),t}function TE(n){const e={},t=l(n,["predictions"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>WT(r))),u(e,["generatedMasks"],o)}return e}function EE(n,e){const t={},o=l(n,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const r=l(n,["image"]);e!==void 0&&r!=null&&u(e,["instances[0]","image"],tn(r));const i=l(n,["scribbleImage"]);return e!==void 0&&i!=null&&u(e,["instances[0]","scribble"],gE(i)),t}function Sp(n){const e={},t=l(n,["languageCode"]);t!=null&&u(e,["languageCode"],t);const o=l(n,["voiceConfig"]);if(o!=null&&u(e,["voiceConfig"],o),l(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function SE(n){const e={},t=l(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(p=>p)),u(e,["functionDeclarations"],f)}if(l(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(n,["googleSearchRetrieval"]);o!=null&&u(e,["googleSearchRetrieval"],o);const r=l(n,["computerUse"]);r!=null&&u(e,["computerUse"],r);const i=l(n,["fileSearch"]);i!=null&&u(e,["fileSearch"],i);const s=l(n,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),l(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=l(n,["googleMaps"]);a!=null&&u(e,["googleMaps"],bT(a));const d=l(n,["googleSearch"]);d!=null&&u(e,["googleSearch"],jT(d));const c=l(n,["urlContext"]);return c!=null&&u(e,["urlContext"],c),e}function _p(n){const e={},t=l(n,["functionDeclarations"]);if(t!=null){let p=t;Array.isArray(p)&&(p=p.map(m=>AT(m))),u(e,["functionDeclarations"],p)}const o=l(n,["retrieval"]);o!=null&&u(e,["retrieval"],o);const r=l(n,["googleSearchRetrieval"]);r!=null&&u(e,["googleSearchRetrieval"],r);const i=l(n,["computerUse"]);if(i!=null&&u(e,["computerUse"],i),l(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=l(n,["codeExecution"]);s!=null&&u(e,["codeExecution"],s);const a=l(n,["enterpriseWebSearch"]);a!=null&&u(e,["enterpriseWebSearch"],a);const d=l(n,["googleMaps"]);d!=null&&u(e,["googleMaps"],d);const c=l(n,["googleSearch"]);c!=null&&u(e,["googleSearch"],c);const f=l(n,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}function _E(n){const e={},t=l(n,["baseModel"]);t!=null&&u(e,["baseModel"],t);const o=l(n,["createTime"]);o!=null&&u(e,["createTime"],o);const r=l(n,["updateTime"]);return r!=null&&u(e,["updateTime"],r),e}function CE(n){const e={},t=l(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&u(e,["baseModel"],t);const o=l(n,["createTime"]);o!=null&&u(e,["createTime"],o);const r=l(n,["updateTime"]);return r!=null&&u(e,["updateTime"],r),e}function IE(n,e){const t={},o=l(n,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const r=l(n,["description"]);e!==void 0&&r!=null&&u(e,["description"],r);const i=l(n,["defaultCheckpointId"]);return e!==void 0&&i!=null&&u(e,["defaultCheckpointId"],i),t}function wE(n,e){const t={},o=l(n,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const r=l(n,["description"]);e!==void 0&&r!=null&&u(e,["description"],r);const i=l(n,["defaultCheckpointId"]);return e!==void 0&&i!=null&&u(e,["defaultCheckpointId"],i),t}function AE(n,e){const t={},o=l(e,["model"]);o!=null&&u(t,["_url","name"],$(n,o));const r=l(e,["config"]);return r!=null&&IE(r,t),t}function PE(n,e){const t={},o=l(e,["model"]);o!=null&&u(t,["_url","model"],$(n,o));const r=l(e,["config"]);return r!=null&&wE(r,t),t}function RE(n,e){const t={},o=l(n,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const r=l(n,["safetyFilterLevel"]);e!==void 0&&r!=null&&u(e,["parameters","safetySetting"],r);const i=l(n,["personGeneration"]);e!==void 0&&i!=null&&u(e,["parameters","personGeneration"],i);const s=l(n,["includeRaiReason"]);e!==void 0&&s!=null&&u(e,["parameters","includeRaiReason"],s);const a=l(n,["outputMimeType"]);e!==void 0&&a!=null&&u(e,["parameters","outputOptions","mimeType"],a);const d=l(n,["outputCompressionQuality"]);e!==void 0&&d!=null&&u(e,["parameters","outputOptions","compressionQuality"],d);const c=l(n,["enhanceInputImage"]);e!==void 0&&c!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],c);const f=l(n,["imagePreservationFactor"]);e!==void 0&&f!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const p=l(n,["labels"]);e!==void 0&&p!=null&&u(e,["labels"],p);const m=l(n,["numberOfImages"]);e!==void 0&&m!=null&&u(e,["parameters","sampleCount"],m);const g=l(n,["mode"]);return e!==void 0&&g!=null&&u(e,["parameters","mode"],g),t}function NE(n,e){const t={},o=l(e,["model"]);o!=null&&u(t,["_url","model"],$(n,o));const r=l(e,["image"]);r!=null&&u(t,["instances[0]","image"],tn(r));const i=l(e,["upscaleFactor"]);i!=null&&u(t,["parameters","upscaleConfig","upscaleFactor"],i);const s=l(e,["config"]);return s!=null&&RE(s,t),t}function xE(n){const e={},t=l(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=l(n,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>mi(i))),u(e,["generatedImages"],r)}return e}function ME(n){const e={},t=l(n,["uri"]);t!=null&&u(e,["uri"],t);const o=l(n,["encodedVideo"]);o!=null&&u(e,["videoBytes"],Yn(o));const r=l(n,["encoding"]);return r!=null&&u(e,["mimeType"],r),e}function kE(n){const e={},t=l(n,["gcsUri"]);t!=null&&u(e,["uri"],t);const o=l(n,["bytesBase64Encoded"]);o!=null&&u(e,["videoBytes"],Yn(o));const r=l(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function DE(n){const e={},t=l(n,["image"]);t!=null&&u(e,["_self"],tn(t));const o=l(n,["maskMode"]);return o!=null&&u(e,["maskMode"],o),e}function LE(n){const e={},t=l(n,["image"]);t!=null&&u(e,["image"],hi(t));const o=l(n,["referenceType"]);return o!=null&&u(e,["referenceType"],o),e}function UE(n){const e={},t=l(n,["image"]);t!=null&&u(e,["image"],tn(t));const o=l(n,["referenceType"]);return o!=null&&u(e,["referenceType"],o),e}function Cp(n){const e={},t=l(n,["uri"]);t!=null&&u(e,["uri"],t);const o=l(n,["videoBytes"]);o!=null&&u(e,["encodedVideo"],Yn(o));const r=l(n,["mimeType"]);return r!=null&&u(e,["encoding"],r),e}function Ip(n){const e={},t=l(n,["uri"]);t!=null&&u(e,["gcsUri"],t);const o=l(n,["videoBytes"]);o!=null&&u(e,["bytesBase64Encoded"],Yn(o));const r=l(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FE="Content-Type",VE="X-Server-Timeout",GE="User-Agent",Kl="x-goog-api-client",qE="1.29.0",HE=`google-genai-sdk/${qE}`,BE="v1beta1",zE="v1beta",Sd=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class JE{constructor(e){var t,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:BE,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:zE,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,o){const r=[this.getRequestUrlInternal(t)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,o);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))r.searchParams.append(s,String(a));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,t,r.toString(),e.abortSignal),this.unaryApiCall(r,i,e.httpMethod)}patchHttpOptions(e,t){const o=JSON.parse(JSON.stringify(e));for(const[r,i]of Object.entries(t))typeof i=="object"?o[r]=Object.assign(Object.assign({},o[r]),i):i!==void 0&&(o[r]=i);return o}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,t,r.toString(),e.abortSignal),this.streamApiCall(r,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,o,r){if(t&&t.timeout||r){const i=new AbortController,s=i.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const a=setTimeout(()=>i.abort(),t.timeout);a&&typeof a.unref=="function"&&a.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=s}return t&&t.extraBody!==null&&$E(e,t.extraBody),e.headers=await this.getHeadersInternal(t,o),e}async unaryApiCall(e,t,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(async r=>(await _d(r),new zl(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,t,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(async r=>(await _d(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var t;return Lt(this,arguments,function*(){const r=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),i=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let s="";for(;;){const{done:a,value:d}=yield Y(r.read());if(a){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=i.decode(d,{stream:!0});try{const p=JSON.parse(c);if("error"in p){const m=JSON.parse(JSON.stringify(p.error)),g=m.status,T=m.code,E=`got status: ${g}. ${JSON.stringify(p)}`;if(T>=400&&T<600)throw new fi({message:E,status:T})}}catch(p){if(p.name==="ApiError")throw p}s+=c;let f=s.match(Sd);for(;f;){const p=f[1];try{const m=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Y(new zl(m)),s=s.slice(f[0].length),f=s.match(Sd)}catch(m){throw new Error(`exception parsing stream chunk ${p}. ${m}`)}}}}finally{r.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},t=HE+" "+this.clientOptions.userAgentExtra;return e[GE]=t,e[Kl]=t,e[FE]="application/json",e}async getHeadersInternal(e,t){const o=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))o.append(r,i);e.timeout&&e.timeout>0&&o.append(VE,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,t),o}getFileName(e){var t;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(t=o.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),o}async uploadFile(e,t){var o;const r={};t!=null&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const i=this.clientOptions.uploader,s=await i.stat(e);r.sizeBytes=String(s.size);const a=(o=t==null?void 0:t.mimeType)!==null&&o!==void 0?o:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=a;const d={file:r},c=this.getFileName(e),f=x("upload/v1beta/files",d._url),p=await this.fetchUploadUrl(f,r.sizeBytes,r.mimeType,c,d,t==null?void 0:t.httpOptions);return i.upload(e,p,this)}async uploadFileToFileSearchStore(e,t,o){var r;const i=this.clientOptions.uploader,s=await i.stat(t),a=String(s.size),d=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:s.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(t),p={};o!=null&&o.customMetadata&&(p.customMetadata=o.customMetadata),o!=null&&o.chunkingConfig&&(p.chunkingConfig=o.chunkingConfig);const m=await this.fetchUploadUrl(c,a,d,f,p,o==null?void 0:o.httpOptions);return i.uploadToFileSearchStore(t,m,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,o,r,i,s){var a;let d={};s?d=s:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const c=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:d});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(a=c==null?void 0:c.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function _d(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let o;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await n.json():o={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=JSON.stringify(o);throw t>=400&&t<600?new fi({message:r,status:t}):new Error(r)}}function $E(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const i=JSON.parse(n.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))t=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(i,s){const a=Object.assign({},i);for(const d in s)if(Object.prototype.hasOwnProperty.call(s,d)){const c=s[d],f=a[d];c&&typeof c=="object"&&!Array.isArray(c)&&f&&typeof f=="object"&&!Array.isArray(f)?a[d]=o(f,c):(f&&c&&typeof f!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof f}, New type: ${typeof c}. Overwriting.`),a[d]=c)}return a}const r=o(t,e);n.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OE="mcp_used/unknown";let WE=!1;function wp(n){for(const e of n)if(KE(e)||typeof e=="object"&&"inputSchema"in e)return!0;return WE}function Ap(n){var e;const t=(e=n[Kl])!==null&&e!==void 0?e:"";n[Kl]=(t+` ${OE}`).trimStart()}function KE(n){return n!==null&&typeof n=="object"&&n instanceof Xs}function YE(n,e=100){return Lt(this,arguments,function*(){let o,r=0;for(;r<e;){const i=yield Y(n.listTools({cursor:o}));for(const s of i.tools)yield yield Y(s),r++;if(!i.nextCursor)break;o=i.nextCursor}})}class Xs{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new Xs(e,t)}async initialize(){var e,t,o,r;if(this.mcpTools.length>0)return;const i={},s=[];for(const f of this.mcpClients)try{for(var a=!0,d=(t=void 0,So(YE(f))),c;c=await d.next(),e=c.done,!e;a=!0){r=c.value,a=!1;const p=r;s.push(p);const m=p.name;if(i[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);i[m]=f}}catch(p){t={error:p}}finally{try{!a&&!e&&(o=d.return)&&await o.call(d)}finally{if(t)throw t.error}}this.mcpTools=s,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),jg(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const s=await r.callTool({name:o.name,arguments:o.args},void 0,i);t.push({functionResponse:{name:o.name,response:s.isError?{error:s}:s}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function QE(n,e,t){const o=new Og;let r;t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data),Object.assign(o,r),e(o)}class XE{constructor(e,t,o){this.apiClient=e,this.auth=t,this.webSocketFactory=o}async connect(e){var t,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),s=jE(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),d=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${a}`;let c=()=>{};const f=new Promise(y=>{c=y}),p=e.callbacks,m=function(){c({})},g=this.apiClient,T={onopen:m,onmessage:y=>{QE(g,p.onmessage,y)},onerror:(t=p==null?void 0:p.onerror)!==null&&t!==void 0?t:function(y){},onclose:(o=p==null?void 0:p.onclose)!==null&&o!==void 0?o:function(y){}},E=this.webSocketFactory.create(d,bE(s),T);E.connect(),await f;const h={setup:{model:$(this.apiClient,e.model)}};return E.send(JSON.stringify(h)),new ZE(E,this.apiClient)}}class ZE{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=zv(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=Bv(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(At.PLAY)}pause(){this.sendPlaybackControl(At.PAUSE)}stop(){this.sendPlaybackControl(At.STOP)}resetContext(){this.sendPlaybackControl(At.RESET_CONTEXT)}close(){this.conn.close()}}function bE(n){const e={};return n.forEach((t,o)=>{e[o]=t}),e}function jE(n){const e=new Headers;for(const[t,o]of Object.entries(n))e.append(t,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eS="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function nS(n,e,t){const o=new $g;let r;t.data instanceof Blob?r=await t.data.text():t.data instanceof ArrayBuffer?r=new TextDecoder().decode(t.data):r=t.data;const i=JSON.parse(r);if(n.isVertexAI()){const s=Ov(i);Object.assign(o,s)}else Object.assign(o,i);e(o)}class tS{constructor(e,t,o){this.apiClient=e,this.auth=t,this.webSocketFactory=o,this.music=new XE(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,o,r,i,s,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let f;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&wp(e.config.tools)&&Ap(p);const m=lS(p);if(this.apiClient.isVertexAI())f=`${d}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m,f);else{const D=this.apiClient.getApiKey();let k="BidiGenerateContent",B="key";D!=null&&D.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),k="BidiGenerateContentConstrained",B="access_token"),f=`${d}/ws/google.ai.generativelanguage.${c}.GenerativeService.${k}?${B}=${D}`}let g=()=>{};const T=new Promise(D=>{g=D}),E=e.callbacks,P=function(){var D;(D=E==null?void 0:E.onopen)===null||D===void 0||D.call(E),g({})},v=this.apiClient,h={onopen:P,onmessage:D=>{nS(v,E.onmessage,D)},onerror:(t=E==null?void 0:E.onerror)!==null&&t!==void 0?t:function(D){},onclose:(o=E==null?void 0:E.onclose)!==null&&o!==void 0?o:function(D){}},y=this.webSocketFactory.create(f,iS(m),h);y.connect(),await T;let S=$(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&S.startsWith("publishers/")){const D=this.apiClient.getProject(),k=this.apiClient.getLocation();S=`projects/${D}/locations/${k}/`+S}let C={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Jt.AUDIO]}:e.config.responseModalities=[Jt.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const I=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],w=[];for(const D of I)if(this.isCallableTool(D)){const k=D;w.push(await k.tool())}else w.push(D);w.length>0&&(e.config.tools=w);const N={model:S,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?C=Hv(this.apiClient,N):C=qv(this.apiClient,N),delete C.config,y.send(JSON.stringify(C)),new rS(y,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const oS={turnComplete:!0};class rS{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let o=[];try{o=Oe(t.turns),e.isVertexAI()||(o=o.map(r=>pi(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:o,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let o=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?o=t.functionResponses:o=[t.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(eS)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},oS),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:$v(e)}:t={realtimeInput:Jv(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function iS(n){const e={};return n.forEach((t,o)=>{e[o]=t}),e}function lS(n){const e=new Headers;for(const[t,o]of Object.entries(n))e.append(t,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cd=10;function Id(n){var e,t,o;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const s of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(Ut(s)){r=!0;break}if(!r)return!0;const i=(o=n==null?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function Ut(n){return"callTool"in n&&typeof n.callTool=="function"}function sS(n){var e,t,o;return(o=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>Ut(r)))!==null&&o!==void 0?o:!1}function wd(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((o,r)=>{if(Ut(o))return;const i=o;i.functionDeclarations&&i.functionDeclarations.length>0&&t.push(r)}),t}function Ad(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uS extends In{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var o,r,i,s,a;const d=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!sS(t)||Id(t.config))return await this.generateContentInternal(d);const c=wd(t);if(c.length>0){const E=c.map(P=>`tools[${P}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let f,p;const m=Oe(d.contents),g=(i=(r=(o=d.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Cd;let T=0;for(;T<g&&(f=await this.generateContentInternal(d),!(!f.functionCalls||f.functionCalls.length===0));){const E=f.candidates[0].content,P=[];for(const v of(a=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(Ut(v)){const y=await v.callTool(f.functionCalls);P.push(...y)}T++,p={role:"user",parts:P},d.contents=Oe(d.contents),d.contents.push(E),d.contents.push(p),Ad(d.config)&&(m.push(E),m.push(p))}return Ad(d.config)&&(f.automaticFunctionCallingHistory=m),f},this.generateContentStream=async t=>{if(this.maybeMoveToResponseJsonSchem(t),Id(t.config)){const r=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(r)}const o=wd(t);if(o.length>0){const r=o.map(i=>`tools[${i}]`).join(", ");throw new Error(`Incompatible tools found at ${r}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(o=>{var r;let i;const s=[];if(o!=null&&o.generatedImages)for(const d of o.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((r=d==null?void 0:d.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?i=d==null?void 0:d.safetyAttributes:s.push(d);let a;return i?a={generatedImages:s,positivePromptSafetyAttributes:i,sdkHttpResponse:o.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:o.sdkHttpResponse},a}),this.list=async t=>{var o;const s={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((o=s.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new ct(_n.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async t=>{const o={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(o.referenceImages=t.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async t=>{let o={numberOfImages:1,mode:"upscale"};t.config&&(o=Object.assign(Object.assign({},o),t.config));const r={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async t=>{var o,r,i,s,a,d;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=t.video)===null||o===void 0)&&o.uri&&(!((r=t.video)===null||r===void 0)&&r.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((s=(i=t.source)===null||i===void 0?void 0:i.video)===null||s===void 0)&&s.uri&&(!((d=(a=t.source)===null||a===void 0?void 0:a.video)===null||d===void 0)&&d.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,o,r;const i=(t=e.config)===null||t===void 0?void 0:t.tools;if(!i)return e;const s=await Promise.all(i.map(async d=>Ut(d)?await d.tool():d)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&wp(e.config.tools)){const d=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let c=Object.assign({},d);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),Ap(c),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return a}async initAfcToolsMap(e){var t,o,r;const i=new Map;for(const s of(o=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&o!==void 0?o:[])if(Ut(s)){const a=s,d=await a.tool();for(const c of(r=d.functionDeclarations)!==null&&r!==void 0?r:[]){if(!c.name)throw new Error("Function declaration name is required.");if(i.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);i.set(c.name,a)}}return i}async processAfcStream(e){var t,o,r;const i=(r=(o=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:Cd;let s=!1,a=0;const d=await this.initAfcToolsMap(e);return function(c,f,p){var m,g;return Lt(this,arguments,function*(){for(var T,E,P,v;a<i;){s&&(a++,s=!1);const C=yield Y(c.processParamsMaybeAddMcpUsage(p)),I=yield Y(c.generateContentStreamInternal(C)),w=[],N=[];try{for(var h=!0,y=(E=void 0,So(I)),S;S=yield Y(y.next()),T=S.done,!T;h=!0){v=S.value,h=!1;const D=v;if(yield yield Y(D),D.candidates&&(!((m=D.candidates[0])===null||m===void 0)&&m.content)){N.push(D.candidates[0].content);for(const k of(g=D.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(a<i&&k.functionCall){if(!k.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(k.functionCall.name)){const B=yield Y(f.get(k.functionCall.name).callTool([k.functionCall]));w.push(...B)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${k.functionCall.name}`)}}}}catch(D){E={error:D}}finally{try{!h&&!T&&(P=y.return)&&(yield Y(P.call(y)))}finally{if(E)throw E.error}}if(w.length>0){s=!0;const D=new lo;D.candidates=[{content:{role:"user",parts:w}}],yield yield Y(D);const k=[];k.push(...N),k.push({role:"user",parts:w});const B=Oe(p.contents).concat(k);p.contents=B}else break}})}(this,d,e)}async generateContentInternal(e){var t,o,r,i;let s,a="",d={};if(this.apiClient.isVertexAI()){const c=vd(this.apiClient,e);return a=x("{model}:generateContent",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{const p=Ed(f),m=new lo;return Object.assign(m,p),m})}else{const c=yd(this.apiClient,e);return a=x("{model}:generateContent",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{const p=Td(f),m=new lo;return Object.assign(m,p),m})}}async generateContentStreamInternal(e){var t,o,r,i;let s,a="",d={};if(this.apiClient.isVertexAI()){const c=vd(this.apiClient,e);return a=x("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.requestStream({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(p){return Lt(this,arguments,function*(){var m,g,T,E;try{for(var P=!0,v=So(p),h;h=yield Y(v.next()),m=h.done,!m;P=!0){E=h.value,P=!1;const y=E,S=Ed(yield Y(y.json()));S.sdkHttpResponse={headers:y.headers};const C=new lo;Object.assign(C,S),yield yield Y(C)}}catch(y){g={error:y}}finally{try{!P&&!m&&(T=v.return)&&(yield Y(T.call(v)))}finally{if(g)throw g.error}}})})}else{const c=yd(this.apiClient,e);return a=x("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.requestStream({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(p){return Lt(this,arguments,function*(){var m,g,T,E;try{for(var P=!0,v=So(p),h;h=yield Y(v.next()),m=h.done,!m;P=!0){E=h.value,P=!1;const y=E,S=Td(yield Y(y.json()));S.sdkHttpResponse={headers:y.headers};const C=new lo;Object.assign(C,S),yield yield Y(C)}}catch(y){g={error:y}}finally{try{!P&&!m&&(T=v.return)&&(yield Y(T.call(v)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var t,o,r,i;let s,a="",d={};if(this.apiClient.isVertexAI()){const c=ST(this.apiClient,e);return a=x("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{const p=CT(f),m=new nd;return Object.assign(m,p),m})}else{const c=ET(this.apiClient,e);return a=x("{model}:batchEmbedContents",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{const p=_T(f),m=new nd;return Object.assign(m,p),m})}}async generateImagesInternal(e){var t,o,r,i;let s,a="",d={};if(this.apiClient.isVertexAI()){const c=kT(this.apiClient,e);return a=x("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{const p=LT(f),m=new td;return Object.assign(m,p),m})}else{const c=MT(this.apiClient,e);return a=x("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{const p=DT(f),m=new td;return Object.assign(m,p),m})}}async editImageInternal(e){var t,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const a=gT(this.apiClient,e);return i=x("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=yT(d),f=new Dg;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const a=NE(this.apiClient,e);return i=x("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=xE(d),f=new Lg;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const a=cE(this.apiClient,e);return i=x("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=fE(d),f=new Ug;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const a=vE(this.apiClient,e);return i=x("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=TE(d),f=new Fg;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,o,r,i;let s,a="",d={};if(this.apiClient.isVertexAI()){const c=ZT(this.apiClient,e);return a=x("{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Wl(f))}else{const c=XT(this.apiClient,e);return a=x("{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Ol(f))}}async listInternal(e){var t,o,r,i;let s,a="",d={};if(this.apiClient.isVertexAI()){const c=rE(this.apiClient,e);return a=x("{models_url}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{const p=lE(f),m=new od;return Object.assign(m,p),m})}else{const c=oE(this.apiClient,e);return a=x("{models_url}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{const p=iE(f),m=new od;return Object.assign(m,p),m})}}async update(e){var t,o,r,i;let s,a="",d={};if(this.apiClient.isVertexAI()){const c=PE(this.apiClient,e);return a=x("{model}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Wl(f))}else{const c=AE(this.apiClient,e);return a=x("{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Ol(f))}}async delete(e){var t,o,r,i;let s,a="",d={};if(this.apiClient.isVertexAI()){const c=fT(this.apiClient,e);return a=x("{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{const p=mT(f),m=new rd;return Object.assign(m,p),m})}else{const c=cT(this.apiClient,e);return a=x("{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{const p=pT(f),m=new rd;return Object.assign(m,p),m})}}async countTokens(e){var t,o,r,i;let s,a="",d={};if(this.apiClient.isVertexAI()){const c=uT(this.apiClient,e);return a=x("{model}:countTokens",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{const p=dT(f),m=new id;return Object.assign(m,p),m})}else{const c=sT(this.apiClient,e);return a=x("{model}:countTokens",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{const p=aT(f),m=new id;return Object.assign(m,p),m})}}async computeTokens(e){var t,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const a=eT(this.apiClient,e);return i=x("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=nT(d),f=new Vg;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,o,r,i;let s,a="",d={};if(this.apiClient.isVertexAI()){const c=HT(this.apiClient,e);return a=x("{model}:predictLongRunning",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{const p=GT(f),m=new Kr;return Object.assign(m,p),m})}else{const c=qT(this.apiClient,e);return a=x("{model}:predictLongRunning",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const p=VT(f),m=new Kr;return Object.assign(m,p),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aS extends In{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,o=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:i}});return t._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:o});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const t=e.operation,o=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:i}});return t._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:o});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,o,r,i;let s,a="",d={};if(this.apiClient.isVertexAI()){const c=Pg(e);return a=x("{operationName}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s}else{const c=Ag(e);return a=x("{operationName}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s}}async fetchPredictVideosOperationInternal(e){var t,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const a=Tg(e);return i=x("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dS(n){const e={},t=l(n,["data"]);if(t!=null&&u(e,["data"],t),l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function cS(n){const e={},t=l(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>TS(i))),u(e,["parts"],r)}const o=l(n,["role"]);return o!=null&&u(e,["role"],o),e}function fS(n,e,t){const o={},r=l(e,["expireTime"]);t!==void 0&&r!=null&&u(t,["expireTime"],r);const i=l(e,["newSessionExpireTime"]);t!==void 0&&i!=null&&u(t,["newSessionExpireTime"],i);const s=l(e,["uses"]);t!==void 0&&s!=null&&u(t,["uses"],s);const a=l(e,["liveConnectConstraints"]);t!==void 0&&a!=null&&u(t,["bidiGenerateContentSetup"],vS(n,a));const d=l(e,["lockAdditionalFields"]);return t!==void 0&&d!=null&&u(t,["fieldMask"],d),o}function pS(n,e){const t={},o=l(e,["config"]);return o!=null&&u(t,["config"],fS(n,o,t)),t}function mS(n){const e={};if(l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=l(n,["fileUri"]);t!=null&&u(e,["fileUri"],t);const o=l(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function hS(n){const e={};if(l(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=l(n,["enableWidget"]);return t!=null&&u(e,["enableWidget"],t),e}function gS(n){const e={};if(l(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=l(n,["timeRangeFilter"]);return t!=null&&u(e,["timeRangeFilter"],t),e}function yS(n,e){const t={},o=l(n,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const r=l(n,["responseModalities"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","responseModalities"],r);const i=l(n,["temperature"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig","temperature"],i);const s=l(n,["topP"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","topP"],s);const a=l(n,["topK"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","topK"],a);const d=l(n,["maxOutputTokens"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","maxOutputTokens"],d);const c=l(n,["mediaResolution"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","mediaResolution"],c);const f=l(n,["seed"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","seed"],f);const p=l(n,["speechConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","speechConfig"],Qs(p));const m=l(n,["thinkingConfig"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","thinkingConfig"],m);const g=l(n,["enableAffectiveDialog"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],g);const T=l(n,["systemInstruction"]);e!==void 0&&T!=null&&u(e,["setup","systemInstruction"],cS(ye(T)));const E=l(n,["tools"]);if(e!==void 0&&E!=null){let I=Yt(E);Array.isArray(I)&&(I=I.map(w=>SS(Kt(w)))),u(e,["setup","tools"],I)}const P=l(n,["sessionResumption"]);e!==void 0&&P!=null&&u(e,["setup","sessionResumption"],ES(P));const v=l(n,["inputAudioTranscription"]);e!==void 0&&v!=null&&u(e,["setup","inputAudioTranscription"],v);const h=l(n,["outputAudioTranscription"]);e!==void 0&&h!=null&&u(e,["setup","outputAudioTranscription"],h);const y=l(n,["realtimeInputConfig"]);e!==void 0&&y!=null&&u(e,["setup","realtimeInputConfig"],y);const S=l(n,["contextWindowCompression"]);e!==void 0&&S!=null&&u(e,["setup","contextWindowCompression"],S);const C=l(n,["proactivity"]);return e!==void 0&&C!=null&&u(e,["setup","proactivity"],C),t}function vS(n,e){const t={},o=l(e,["model"]);o!=null&&u(t,["setup","model"],$(n,o));const r=l(e,["config"]);return r!=null&&u(t,["config"],yS(r,t)),t}function TS(n){const e={},t=l(n,["functionCall"]);t!=null&&u(e,["functionCall"],t);const o=l(n,["codeExecutionResult"]);o!=null&&u(e,["codeExecutionResult"],o);const r=l(n,["executableCode"]);r!=null&&u(e,["executableCode"],r);const i=l(n,["fileData"]);i!=null&&u(e,["fileData"],mS(i));const s=l(n,["functionResponse"]);s!=null&&u(e,["functionResponse"],s);const a=l(n,["inlineData"]);a!=null&&u(e,["inlineData"],dS(a));const d=l(n,["text"]);d!=null&&u(e,["text"],d);const c=l(n,["thought"]);c!=null&&u(e,["thought"],c);const f=l(n,["thoughtSignature"]);f!=null&&u(e,["thoughtSignature"],f);const p=l(n,["videoMetadata"]);return p!=null&&u(e,["videoMetadata"],p),e}function ES(n){const e={},t=l(n,["handle"]);if(t!=null&&u(e,["handle"],t),l(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function SS(n){const e={},t=l(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(p=>p)),u(e,["functionDeclarations"],f)}if(l(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(n,["googleSearchRetrieval"]);o!=null&&u(e,["googleSearchRetrieval"],o);const r=l(n,["computerUse"]);r!=null&&u(e,["computerUse"],r);const i=l(n,["fileSearch"]);i!=null&&u(e,["fileSearch"],i);const s=l(n,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),l(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=l(n,["googleMaps"]);a!=null&&u(e,["googleMaps"],hS(a));const d=l(n,["googleSearch"]);d!=null&&u(e,["googleSearch"],gS(d));const c=l(n,["urlContext"]);return c!=null&&u(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _S(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const o=n[t];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(i=>`${t}.${i}`);e.push(...r)}else e.push(t)}return e.join(",")}function CS(n,e){let t=null;const o=n.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const i=o.setup;typeof i=="object"&&i!==null?(n.bidiGenerateContentSetup=i,t=i):delete n.bidiGenerateContentSetup}else o!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(t){const i=_S(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)i?n.fieldMask=i:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];r.length>0&&(a=r.map(c=>s.includes(c)?`generationConfig.${c}`:c));const d=[];i&&d.push(i),a.length>0&&d.push(...a),d.length>0?n.fieldMask=d.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class IS extends In{constructor(e){super(),this.apiClient=e}async create(e){var t,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=pS(this.apiClient,e);i=x("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const d=CS(a,e.config);return r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wS(n,e){const t={},o=l(n,["displayName"]);return e!==void 0&&o!=null&&u(e,["displayName"],o),t}function AS(n){const e={},t=l(n,["config"]);return t!=null&&wS(t,e),e}function PS(n,e){const t={},o=l(n,["force"]);return e!==void 0&&o!=null&&u(e,["_query","force"],o),t}function RS(n){const e={},t=l(n,["name"]);t!=null&&u(e,["_url","name"],t);const o=l(n,["config"]);return o!=null&&PS(o,e),e}function NS(n){const e={},t=l(n,["name"]);return t!=null&&u(e,["_url","name"],t),e}function xS(n,e){const t={},o=l(n,["customMetadata"]);if(e!==void 0&&o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["customMetadata"],i)}const r=l(n,["chunkingConfig"]);return e!==void 0&&r!=null&&u(e,["chunkingConfig"],r),t}function MS(n){const e={},t=l(n,["name"]);t!=null&&u(e,["name"],t);const o=l(n,["metadata"]);o!=null&&u(e,["metadata"],o);const r=l(n,["done"]);r!=null&&u(e,["done"],r);const i=l(n,["error"]);i!=null&&u(e,["error"],i);const s=l(n,["response"]);return s!=null&&u(e,["response"],DS(s)),e}function kS(n){const e={},t=l(n,["fileSearchStoreName"]);t!=null&&u(e,["_url","file_search_store_name"],t);const o=l(n,["fileName"]);o!=null&&u(e,["fileName"],o);const r=l(n,["config"]);return r!=null&&xS(r,e),e}function DS(n){const e={},t=l(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=l(n,["parent"]);o!=null&&u(e,["parent"],o);const r=l(n,["documentName"]);return r!=null&&u(e,["documentName"],r),e}function LS(n,e){const t={},o=l(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=l(n,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),t}function US(n){const e={},t=l(n,["config"]);return t!=null&&LS(t,e),e}function FS(n){const e={},t=l(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=l(n,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const r=l(n,["fileSearchStores"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["fileSearchStores"],i)}return e}function VS(n,e){const t={},o=l(n,["mimeType"]);e!==void 0&&o!=null&&u(e,["mimeType"],o);const r=l(n,["displayName"]);e!==void 0&&r!=null&&u(e,["displayName"],r);const i=l(n,["customMetadata"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(d=>d)),u(e,["customMetadata"],a)}const s=l(n,["chunkingConfig"]);return e!==void 0&&s!=null&&u(e,["chunkingConfig"],s),t}function GS(n){const e={},t=l(n,["fileSearchStoreName"]);t!=null&&u(e,["_url","file_search_store_name"],t);const o=l(n,["config"]);return o!=null&&VS(o,e),e}function qS(n){const e={},t=l(n,["sdkHttpResponse"]);return t!=null&&u(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HS(n,e){const t={},o=l(n,["force"]);return e!==void 0&&o!=null&&u(e,["_query","force"],o),t}function BS(n){const e={},t=l(n,["name"]);t!=null&&u(e,["_url","name"],t);const o=l(n,["config"]);return o!=null&&HS(o,e),e}function zS(n){const e={},t=l(n,["name"]);return t!=null&&u(e,["_url","name"],t),e}function JS(n,e){const t={},o=l(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=l(n,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),t}function $S(n){const e={},t=l(n,["parent"]);t!=null&&u(e,["_url","parent"],t);const o=l(n,["config"]);return o!=null&&JS(o,e),e}function OS(n){const e={},t=l(n,["sdkHttpResponse"]);t!=null&&u(e,["sdkHttpResponse"],t);const o=l(n,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const r=l(n,["documents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["documents"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WS extends In{constructor(e){super(),this.apiClient=e,this.list=async t=>new ct(_n.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:t.parent,config:o.config}),await this.listInternal(t),t)}async get(e){var t,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=zS(e);return i=x("{name}",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async delete(e){var t,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=BS(e);r=x("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var t,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=$S(e);return i=x("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=OS(d),f=new Gg;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KS extends In{constructor(e,t=new WS(e)){super(),this.apiClient=e,this.documents=t,this.list=async(o={})=>new ct(_n.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=AS(e);return i=x("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async get(e){var t,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=NS(e);return i=x("{name}",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async delete(e){var t,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=RS(e);r=x("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var t,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=US(e);return i=x("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=FS(d),f=new qg;return Object.assign(f,c),f})}}async uploadToFileSearchStoreInternal(e){var t,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=GS(e);return i=x("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=qS(d),f=new Hg;return Object.assign(f,c),f})}}async importFile(e){var t,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=kS(e);return i=x("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=MS(d),f=new $s;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YS(n,e){const t={},o=l(n,["name"]);return o!=null&&u(t,["_url","name"],o),t}function QS(n,e){const t={},o=l(n,["name"]);return o!=null&&u(t,["_url","name"],o),t}function XS(n,e,t){const o={};if(l(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=l(n,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&u(e,["displayName"],r),l(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=l(n,["epochCount"]);e!==void 0&&i!=null&&u(e,["tuningTask","hyperparameters","epochCount"],i);const s=l(n,["learningRateMultiplier"]);if(s!=null&&u(o,["tuningTask","hyperparameters","learningRateMultiplier"],s),l(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(l(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=l(n,["batchSize"]);e!==void 0&&a!=null&&u(e,["tuningTask","hyperparameters","batchSize"],a);const d=l(n,["learningRate"]);if(e!==void 0&&d!=null&&u(e,["tuningTask","hyperparameters","learningRate"],d),l(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(l(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function ZS(n,e,t){const o={};let r=l(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const g=l(n,["validationDataset"]);e!==void 0&&g!=null&&u(e,["supervisedTuningSpec"],Pd(g))}else if(r==="PREFERENCE_TUNING"){const g=l(n,["validationDataset"]);e!==void 0&&g!=null&&u(e,["preferenceOptimizationSpec"],Pd(g))}const i=l(n,["tunedModelDisplayName"]);e!==void 0&&i!=null&&u(e,["tunedModelDisplayName"],i);const s=l(n,["description"]);e!==void 0&&s!=null&&u(e,["description"],s);let a=l(t,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const g=l(n,["epochCount"]);e!==void 0&&g!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(a==="PREFERENCE_TUNING"){const g=l(n,["epochCount"]);e!==void 0&&g!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let d=l(t,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const g=l(n,["learningRateMultiplier"]);e!==void 0&&g!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(d==="PREFERENCE_TUNING"){const g=l(n,["learningRateMultiplier"]);e!==void 0&&g!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let c=l(t,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=l(n,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(c==="PREFERENCE_TUNING"){const g=l(n,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&u(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let f=l(t,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const g=l(n,["adapterSize"]);e!==void 0&&g!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(f==="PREFERENCE_TUNING"){const g=l(n,["adapterSize"]);e!==void 0&&g!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(l(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=l(n,["labels"]);e!==void 0&&p!=null&&u(e,["labels"],p);const m=l(n,["beta"]);return e!==void 0&&m!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","beta"],m),o}function bS(n,e){const t={},o=l(n,["baseModel"]);o!=null&&u(t,["baseModel"],o);const r=l(n,["preTunedModel"]);r!=null&&u(t,["preTunedModel"],r);const i=l(n,["trainingDataset"]);i!=null&&a0(i);const s=l(n,["config"]);return s!=null&&XS(s,t),t}function jS(n,e){const t={},o=l(n,["baseModel"]);o!=null&&u(t,["baseModel"],o);const r=l(n,["preTunedModel"]);r!=null&&u(t,["preTunedModel"],r);const i=l(n,["trainingDataset"]);i!=null&&d0(i,t,e);const s=l(n,["config"]);return s!=null&&ZS(s,t,e),t}function e0(n,e){const t={},o=l(n,["name"]);return o!=null&&u(t,["_url","name"],o),t}function n0(n,e){const t={},o=l(n,["name"]);return o!=null&&u(t,["_url","name"],o),t}function t0(n,e,t){const o={},r=l(n,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);const i=l(n,["pageToken"]);e!==void 0&&i!=null&&u(e,["_query","pageToken"],i);const s=l(n,["filter"]);return e!==void 0&&s!=null&&u(e,["_query","filter"],s),o}function o0(n,e,t){const o={},r=l(n,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);const i=l(n,["pageToken"]);e!==void 0&&i!=null&&u(e,["_query","pageToken"],i);const s=l(n,["filter"]);return e!==void 0&&s!=null&&u(e,["_query","filter"],s),o}function r0(n,e){const t={},o=l(n,["config"]);return o!=null&&t0(o,t),t}function i0(n,e){const t={},o=l(n,["config"]);return o!=null&&o0(o,t),t}function l0(n,e){const t={},o=l(n,["sdkHttpResponse"]);o!=null&&u(t,["sdkHttpResponse"],o);const r=l(n,["nextPageToken"]);r!=null&&u(t,["nextPageToken"],r);const i=l(n,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Pp(a))),u(t,["tuningJobs"],s)}return t}function s0(n,e){const t={},o=l(n,["sdkHttpResponse"]);o!=null&&u(t,["sdkHttpResponse"],o);const r=l(n,["nextPageToken"]);r!=null&&u(t,["nextPageToken"],r);const i=l(n,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Yl(a))),u(t,["tuningJobs"],s)}return t}function u0(n,e){const t={},o=l(n,["name"]);o!=null&&u(t,["model"],o);const r=l(n,["name"]);return r!=null&&u(t,["endpoint"],r),t}function a0(n,e){const t={};if(l(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=l(n,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),u(t,["examples","examples"],r)}return t}function d0(n,e,t){const o={};let r=l(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const s=l(n,["gcsUri"]);e!==void 0&&s!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(r==="PREFERENCE_TUNING"){const s=l(n,["gcsUri"]);e!==void 0&&s!=null&&u(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let i=l(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=l(n,["vertexDatasetResource"]);e!==void 0&&s!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=l(n,["vertexDatasetResource"]);e!==void 0&&s!=null&&u(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(l(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Pp(n,e){const t={},o=l(n,["sdkHttpResponse"]);o!=null&&u(t,["sdkHttpResponse"],o);const r=l(n,["name"]);r!=null&&u(t,["name"],r);const i=l(n,["state"]);i!=null&&u(t,["state"],up(i));const s=l(n,["createTime"]);s!=null&&u(t,["createTime"],s);const a=l(n,["tuningTask","startTime"]);a!=null&&u(t,["startTime"],a);const d=l(n,["tuningTask","completeTime"]);d!=null&&u(t,["endTime"],d);const c=l(n,["updateTime"]);c!=null&&u(t,["updateTime"],c);const f=l(n,["description"]);f!=null&&u(t,["description"],f);const p=l(n,["baseModel"]);p!=null&&u(t,["baseModel"],p);const m=l(n,["_self"]);return m!=null&&u(t,["tunedModel"],u0(m)),t}function Yl(n,e){const t={},o=l(n,["sdkHttpResponse"]);o!=null&&u(t,["sdkHttpResponse"],o);const r=l(n,["name"]);r!=null&&u(t,["name"],r);const i=l(n,["state"]);i!=null&&u(t,["state"],up(i));const s=l(n,["createTime"]);s!=null&&u(t,["createTime"],s);const a=l(n,["startTime"]);a!=null&&u(t,["startTime"],a);const d=l(n,["endTime"]);d!=null&&u(t,["endTime"],d);const c=l(n,["updateTime"]);c!=null&&u(t,["updateTime"],c);const f=l(n,["error"]);f!=null&&u(t,["error"],f);const p=l(n,["description"]);p!=null&&u(t,["description"],p);const m=l(n,["baseModel"]);m!=null&&u(t,["baseModel"],m);const g=l(n,["tunedModel"]);g!=null&&u(t,["tunedModel"],g);const T=l(n,["preTunedModel"]);T!=null&&u(t,["preTunedModel"],T);const E=l(n,["supervisedTuningSpec"]);E!=null&&u(t,["supervisedTuningSpec"],E);const P=l(n,["preferenceOptimizationSpec"]);P!=null&&u(t,["preferenceOptimizationSpec"],P);const v=l(n,["tuningDataStats"]);v!=null&&u(t,["tuningDataStats"],v);const h=l(n,["encryptionSpec"]);h!=null&&u(t,["encryptionSpec"],h);const y=l(n,["partnerModelTuningSpec"]);y!=null&&u(t,["partnerModelTuningSpec"],y);const S=l(n,["customBaseModel"]);S!=null&&u(t,["customBaseModel"],S);const C=l(n,["experiment"]);C!=null&&u(t,["experiment"],C);const I=l(n,["labels"]);I!=null&&u(t,["labels"],I);const w=l(n,["outputUri"]);w!=null&&u(t,["outputUri"],w);const N=l(n,["pipelineJob"]);N!=null&&u(t,["pipelineJob"],N);const D=l(n,["serviceAccount"]);D!=null&&u(t,["serviceAccount"],D);const k=l(n,["tunedModelDisplayName"]);k!=null&&u(t,["tunedModelDisplayName"],k);const B=l(n,["veoTuningSpec"]);return B!=null&&u(t,["veoTuningSpec"],B),t}function c0(n,e){const t={},o=l(n,["sdkHttpResponse"]);o!=null&&u(t,["sdkHttpResponse"],o);const r=l(n,["name"]);r!=null&&u(t,["name"],r);const i=l(n,["metadata"]);i!=null&&u(t,["metadata"],i);const s=l(n,["done"]);s!=null&&u(t,["done"],s);const a=l(n,["error"]);return a!=null&&u(t,["error"],a),t}function Pd(n,e){const t={},o=l(n,["gcsUri"]);o!=null&&u(t,["validationDatasetUri"],o);const r=l(n,["vertexDatasetResource"]);return r!=null&&u(t,["validationDatasetUri"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class f0 extends In{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new ct(_n.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(t),t),this.tune=async t=>{var o;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const r={tunedModelName:t.baseModel};!((o=t.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=t.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},t),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},t);return await this.tuneInternal(r)}else{const r=Object.assign({},t),i=await this.tuneMldevInternal(r);let s="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?s=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(s=i.name.split("/operations/")[0]),{name:s,state:Bl.JOB_STATE_QUEUED}}}}async getInternal(e){var t,o,r,i;let s,a="",d={};if(this.apiClient.isVertexAI()){const c=n0(e);return a=x("{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>Yl(f))}else{const c=e0(e);return a=x("{name}",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>Pp(f))}}async listInternal(e){var t,o,r,i;let s,a="",d={};if(this.apiClient.isVertexAI()){const c=i0(e);return a=x("tuningJobs",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{const p=s0(f),m=new ld;return Object.assign(m,p),m})}else{const c=r0(e);return a=x("tunedModels",c._url),d=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{const p=l0(f),m=new ld;return Object.assign(m,p),m})}}async cancel(e){var t,o,r,i;let s="",a={};if(this.apiClient.isVertexAI()){const d=QS(e);s=x("{name}:cancel",d._url),a=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const d=YS(e);s=x("{name}:cancel",d._url),a=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async tuneInternal(e){var t,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const a=jS(e,e);return i=x("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>Yl(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=bS(e);return i=x("tunedModels",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>c0(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class p0{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const m0=1024*1024*8,h0=3,g0=1e3,y0=2,Qr="x-goog-upload-status";async function v0(n,e,t){var o;const r=await Rp(n,e,t),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[Qr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function T0(n,e,t){var o;const r=await Rp(n,e,t),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[Qr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=tp(i),a=new Os;return Object.assign(a,s),a}async function Rp(n,e,t){var o,r;let i=0,s=0,a=new zl(new Response),d="upload";for(i=n.size;s<i;){const c=Math.min(m0,i-s),f=n.slice(s,s+c);s+c>=i&&(d+=", finalize");let p=0,m=g0;for(;p<h0&&(a=await t.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(s),"Content-Length":String(c)}}}),!(!((o=a==null?void 0:a.headers)===null||o===void 0)&&o[Qr]));)p++,await S0(m),m=m*y0;if(s+=c,((r=a==null?void 0:a.headers)===null||r===void 0?void 0:r[Qr])!=="active")break;if(i<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function E0(n){return{size:n.size,type:n.type}}function S0(n){return new Promise(e=>setTimeout(e,n))}class _0{async upload(e,t,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await v0(e,t,o)}async uploadToFileSearchStore(e,t,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await T0(e,t,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await E0(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class C0{create(e,t,o){return new I0(e,t,o)}}class I0{constructor(e,t,o){this.url=e,this.headers=t,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rd="x-goog-api-key";class w0{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(Rd)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Rd,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A0="gl-node/";class $i{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const o=yg(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const r=new w0(this.apiKey);this.apiClient=new JE({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:A0+"web",uploader:new _0,downloader:new p0}),this.models=new uS(this.apiClient),this.live=new tS(this.apiClient,r,new C0),this.batches=new zy(this.apiClient),this.chats=new Ev(this.models,this.apiClient),this.caches=new yv(this.apiClient),this.files=new xv(this.apiClient),this.operations=new aS(this.apiClient),this.authTokens=new IS(this.apiClient),this.tunings=new f0(this.apiClient),this.fileSearchStores=new KS(this.apiClient)}}const Nd=[{label:"Natural Light",value:"soft, natural window light"},{label:"Sunny Day",value:"bright, direct outdoor sunlight"},{label:"Golden Hour",value:"warm, golden hour glow"},{label:"Overcast",value:"diffused, even light from a cloudy sky"},{label:"Cozy Indoors",value:"warm, ambient indoor lamplight"},{label:"Ring Light",value:"direct, flattering ring light, vlogger style"},{label:"Mood Lighting",value:"dim, moody, ambient lighting"},{label:"Flash Photo",value:"direct on-camera flash, creating a candid, party-like feel"}],xd=[{label:"Living Room",value:"a cozy, lived-in living room"},{label:"Kitchen",value:"a bright, modern kitchen"},{label:"Bedroom",value:"a stylish, tidy bedroom"},{label:"Bathroom",value:"a clean, minimalist bathroom counter"},{label:"Home Office",value:"a personalized home office desk"},{label:"Caf",value:"a trendy, bustling caf"},{label:"Outdoors",value:"a natural, outdoor park or garden setting"},{label:"In the Car",value:"the interior of a car, casual and on-the-go"}],Md=[{label:"Matte Plastic",value:"matte plastic"},{label:"Glossy Plastic",value:"glossy plastic"},{label:"Glass & Liquid",value:"transparent glass, may contain liquid"},{label:"Metal",value:"reflective metal"},{label:"Paper & Cardboard",value:"textured paper or cardboard"}],kd=[{label:"Clean",value:"clean, tidy, and organized"},{label:"Natural",value:"natural and realistically lived-in"},{label:"Casual",value:"casually messy, spontaneous and authentic"}],Dd=[{label:"18-25",value:"18-25"},{label:"26-35",value:"26-35"},{label:"36-45",value:"36-45"},{label:"46-60",value:"46-60"},{label:"60+",value:"60+"},{label:"No Person",value:"no person"}],Ld=[{label:"Regular",value:"a regular, everyday appearance"},{label:"Well-Groomed",value:"a well-groomed, put-together appearance"},{label:"Styled",value:"a trendy, styled, influencer-like appearance"}],Ud=[{label:"Holding",value:"holding it naturally"},{label:"Using",value:"using it"},{label:"Showing to Camera",value:"showing to camera"},{label:"Unboxing",value:"unboxing it"},{label:"Applying",value:"applying it"},{label:"Placing on Surface",value:"placing on surface"}],Fd=[{label:"Female",value:"female"},{label:"Male",value:"male"}],Vd=[{label:"Smartphone",value:"shot on a modern smartphone"},{label:"Selfie Cam",value:"shot on a front-facing selfie camera"},{label:"DSLR/Mirrorless",value:"shot on a professional DSLR/Mirrorless camera with a shallow depth of field"},{label:"Webcam",value:"shot on a laptop webcam"},{label:"Point & Shoot",value:"shot on a digital point-and-shoot camera, flash aesthetic"}],Gd=[{label:"100",value:"ISO 100, no noise, very clean"},{label:"200",value:"ISO 200, clean with great detail"},{label:"400",value:"ISO 400, slight grain, very natural"},{label:"800",value:"ISO 800, noticeable grain, good for low light"},{label:"1600",value:"ISO 1600, prominent grain, documentary style"},{label:"3200",value:"ISO 3200, heavy grain, artistic low light style"}],qd=[{label:"Eye-Level",value:"eye-level shot"},{label:"POV",value:"point-of-view (POV) from the user's perspective"},{label:"High Angle",value:"shot from a high angle, looking down"},{label:"Low Angle",value:"shot from a low angle, looking up"},{label:"Close-Up",value:"a detailed close-up on the product"}],Hd=[{label:"16:9 (Widescreen)",value:"16:9"},{label:"9:16 (Vertical)",value:"9:16"},{label:"1:1 (Square)",value:"1:1"}],Bd=[{label:"None",value:"none"},{label:"Frontal Selfie",value:"frontal selfie"},{label:"From Below",value:"selfie taken from below"},{label:"From Above",value:"selfie taken from above"},{label:"Angled ",value:"angled 3/4 selfie"},{label:"Mirror Reflection",value:"mirror reflection selfie"},{label:"Hand-Holding Close-Up",value:"close-up shot of a hand holding the product"}],zd=[{label:"African Descent",value:"of African descent"},{label:"Latino",value:"Latino"},{label:"Asian",value:"Asian"},{label:"Caucasian",value:"Caucasian"},{label:"Middle Eastern",value:"Middle Eastern"},{label:"Mixed",value:"of mixed ethnicity"}],P0=({onImageUpload:n,uploadedImagePreview:e})=>{const[t,o]=G.useState(!1),r=c=>{c.target.files&&c.target.files[0]&&n(c.target.files[0])},i=G.useCallback(c=>{c.preventDefault(),c.stopPropagation(),o(!1),c.dataTransfer.files&&c.dataTransfer.files[0]&&n(c.dataTransfer.files[0])},[n]),s=G.useCallback(c=>{c.preventDefault(),c.stopPropagation()},[]),a=G.useCallback(c=>{c.preventDefault(),c.stopPropagation(),o(!0)},[]),d=G.useCallback(c=>{c.preventDefault(),c.stopPropagation(),o(!1)},[]);return _.jsxs("div",{className:"flex flex-col items-center justify-center w-full p-4 bg-gray-800 rounded-lg border-2 border-dashed border-gray-600",children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-4",children:"1. Upload Product Image"}),_.jsxs("div",{className:`relative w-full h-40 flex items-center justify-center rounded-md transition-all duration-300 ${t?"bg-gray-700":""}`,onDrop:i,onDragOver:s,onDragEnter:a,onDragLeave:d,children:[e?_.jsx("img",{src:e,alt:"Product Preview",className:"max-h-full max-w-full object-contain rounded-md"}):_.jsxs("div",{className:"text-center text-gray-400",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),_.jsx("p",{children:"Drag & drop or click to upload"})]}),_.jsx("input",{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:r,accept:"image/png, image/jpeg, image/webp"})]})]})},Np=()=>_.jsx("div",{className:"flex justify-center items-center h-full",children:_.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-indigo-500"})}),R0=({imageUrl:n,isImageLoading:e,imageError:t,onReset:o})=>{const r=()=>{if(!n)return;const i=document.createElement("a");i.href=n,i.download="ai-mockup.png",document.body.appendChild(i),i.click(),document.body.removeChild(i)};return _.jsxs("div",{className:"flex flex-col items-center justify-center w-full p-4 bg-gray-800 rounded-lg border-2 border-dashed border-gray-600",children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-4",children:"3. Generated Mockup"}),_.jsxs("div",{className:"relative w-full h-full min-h-[40rem] flex items-center justify-center rounded-md bg-gray-900/50",children:[e?_.jsxs("div",{className:"text-center",children:[_.jsx(Np,{}),_.jsx("p",{className:"mt-4 text-gray-400",children:"Generating Image..."})]}):t?_.jsxs("div",{className:"text-center text-red-400 px-4",children:[_.jsx("p",{className:"font-semibold",children:"Generation Failed"}),_.jsx("p",{className:"text-sm",children:t})]}):n?_.jsx("img",{src:n,alt:"Generated Mockup",className:"max-h-full max-w-full object-contain rounded-md"}):_.jsxs("div",{className:"text-center text-gray-500",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14"})}),_.jsx("p",{children:"Your generated mockup will appear here"})]}),(n||t)&&!e&&_.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center space-x-2",children:[_.jsxs("button",{onClick:o,className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300 ease-in-out flex items-center space-x-2 shadow-lg","aria-label":"Reset",children:[_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h5M20 20v-5h-5"}),_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 9a9 9 0 0114.13-5.12M20 15a9 9 0 01-14.13 5.12"})]}),_.jsx("span",{children:"Reset"})]}),n&&_.jsxs("button",{onClick:r,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300 ease-in-out flex items-center space-x-2 shadow-lg","aria-label":"Download Image",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:_.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),_.jsx("span",{children:"Download"})]})]})]})]})},N0=({videoPrompt:n,onPromptChange:e,onGenerateVideo:t,isVideoLoading:o,videoError:r,generatedVideoUrl:i,isGenerating:s})=>_.jsxs("div",{className:"flex flex-col items-center justify-center w-full p-4 bg-gray-800 rounded-lg border-2 border-dashed border-gray-600",children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-4 w-full",children:"4. Generate Video (Optional)"}),_.jsxs("div",{className:"w-full space-y-4",children:[_.jsxs("div",{className:"flex flex-col space-y-2",children:[_.jsx("label",{htmlFor:"video-prompt",className:"text-sm font-medium text-gray-400",children:"Describe how the image should animate:"}),_.jsx("input",{id:"video-prompt",type:"text",value:n,onChange:e,placeholder:"e.g., steam rises from the cup, subtle wind blows",className:"bg-gray-700 border border-gray-600 rounded-md p-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out"})]}),_.jsx("button",{onClick:t,disabled:s||!n,className:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-purple-900/50 disabled:cursor-not-allowed text-white font-bold py-3 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105 shadow-lg",children:o?"Generating Video...":"Generate Video"})]}),_.jsx("div",{className:"relative w-full min-h-[10rem] flex items-center justify-center rounded-md bg-gray-900/50 mt-4",children:o?_.jsxs("div",{className:"text-center",children:[_.jsx(Np,{}),_.jsx("p",{className:"mt-4 text-gray-400 max-w-xs px-2",children:"Generating video... This can take a few minutes. Please be patient."})]}):r?_.jsxs("div",{className:"text-center text-red-400 px-4",children:[_.jsx("p",{className:"font-semibold",children:"Video Generation Failed"}),_.jsx("p",{className:"text-sm",children:r})]}):i?_.jsx("video",{src:i,controls:!0,autoPlay:!0,loop:!0,className:"max-h-full max-w-full object-contain rounded-md"}):_.jsxs("div",{className:"text-center text-gray-500",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 10l4.55a2.5 2.5 0 010 4.09L15 18M5 8v8a2 2 0 002 2h4a2 2 0 002-2V8a2 2 0 00-2-2H7a2 2 0 00-2 2z"})}),_.jsx("p",{children:"Your generated video will appear here"})]})})]}),Oi=({title:n,children:e,isOpen:t,onToggle:o})=>_.jsxs("div",{className:"border-b border-gray-700 last:border-b-0",children:[_.jsxs("button",{onClick:o,className:"w-full flex justify-between items-center py-3 text-left text-md font-semibold text-gray-200 hover:bg-gray-700/50 px-2 rounded-t-md transition-colors","aria-expanded":t,children:[_.jsx("span",{children:n}),_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`w-5 h-5 transform transition-transform duration-300 text-gray-400 ${t?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t&&_.jsx("div",{className:"pt-2 pb-4 px-2",children:e})]}),Ae=({label:n,options:e,selectedValue:t,onChange:o,disabled:r=!1})=>_.jsxs("div",{className:"flex flex-col space-y-3",children:[_.jsx("label",{className:"text-sm font-medium text-gray-400",children:n}),_.jsx("div",{children:_.jsx("div",{className:"flex flex-nowrap lg:flex-wrap gap-2 py-2 overflow-x-auto lg:overflow-visible custom-scrollbar",children:e.map(i=>_.jsx("button",{onClick:()=>!r&&o(i.value),disabled:r,className:`
                px-3 py-1.5 text-sm font-medium rounded-full transition-all duration-200 ease-in-out
                border whitespace-nowrap flex-shrink-0
                ${t===i.value?"bg-indigo-500 border-indigo-400 text-white shadow-md":"bg-gray-700 border-gray-600 text-gray-300 hover:enabled:bg-gray-600 hover:enabled:border-gray-500"}
                ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}
              `,"aria-pressed":t===i.value,children:i.label},i.value))})})]}),x0=({editPrompt:n,onPromptChange:e,onEditImage:t,isEditing:o})=>_.jsxs("div",{className:"flex flex-col items-center justify-center w-full p-4 bg-gray-800 rounded-lg border-2 border-dashed border-gray-600",children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-4 w-full",children:"Edit Your Mockup"}),_.jsxs("div",{className:"w-full space-y-4",children:[_.jsxs("div",{className:"flex flex-col space-y-2",children:[_.jsx("label",{htmlFor:"edit-prompt",className:"text-sm font-medium text-gray-400",children:"Describe your edit:"}),_.jsx("input",{id:"edit-prompt",type:"text",value:n,onChange:e,placeholder:"e.g., make the background blurry, add a cat on the sofa",className:"bg-gray-700 border border-gray-600 rounded-md p-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out",disabled:o})]}),_.jsx("button",{onClick:t,disabled:o||!n,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-green-900/50 disabled:cursor-not-allowed text-white font-bold py-3 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105 shadow-lg",children:o?"Applying Edit...":"Apply Edit"})]})]}),Wi="ugc-product-mockup-generator-api-key",M0=()=>{},k0=n=>new Promise((e,t)=>{const o=new FileReader;o.readAsDataURL(n),o.onload=()=>{const r=o.result,[i,s]=r.split(";base64,");e({base64:s,mimeType:i.replace("data:","")})},o.onerror=r=>t(r)}),D0=()=>{const n=M0(),[e,t]=G.useState({lighting:Nd[0].value,setting:xd[0].value,environmentOrder:kd[0].value,ageGroup:Dd[5].value,camera:Vd[0].value,iso:Gd[0].value,perspective:qd[0].value,aspectRatio:Hd[0].value,selfieType:Bd[0].value,ethnicity:zd[0].value,gender:Fd[0].value,personAppearance:Ld[0].value,productMaterial:Md[0].value,productInteraction:Ud[0].value}),[o,r]=G.useState(null),[i,s]=G.useState(null),[a,d]=G.useState(null),[c,f]=G.useState(!1),[p,m]=G.useState(null),[g,T]=G.useState(""),[E,P]=G.useState(n??""),[v,h]=G.useState(""),[y,S]=G.useState(null),[C,I]=G.useState(!1),[w,N]=G.useState(""),[D,k]=G.useState(!1),[B,z]=G.useState(null),[se,ke]=G.useState(null),[ft,Te]=G.useState(!1),[Ye,M]=G.useState(!!n),[U,F]=G.useState("Scene & Product"),[Z,te]=G.useState(new Set),cn=["Scene & Product","Photography","Person Details"];G.useEffect(()=>{if(typeof window>"u")return;const R=window.aistudio;Te(!!R);const q=window.localStorage.getItem(Wi);if(q){P(q),h(q),M(!0),I(!0);return}if(n){M(!0);return}(async()=>{R&&await R.hasSelectedApiKey()&&M(!0)})()},[n]);const on=G.useCallback(()=>{typeof window<"u"&&window.localStorage.removeItem(Wi),I(!1)},[]),An=G.useCallback(()=>{P(""),h(""),M(!1)},[]),Ee=G.useCallback(()=>{C&&on(),An()},[C,on,An]),Qn=G.useCallback(()=>{const R=v.trim();if(!R){S("Please enter a valid Gemini API key.");return}typeof window<"u"&&window.localStorage.setItem(Wi,R),P(R),M(!0),S(null),I(!0)},[v]),Mp=G.useCallback(R=>{h(R),y&&S(null)},[y]),kp=async()=>{if(typeof window>"u")return;const R=window.aistudio;R&&(await R.openSelectKey(),M(!0))},gi=G.useCallback(R=>{const q=E||n;return q||(R("Please configure your Gemini API key to continue."),An(),null)},[E,n,An]),yi=R=>{F(q=>q===R?null:R)},we=(R,q,J)=>{const qe={...e,[R]:q};t(qe);const pe=new Set(Z).add(R);te(pe);const He=()=>{const fn=cn.indexOf(J);fn!==-1&&fn<cn.length-1?F(cn[fn+1]):fn===cn.length-1&&F(null)};let Zt={"Scene & Product":["productMaterial","setting","environmentOrder"],Photography:["lighting","camera","iso","perspective","aspectRatio"],"Person Details":["ageGroup","personAppearance","productInteraction","gender","ethnicity","selfieType"]}[J];if(!Zt)return;J==="Person Details"&&qe.ageGroup==="no person"&&(Zt=["ageGroup"]),Zt.every(fn=>pe.has(fn))&&He()},$o=G.useCallback(()=>{d(null),m(null),z(null),ke(null),k(!1),N(""),T(""),te(new Set),F("Scene & Product")},[]),Dp=G.useCallback(R=>{const q=["image/png","image/jpeg","image/webp"];if($o(),!q.includes(R.type)){m("Unsupported file type. Please upload a PNG, JPEG, or WebP image."),r(null),s(null);return}r(R);const J=URL.createObjectURL(R);s(J)},[$o]),Lp=()=>{const R=e.ageGroup!=="no person",q=qe=>{switch(qe){case"holding it naturally":return"holding the product naturally and comfortably.";case"using it":return"using the product naturally as intended.";case"showing to camera":return"showing the product close to the camera.";case"unboxing it":return"unboxing the product with excitement.";case"applying it":return"applying the product to their skin or body.";case"placing on surface":return"placing the product carefully on a nearby surface.";default:return`interacting with the product in a way that is ${qe}.`}};let J=`Create an ultra-realistic, authentic UGC (User Generated Content) style lifestyle photo with a ${e.aspectRatio} aspect ratio. The photo must look genuine, emotional, and cinematic, as if taken by a real person with a ${e.camera}. `;return J+=`The scene is a ${e.setting}, illuminated by ${e.lighting}. The overall environment has a ${e.environmentOrder} feel. The photo is shot from a ${e.perspective}. The camera settings should reflect ${e.iso}, creating a natural look. `,J+=`The focus is on the provided product, which has a ${e.productMaterial} finish. Place this exact product into the scene naturally. Ensure its material, reflections, and shadows are rendered realistically according to the environment. Do not alter the product's design or branding. `,R&&(J+=`The photo features a ${e.gender} person, age ${e.ageGroup}, of ${e.ethnicity} ethnicity, who has a ${e.personAppearance}. `,e.selfieType==="close-up shot of a hand holding the product"?J+="The shot is a close-up of their hand holding the product naturally. ":(J+=`The person is ${q(e.productInteraction)} Their face and upper body are visible, and the interaction looks unposed and authentic. `,e.selfieType!=="none"&&(J+=`The style is a ${e.selfieType}. `))),J+="Final image must be high-resolution and free of any watermarks, text, or artificial elements. It should feel like a captured moment, not a staged ad.",J},Up=async()=>{if(!o){m("Please upload a product image first.");return}$o(),f(!0);try{const R=gi(m);if(!R){f(!1);return}const q=new $i({apiKey:R}),{base64:J,mimeType:qe}=await k0(o),pe=Lp(),He=await q.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{inlineData:{data:J,mimeType:qe}},{text:pe}]},config:{responseModalities:[Jt.IMAGE]}});for(const rn of He.candidates[0].content.parts)if(rn.inlineData){d(`data:image/png;base64,${rn.inlineData.data}`);return}throw new Error("Image generation failed or returned no images.")}catch(R){console.error(R);let q=String(R);try{const J=JSON.parse(q);J.error&&J.error.message&&(q=String(J.error.message))}catch{}q.includes("Requested entity was not found")?(m("Your API Key is invalid. Please select a valid key to continue."),Ee()):q.toLowerCase().includes("quota")?(m("API quota exceeded. Please select a different API key, or check your current key's plan and billing details."),Ee()):m(q)}finally{f(!1)}},Fp=async()=>{if(!a||!g){m("Cannot edit without an image and a prompt.");return}f(!0),m(null);try{const R=gi(m);if(!R){f(!1);return}const q=new $i({apiKey:R}),J=a.split(",")[1],qe=await q.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{inlineData:{data:J,mimeType:"image/png"}},{text:g}]},config:{responseModalities:[Jt.IMAGE]}});for(const pe of qe.candidates[0].content.parts)if(pe.inlineData){d(`data:image/png;base64,${pe.inlineData.data}`),T("");return}throw new Error("Image edit failed or returned no images.")}catch(R){console.error(R);let q=String(R);try{const J=JSON.parse(q);J.error&&J.error.message&&(q=String(J.error.message))}catch{}q.includes("Requested entity was not found")?(m("Your API Key is invalid. Please select a valid key to continue."),Ee()):q.toLowerCase().includes("quota")?(m("API quota exceeded. Please select a different API key, or check your current key's plan and billing details."),Ee()):m(q)}finally{f(!1)}},Vp=async()=>{var R,q,J,qe;if(!a){ke("An image must be generated first.");return}k(!0),ke(null),z(null);try{const pe=gi(Oo=>ke(Oo));if(!pe){k(!1);return}const He=new $i({apiKey:pe}),rn=a.split(",")[1],Zt=()=>e.aspectRatio==="1:1"?"9:16":e.aspectRatio;let Xn=await He.models.generateVideos({model:"veo-3.1-fast-generate-preview",prompt:w,image:{imageBytes:rn,mimeType:"image/png"},config:{numberOfVideos:1,resolution:"720p",aspectRatio:Zt()}});for(;!Xn.done;)await new Promise(Oo=>setTimeout(Oo,1e4)),Xn=await He.operations.getVideosOperation({operation:Xn});if(Xn.error)throw new Error(Xn.error.message||"Video generation failed with an unknown error.");const fn=(qe=(J=(q=(R=Xn.response)==null?void 0:R.generatedVideos)==null?void 0:q[0])==null?void 0:J.video)==null?void 0:qe.uri;if(fn){const qp=await(await fetch(`${fn}&key=${pe}`)).blob();z(URL.createObjectURL(qp))}else throw new Error("Video generation completed but no download link was provided.")}catch(pe){console.error(pe);let He=pe instanceof Error?pe.message:String(pe);try{const rn=JSON.parse(He);rn.error&&rn.error.message&&(He=String(rn.error.message))}catch{}He.includes("Requested entity was not found")?(ke("Your API Key is invalid. Please select a valid key to continue."),Ee()):He.toLowerCase().includes("quota")?(ke("API quota exceeded. Please select a different API key, or check your current key's plan and billing details."),Ee()):ke(He)}finally{k(!1)}},Xt=e.ageGroup==="no person",Gp=()=>_.jsxs("div",{className:"absolute inset-0 bg-gray-900 bg-opacity-90 flex flex-col justify-center items-center z-10 p-8 text-center rounded-lg",children:[_.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"API Key Required"}),_.jsxs("p",{className:"mb-6 text-gray-300 max-w-md",children:["To generate mockups, set a Gemini API key. You can paste a key below or define ",_.jsx("code",{className:"font-mono",children:"VITE_GEMINI_API_KEY"})," in a local ",_.jsx("code",{className:"font-mono",children:".env"})," file when building the app."]}),ft&&_.jsx("button",{onClick:kp,className:"mb-6 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg transition duration-300 ease-in-out transform hover:scale-105 shadow-lg",children:"Select API Key from AI Studio"}),_.jsxs("div",{className:"w-full max-w-md space-y-3",children:[_.jsx("input",{type:"password",placeholder:"AI... or ya29...",value:v,onChange:R=>Mp(R.target.value),onKeyDown:R=>{R.key==="Enter"&&(R.preventDefault(),Qn())},className:"w-full rounded-lg border border-gray-700 bg-gray-800 px-4 py-3 text-white focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"}),_.jsx("button",{onClick:Qn,disabled:!v.trim(),className:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-purple-900/40 disabled:cursor-not-allowed text-white font-bold py-3 px-6 rounded-lg transition duration-300 ease-in-out shadow-lg",children:"Save API Key"}),y&&_.jsx("p",{className:"text-sm text-red-400",children:y})]}),_.jsxs("p",{className:"mt-4 text-xs text-gray-500 max-w-md",children:["Keys saved here live only in this browser's local storage. Visit the"," ",_.jsx("a",{href:"https://ai.google.dev/gemini-api/docs/billing",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-indigo-400",children:"Gemini API docs"})," ","to review quotas and billing."]})]});return _.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-4 sm:p-6 lg:p-8",children:_.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[!Ye&&_.jsx(Gp,{}),_.jsxs("header",{className:"text-center mb-8",children:[_.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-purple-500",children:"Universal AI Mockup Generator"}),_.jsx("p",{className:"mt-2 text-lg text-gray-400",children:"Generate photo-realistic UGC-style images for your products in seconds."}),Ye&&C&&_.jsx("button",{onClick:Ee,className:"mt-4 inline-flex items-center justify-center rounded-lg border border-gray-600 px-4 py-2 text-sm font-semibold text-gray-200 hover:bg-gray-800 transition",children:"Change API Key"})]}),_.jsx("main",{className:"flex flex-col gap-8",children:_.jsxs("fieldset",{disabled:!Ye,className:"contents",children:[_.jsx(P0,{onImageUpload:Dp,uploadedImagePreview:i}),_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[_.jsxs("div",{className:"lg:col-span-1 bg-gray-800/50 p-6 rounded-lg shadow-lg border border-gray-700 flex flex-col max-h-[calc(100vh-12rem)]",children:[_.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-200 border-b border-gray-600 pb-3 flex-shrink-0",children:"2. Customize Your Mockup"}),_.jsxs("div",{className:"flex-grow overflow-y-auto custom-scrollbar -mr-4 pr-4",children:[_.jsx(Oi,{title:"Scene & Product",isOpen:U==="Scene & Product",onToggle:()=>yi("Scene & Product"),children:_.jsxs("div",{className:"space-y-4",children:[_.jsx(Ae,{label:"Product Material",options:Md,selectedValue:e.productMaterial,onChange:R=>we("productMaterial",R,"Scene & Product")}),_.jsx(Ae,{label:"Location / Setting",options:xd,selectedValue:e.setting,onChange:R=>we("setting",R,"Scene & Product")}),_.jsx(Ae,{label:"Environment Order",options:kd,selectedValue:e.environmentOrder,onChange:R=>we("environmentOrder",R,"Scene & Product")})]})}),_.jsx(Oi,{title:"Photography",isOpen:U==="Photography",onToggle:()=>yi("Photography"),children:_.jsxs("div",{className:"space-y-4",children:[_.jsx(Ae,{label:"Lighting",options:Nd,selectedValue:e.lighting,onChange:R=>we("lighting",R,"Photography")}),_.jsx(Ae,{label:"Camera Type",options:Vd,selectedValue:e.camera,onChange:R=>we("camera",R,"Photography")}),_.jsx(Ae,{label:"ISO",options:Gd,selectedValue:e.iso,onChange:R=>we("iso",R,"Photography")}),_.jsx(Ae,{label:"Perspective",options:qd,selectedValue:e.perspective,onChange:R=>we("perspective",R,"Photography")}),_.jsx(Ae,{label:"Aspect Ratio",options:Hd,selectedValue:e.aspectRatio,onChange:R=>we("aspectRatio",R,"Photography")})]})}),_.jsx(Oi,{title:"Person Details",isOpen:U==="Person Details",onToggle:()=>yi("Person Details"),children:_.jsxs("div",{className:"space-y-4",children:[_.jsx(Ae,{label:"Age Group",options:Dd,selectedValue:e.ageGroup,onChange:R=>we("ageGroup",R,"Person Details")}),_.jsx(Ae,{label:"Appearance Level",options:Ld,selectedValue:e.personAppearance,onChange:R=>we("personAppearance",R,"Person Details"),disabled:Xt}),_.jsx(Ae,{label:"Product Interaction",options:Ud,selectedValue:e.productInteraction,onChange:R=>we("productInteraction",R,"Person Details"),disabled:Xt}),_.jsx(Ae,{label:"Gender",options:Fd,selectedValue:e.gender,onChange:R=>we("gender",R,"Person Details"),disabled:Xt}),_.jsx(Ae,{label:"Ethnicity",options:zd,selectedValue:e.ethnicity,onChange:R=>we("ethnicity",R,"Person Details"),disabled:Xt}),_.jsx(Ae,{label:"Selfie Type",options:Bd,selectedValue:e.selfieType,onChange:R=>we("selfieType",R,"Person Details"),disabled:Xt})]})})]}),_.jsx("div",{className:"mt-8 flex-shrink-0",children:_.jsx("button",{onClick:Up,disabled:c||!o,className:"w-full bg-indigo-600 hover:bg-indigo-700 disabled:bg-indigo-900/50 disabled:cursor-not-allowed text-white font-bold py-3 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105 shadow-lg",children:c?"Generating...":"Generate Mockup"})})]}),_.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-8",children:[_.jsx(R0,{imageUrl:a,isImageLoading:c,imageError:p,onReset:$o}),a&&_.jsx(x0,{editPrompt:g,onPromptChange:R=>T(R.target.value),onEditImage:Fp,isEditing:c}),a&&_.jsx(N0,{videoPrompt:w,onPromptChange:R=>N(R.target.value),onGenerateVideo:Vp,isVideoLoading:D,videoError:se,generatedVideoUrl:B,isGenerating:D||c})]})]})]})})]})})},xp=document.getElementById("root");if(!xp)throw new Error("Could not find root element to mount to");const L0=Ki.createRoot(xp);L0.render(_.jsx(tm.StrictMode,{children:_.jsx(D0,{})}));
